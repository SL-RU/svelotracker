ARM GAS  /tmp/ccsIaK4U.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 23, 1
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"compass.c"
  12              		.section	.text.compass_register_read,"ax",%progbits
  13              		.align	1
  14              		.p2align 2,,3
  15              		.global	compass_register_read
  16              		.syntax unified
  17              		.thumb
  18              		.thumb_func
  19              		.fpu fpv4-sp-d16
  21              	compass_register_read:
  22              		@ args = 0, pretend = 0, frame = 16
  23              		@ frame_needed = 0, uses_anonymous_args = 0
  24 0000 70B5     		push	{r4, r5, r6, lr}
  25 0002 0E4C     		ldr	r4, .L3
  26 0004 86B0     		sub	sp, sp, #24
  27 0006 6425     		movs	r5, #100
  28 0008 8DF80F00 		strb	r0, [sp, #15]
  29 000c 0DF10F02 		add	r2, sp, #15
  30 0010 2046     		mov	r0, r4
  31 0012 0095     		str	r5, [sp]
  32 0014 0026     		movs	r6, #0
  33 0016 0123     		movs	r3, #1
  34 0018 3A21     		movs	r1, #58
  35 001a 8DF81760 		strb	r6, [sp, #23]
  36 001e FFF7FEFF 		bl	HAL_I2C_Master_Transmit
  37 0022 0095     		str	r5, [sp]
  38 0024 2046     		mov	r0, r4
  39 0026 0123     		movs	r3, #1
  40 0028 0DF11702 		add	r2, sp, #23
  41 002c 3A21     		movs	r1, #58
  42 002e FFF7FEFF 		bl	HAL_I2C_Master_Receive
  43 0032 9DF81700 		ldrb	r0, [sp, #23]	@ zero_extendqisi2
  44 0036 06B0     		add	sp, sp, #24
  45              		@ sp needed
  46 0038 70BD     		pop	{r4, r5, r6, pc}
  47              	.L4:
  48 003a 00BF     		.align	2
  49              	.L3:
  50 003c 00000000 		.word	hi2c1
  52              		.section	.text.compass_register_write,"ax",%progbits
  53              		.align	1
  54              		.p2align 2,,3
  55              		.global	compass_register_write
  56              		.syntax unified
  57              		.thumb
  58              		.thumb_func
  59              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccsIaK4U.s 			page 2


  61              	compass_register_write:
  62              		@ args = 0, pretend = 0, frame = 8
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64 0000 00B5     		push	{lr}
  65 0002 85B0     		sub	sp, sp, #20
  66 0004 6423     		movs	r3, #100
  67 0006 8DF80C00 		strb	r0, [sp, #12]
  68 000a 8DF80D10 		strb	r1, [sp, #13]
  69 000e 0093     		str	r3, [sp]
  70 0010 03AA     		add	r2, sp, #12
  71 0012 0223     		movs	r3, #2
  72 0014 3A21     		movs	r1, #58
  73 0016 0348     		ldr	r0, .L7
  74 0018 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
  75 001c 05B0     		add	sp, sp, #20
  76              		@ sp needed
  77 001e 5DF804FB 		ldr	pc, [sp], #4
  78              	.L8:
  79 0022 00BF     		.align	2
  80              	.L7:
  81 0024 00000000 		.word	hi2c1
  83              		.global	__aeabi_i2d
  84              		.global	__aeabi_d2f
  85              		.section	.text.HAL_GPIO_EXTI_Callback,"ax",%progbits
  86              		.align	1
  87              		.p2align 2,,3
  88              		.global	HAL_GPIO_EXTI_Callback
  89              		.syntax unified
  90              		.thumb
  91              		.thumb_func
  92              		.fpu fpv4-sp-d16
  94              	HAL_GPIO_EXTI_Callback:
  95              		@ args = 0, pretend = 0, frame = 16
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  98 0002 2DED028B 		vpush.64	{d8}
  99 0006 87B0     		sub	sp, sp, #28
 100 0008 06AA     		add	r2, sp, #24
 101 000a 264C     		ldr	r4, .L11
 102 000c 264F     		ldr	r7, .L11+4
 103 000e 6425     		movs	r5, #100
 104 0010 0823     		movs	r3, #8
 105 0012 02F8093D 		strb	r3, [r2, #-9]!
 106 0016 2046     		mov	r0, r4
 107 0018 0095     		str	r5, [sp]
 108 001a 0123     		movs	r3, #1
 109 001c 3A21     		movs	r1, #58
 110 001e FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 111 0022 0095     		str	r5, [sp]
 112 0024 04AA     		add	r2, sp, #16
 113 0026 2046     		mov	r0, r4
 114 0028 0623     		movs	r3, #6
 115 002a 3A21     		movs	r1, #58
 116 002c FFF7FEFF 		bl	HAL_I2C_Master_Receive
 117 0030 9DF81110 		ldrb	r1, [sp, #17]	@ zero_extendqisi2
 118 0034 9DF81320 		ldrb	r2, [sp, #19]	@ zero_extendqisi2
 119 0038 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
ARM GAS  /tmp/ccsIaK4U.s 			page 3


 120 003c 9DF81060 		ldrb	r6, [sp, #16]	@ zero_extendqisi2
 121 0040 9DF81250 		ldrb	r5, [sp, #18]	@ zero_extendqisi2
 122 0044 9DF81440 		ldrb	r4, [sp, #20]	@ zero_extendqisi2
 123 0048 1848     		ldr	r0, .L11+8
 124 004a 06EB0126 		add	r6, r6, r1, lsl #8
 125 004e 05EB0225 		add	r5, r5, r2, lsl #8
 126 0052 04EB0324 		add	r4, r4, r3, lsl #8
 127 0056 2346     		mov	r3, r4
 128 0058 2A46     		mov	r2, r5
 129 005a 3146     		mov	r1, r6
 130 005c 04FB04F4 		mul	r4, r4, r4
 131 0060 FFF7FEFF 		bl	printf
 132 0064 05FB0540 		mla	r0, r5, r5, r4
 133 0068 FFF7FEFF 		bl	__aeabi_i2d
 134 006c 41EC100B 		vmov	d0, r0, r1
 135 0070 FFF7FEFF 		bl	sqrt
 136 0074 3046     		mov	r0, r6
 137 0076 B0EE408A 		vmov.f32	s16, s0
 138 007a F0EE608A 		vmov.f32	s17, s1
 139 007e FFF7FEFF 		bl	__aeabi_i2d
 140 0082 B0EE481A 		vmov.f32	s2, s16
 141 0086 F0EE681A 		vmov.f32	s3, s17
 142 008a 41EC100B 		vmov	d0, r0, r1
 143 008e FFF7FEFF 		bl	atan2
 144 0092 51EC100B 		vmov	r0, r1, d0
 145 0096 FFF7FEFF 		bl	__aeabi_d2f
 146 009a 3860     		str	r0, [r7]	@ float
 147 009c 07B0     		add	sp, sp, #28
 148              		@ sp needed
 149 009e BDEC028B 		vldm	sp!, {d8}
 150 00a2 F0BD     		pop	{r4, r5, r6, r7, pc}
 151              	.L12:
 152              		.align	2
 153              	.L11:
 154 00a4 00000000 		.word	hi2c1
 155 00a8 00000000 		.word	.LANCHOR0
 156 00ac 00000000 		.word	.LC0
 158              		.section	.text.compass_init,"ax",%progbits
 159              		.align	1
 160              		.p2align 2,,3
 161              		.global	compass_init
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 165              		.fpu fpv4-sp-d16
 167              	compass_init:
 168              		@ args = 0, pretend = 0, frame = 16
 169              		@ frame_needed = 0, uses_anonymous_args = 0
 170 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 171 0002 3E4C     		ldr	r4, .L15
 172 0004 87B0     		sub	sp, sp, #28
 173 0006 6425     		movs	r5, #100
 174 0008 04AA     		add	r2, sp, #16
 175 000a 2046     		mov	r0, r4
 176 000c 0095     		str	r5, [sp]
 177 000e 2227     		movs	r7, #34
 178 0010 CA26     		movs	r6, #202
ARM GAS  /tmp/ccsIaK4U.s 			page 4


 179 0012 0223     		movs	r3, #2
 180 0014 3A21     		movs	r1, #58
 181 0016 8DF81070 		strb	r7, [sp, #16]
 182 001a 8DF81160 		strb	r6, [sp, #17]
 183 001e 2327     		movs	r7, #35
 184 0020 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 185 0024 0026     		movs	r6, #0
 186 0026 04AA     		add	r2, sp, #16
 187 0028 0095     		str	r5, [sp]
 188 002a 2046     		mov	r0, r4
 189 002c 0223     		movs	r3, #2
 190 002e 3A21     		movs	r1, #58
 191 0030 8DF81070 		strb	r7, [sp, #16]
 192 0034 8DF81160 		strb	r6, [sp, #17]
 193 0038 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 194 003c 1221     		movs	r1, #18
 195 003e 04AA     		add	r2, sp, #16
 196 0040 8DF81010 		strb	r1, [sp, #16]
 197 0044 0095     		str	r5, [sp]
 198 0046 2046     		mov	r0, r4
 199 0048 2127     		movs	r7, #33
 200 004a 0223     		movs	r3, #2
 201 004c 3A21     		movs	r1, #58
 202 004e 8DF81170 		strb	r7, [sp, #17]
 203 0052 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 204 0056 2421     		movs	r1, #36
 205 0058 04AA     		add	r2, sp, #16
 206 005a 8DF81010 		strb	r1, [sp, #16]
 207 005e 0095     		str	r5, [sp]
 208 0060 2046     		mov	r0, r4
 209 0062 7027     		movs	r7, #112
 210 0064 0223     		movs	r3, #2
 211 0066 3A21     		movs	r1, #58
 212 0068 8DF81170 		strb	r7, [sp, #17]
 213 006c FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 214 0070 2521     		movs	r1, #37
 215 0072 04AA     		add	r2, sp, #16
 216 0074 8DF81010 		strb	r1, [sp, #16]
 217 0078 0095     		str	r5, [sp]
 218 007a 2046     		mov	r0, r4
 219 007c 2027     		movs	r7, #32
 220 007e 0223     		movs	r3, #2
 221 0080 3A21     		movs	r1, #58
 222 0082 8DF81170 		strb	r7, [sp, #17]
 223 0086 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 224 008a 1127     		movs	r7, #17
 225 008c 2621     		movs	r1, #38
 226 008e 04AA     		add	r2, sp, #16
 227 0090 8DF81010 		strb	r1, [sp, #16]
 228 0094 8DF81170 		strb	r7, [sp, #17]
 229 0098 0095     		str	r5, [sp]
 230 009a 0F27     		movs	r7, #15
 231 009c 2046     		mov	r0, r4
 232 009e 0223     		movs	r3, #2
 233 00a0 3A21     		movs	r1, #58
 234 00a2 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 235 00a6 0DEB0702 		add	r2, sp, r7
ARM GAS  /tmp/ccsIaK4U.s 			page 5


 236 00aa 0095     		str	r5, [sp]
 237 00ac 2046     		mov	r0, r4
 238 00ae 0123     		movs	r3, #1
 239 00b0 3A21     		movs	r1, #58
 240 00b2 8DF81060 		strb	r6, [sp, #16]
 241 00b6 8DF80F70 		strb	r7, [sp, #15]
 242 00ba FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 243 00be 04AA     		add	r2, sp, #16
 244 00c0 0123     		movs	r3, #1
 245 00c2 0095     		str	r5, [sp]
 246 00c4 2046     		mov	r0, r4
 247 00c6 3A21     		movs	r1, #58
 248 00c8 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 249 00cc 9DF81010 		ldrb	r1, [sp, #16]	@ zero_extendqisi2
 250 00d0 0B48     		ldr	r0, .L15+4
 251 00d2 FFF7FEFF 		bl	printf
 252 00d6 06AA     		add	r2, sp, #24
 253 00d8 0823     		movs	r3, #8
 254 00da 02F80A3D 		strb	r3, [r2, #-10]!
 255 00de 2046     		mov	r0, r4
 256 00e0 0095     		str	r5, [sp]
 257 00e2 0123     		movs	r3, #1
 258 00e4 3A21     		movs	r1, #58
 259 00e6 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 260 00ea 0095     		str	r5, [sp]
 261 00ec 04AA     		add	r2, sp, #16
 262 00ee 2046     		mov	r0, r4
 263 00f0 0123     		movs	r3, #1
 264 00f2 3A21     		movs	r1, #58
 265 00f4 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 266 00f8 07B0     		add	sp, sp, #28
 267              		@ sp needed
 268 00fa F0BD     		pop	{r4, r5, r6, r7, pc}
 269              	.L16:
 270              		.align	2
 271              	.L15:
 272 00fc 00000000 		.word	hi2c1
 273 0100 00000000 		.word	.LC1
 275              		.section	.text.compass_get_angle,"ax",%progbits
 276              		.align	1
 277              		.p2align 2,,3
 278              		.global	compass_get_angle
 279              		.syntax unified
 280              		.thumb
 281              		.thumb_func
 282              		.fpu fpv4-sp-d16
 284              	compass_get_angle:
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              		@ link register save eliminated.
 288 0000 0048     		ldr	r0, .L18
 289 0002 7047     		bx	lr
 290              	.L19:
 291              		.align	2
 292              	.L18:
 293 0004 00000000 		.word	.LANCHOR0
 295              		.global	ang
ARM GAS  /tmp/ccsIaK4U.s 			page 6


 296              		.section	.bss.ang,"aw",%nobits
 297              		.align	2
 298              		.set	.LANCHOR0,. + 0
 301              	ang:
 302 0000 00000000 		.space	4
 303              		.section	.rodata.HAL_GPIO_EXTI_Callback.str1.4,"aMS",%progbits,1
 304              		.align	2
 305              	.LC0:
 306 0000 6D616720 		.ascii	"mag %d05 %d05 %d05\012\000"
 306      25643035 
 306      20256430 
 306      35202564 
 306      30350A00 
 307              		.section	.rodata.compass_init.str1.4,"aMS",%progbits,1
 308              		.align	2
 309              	.LC1:
 310 0000 61636320 		.ascii	"acc %d\012\000"
 310      25640A00 
 311              		.ident	"GCC: (Arch Repository) 6.3.0"
ARM GAS  /tmp/ccsIaK4U.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 compass.c
     /tmp/ccsIaK4U.s:13     .text.compass_register_read:0000000000000000 $t
     /tmp/ccsIaK4U.s:21     .text.compass_register_read:0000000000000000 compass_register_read
     /tmp/ccsIaK4U.s:50     .text.compass_register_read:000000000000003c $d
     /tmp/ccsIaK4U.s:53     .text.compass_register_write:0000000000000000 $t
     /tmp/ccsIaK4U.s:61     .text.compass_register_write:0000000000000000 compass_register_write
     /tmp/ccsIaK4U.s:81     .text.compass_register_write:0000000000000024 $d
     /tmp/ccsIaK4U.s:86     .text.HAL_GPIO_EXTI_Callback:0000000000000000 $t
     /tmp/ccsIaK4U.s:94     .text.HAL_GPIO_EXTI_Callback:0000000000000000 HAL_GPIO_EXTI_Callback
     /tmp/ccsIaK4U.s:154    .text.HAL_GPIO_EXTI_Callback:00000000000000a4 $d
     /tmp/ccsIaK4U.s:159    .text.compass_init:0000000000000000 $t
     /tmp/ccsIaK4U.s:167    .text.compass_init:0000000000000000 compass_init
     /tmp/ccsIaK4U.s:272    .text.compass_init:00000000000000fc $d
     /tmp/ccsIaK4U.s:276    .text.compass_get_angle:0000000000000000 $t
     /tmp/ccsIaK4U.s:284    .text.compass_get_angle:0000000000000000 compass_get_angle
     /tmp/ccsIaK4U.s:293    .text.compass_get_angle:0000000000000004 $d
     /tmp/ccsIaK4U.s:301    .bss.ang:0000000000000000 ang
     /tmp/ccsIaK4U.s:297    .bss.ang:0000000000000000 $d
     /tmp/ccsIaK4U.s:304    .rodata.HAL_GPIO_EXTI_Callback.str1.4:0000000000000000 $d
     /tmp/ccsIaK4U.s:308    .rodata.compass_init.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
hi2c1
__aeabi_i2d
__aeabi_d2f
printf
sqrt
atan2
