ARM GAS  /tmp/cc228lSu.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 23, 1
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f4xx_hal_sd.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.SD_IsCardProgramming,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv4-sp-d16
  23              	SD_IsCardProgramming:
  24              	.LFB170:
  25              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @file    stm32f4xx_hal_sd.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @version V1.6.0
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @date    04-November-2016
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This file provides firmware functions to manage the following 
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Initialization and de-initialization functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + IO operation functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral Control functions 
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral State functions
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @verbatim
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### How to use this driver #####
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to 
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDIO and GPIO) are performed by 
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).                             
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the 
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     examples.
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver is a generic layered driver for SDIO memories which uses the HAL 
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO driver functions to interface with SD and uSD cards devices. 
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     It is used as follows:
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#)Initialize the SDIO low level resources by implement the HAL_SD_MspInit() API:
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) Enable the SDIO interface clock using __HAL_RCC_SDIO_CLK_ENABLE(); 
ARM GAS  /tmp/cc228lSu.s 			page 2


  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) SDIO pins configuration for SD card
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the clock for the SDIO GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENABL
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure these SDIO pins as alternate function pull-up using HAL_GPIO_Init()
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and according to your pin assignment;
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) DMA Configuration if you need to use DMA process (HAL_SD_ReadBlocks_DMA()
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_DMA() APIs).
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE(); 
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled. 
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the SDIO and DMA interrupt priorities using functions
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   HAL_NVIC_SetPriority(); DMA priority is superior to SDIO's priority
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the NVIC DMA and SDIO IRQs using function HAL_NVIC_EnableIRQ()
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts are managed using the macros __HAL_SD_SDIO_ENABLE_IT() 
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_SDIO_DISABLE_IT() inside the communication process.
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts pending bits are managed using the macros __HAL_SD_SDIO_GET_IT()
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_SDIO_CLEAR_IT()
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization 
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ================================================    
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function.  It Initializes 
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     the SD Card and put it into Standby State (Ready for data transfer). 
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This function provide the following operations:
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card 
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this 
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field. 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         The SD Card frequency (SDIO_CK) is computed as follows:
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****            SDIO_CK = SDIOCLK / (ClockDiv + 2)
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In initialization mode and according to the SD Card standard, 
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         make sure that the SDIO_CK frequency doesn't exceed 400KHz.
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Get the SD CID and CSD data. All these information are managed by the SDCardInfo 
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         structure. This structure provide also ready computed SD Card capacity 
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         and Block size.
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         -@- These information are stored in SD handle structure in case of future use.  
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. By Default, the card transfer 
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency is set to 24MHz. You can change or adapt this frequency by adjusting 
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         the "ClockDiv" field.
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the 
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SDIO_CK frequency doesn't exceed 25MHz and 50MHz in High-speed mode switch.
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         To be able to use a frequency higher than 24MHz, you should use the SDIO 
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         peripheral in bypass mode. Refer to the corresponding reference manual 
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for more details.
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Read operation ***
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================
ARM GAS  /tmp/cc228lSu.s 			page 3


  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..] 
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks(). 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to call the function HAL_SD_CheckReadOperation(), to insure
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         that the read transfer is done correctly in both DMA and SD sides.
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Write operation ***
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   =============================== 
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..] 
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks(). 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 byte).
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to call the function HAL_SD_CheckWriteOperation(), to insure
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         that the write transfer is done correctly in both DMA and SD sides.  
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD card status ***
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ====================== 
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) At any time, you can check the SD Card status and get the SD card state 
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by using the HAL_SD_GetStatus() function. This function checks first if the 
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SD card is still connected and then get the internal SD Card transfer state.     
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can also get the SD card SD Status register by using the HAL_SD_SendSDStatus() 
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         function.    
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD HAL driver macros list ***
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==================================
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_ENABLE : Enable the SD device
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DISABLE : Disable the SD device
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DMA_ENABLE: Enable the SDIO DMA transfer
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DMA_DISABLE: Disable the SDIO DMA transfer
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_ENABLE_IT: Enable the SD device interrupt
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DISABLE_IT: Disable the SD device interrupt
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_GET_FLAG:Check whether the specified SD flag is set or not
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_CLEAR_FLAG: Clear the SD's pending flags
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros 
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
ARM GAS  /tmp/cc228lSu.s 			page 4


 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @endverbatim
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @attention
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * Redistribution and use in source and binary forms, with or without modification,
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * are permitted provided that the following conditions are met:
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   1. Redistributions of source code must retain the above copyright notice,
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      this list of conditions and the following disclaimer.
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      this list of conditions and the following disclaimer in the documentation
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      and/or other materials provided with the distribution.
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      may be used to endorse or promote products derived from this software
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      without specific prior written permission.
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */ 
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #include "stm32f4xx_hal.h"
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(STM32F405xx) || defined(STM32F415xx) || defined(STM32F407xx) || defined(STM32F417xx) ||
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) ||
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F411xE) || defined(STM32F446xx) ||
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) || defined(STM32F412Vx) ||
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup STM32F4xx_HAL_Driver
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD 
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SDIO Data block size 
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */ 
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define DATA_BLOCK_SIZE                  ((uint32_t)(9U << 4U))
ARM GAS  /tmp/cc228lSu.s 			page 5


 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SDIO Static flags, Timeout, FIFO Address  
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SDIO_STATIC_FLAGS               ((uint32_t)(SDIO_FLAG_CCRCFAIL | SDIO_FLAG_DCRCFAIL | SDIO_
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_DTIMEOUT | SDIO_FLAG_TXUNDERR | SDIO_
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_CMDREND  | SDIO_FLAG_CMDSENT  | SDIO_
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_DBCKEND))  
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SDIO_CMD0TIMEOUT                ((uint32_t)0x00010000U)
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Mask for errors Card Status R1 (OCR Register) 
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ADDR_OUT_OF_RANGE        ((uint32_t)0x80000000U)
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ADDR_MISALIGNED          ((uint32_t)0x40000000U)
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_BLOCK_LEN_ERR            ((uint32_t)0x20000000U)
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERASE_SEQ_ERR            ((uint32_t)0x10000000U)
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_BAD_ERASE_PARAM          ((uint32_t)0x08000000U)
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_WRITE_PROT_VIOLATION     ((uint32_t)0x04000000U)
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_LOCK_UNLOCK_FAILED       ((uint32_t)0x01000000U)
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_COM_CRC_FAILED           ((uint32_t)0x00800000U)
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ILLEGAL_CMD              ((uint32_t)0x00400000U)
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CARD_ECC_FAILED          ((uint32_t)0x00200000U)
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CC_ERROR                 ((uint32_t)0x00100000U)
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_GENERAL_UNKNOWN_ERROR    ((uint32_t)0x00080000U)
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_STREAM_READ_UNDERRUN     ((uint32_t)0x00040000U)
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_STREAM_WRITE_OVERRUN     ((uint32_t)0x00020000U)
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CID_CSD_OVERWRITE        ((uint32_t)0x00010000U)
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_WP_ERASE_SKIP            ((uint32_t)0x00008000U)
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CARD_ECC_DISABLED        ((uint32_t)0x00004000U)
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERASE_RESET              ((uint32_t)0x00002000U)
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_AKE_SEQ_ERROR            ((uint32_t)0x00000008U)
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERRORBITS                ((uint32_t)0xFDFFE008U)
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Masks for R6 Response 
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_GENERAL_UNKNOWN_ERROR     ((uint32_t)0x00002000U)
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_ILLEGAL_CMD               ((uint32_t)0x00004000U)
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_COM_CRC_FAILED            ((uint32_t)0x00008000U)
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_VOLTAGE_WINDOW_SD            ((uint32_t)0x80100000U)
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HIGH_CAPACITY                ((uint32_t)0x40000000U)
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_STD_CAPACITY                 ((uint32_t)0x00000000U)
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CHECK_PATTERN                ((uint32_t)0x000001AAU)
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_MAX_VOLT_TRIAL               ((uint32_t)0x0000FFFFU)
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_ALLZERO                      ((uint32_t)0x00000000U)
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_WIDE_BUS_SUPPORT             ((uint32_t)0x00040000U)
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_SINGLE_BUS_SUPPORT           ((uint32_t)0x00010000U)
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CARD_LOCKED                  ((uint32_t)0x02000000U)
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_DATATIMEOUT                  ((uint32_t)0xFFFFFFFFU)
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_0TO7BITS                     ((uint32_t)0x000000FFU)
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_8TO15BITS                    ((uint32_t)0x0000FF00U)
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_16TO23BITS                   ((uint32_t)0x00FF0000U)
ARM GAS  /tmp/cc228lSu.s 			page 6


 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_24TO31BITS                   ((uint32_t)0xFF000000U)
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_MAX_DATA_LENGTH              ((uint32_t)0x01FFFFFFU)
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HALFFIFO                     ((uint32_t)0x00000008U)
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HALFFIFOBYTES                ((uint32_t)0x00000020U)
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Command Class Supported 
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_LOCK_UNLOCK             ((uint32_t)0x00000080U)
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_WRITE_PROT              ((uint32_t)0x00000040U)
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_ERASE                   ((uint32_t)0x00000020U)
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Following commands are SD Card Specific commands.
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SDIO_APP_CMD should be sent before sending these commands. 
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_SDIO_SEND_IF_COND            ((uint32_t)SD_CMD_HS_SEND_EXT_CSD)
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions_Prototypes
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Initialize_Cards(SD_HandleTypeDef *hsd);
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Select_Deselect(SD_HandleTypeDef *hsd, uint64_t addr);
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerON(SD_HandleTypeDef *hsd); 
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerOFF(SD_HandleTypeDef *hsd);
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_CardStateTypedef SD_GetState(SD_HandleTypeDef *hsd);
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_IsCardProgramming(SD_HandleTypeDef *hsd, uint8_t *pStatus);
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdError(SD_HandleTypeDef *hsd);
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp1Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD);
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp7Error(SD_HandleTypeDef *hsd);
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp3Error(SD_HandleTypeDef *hsd);
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp2Error(SD_HandleTypeDef *hsd);
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp6Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD, uint16_t *pRCA);
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);  
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxCplt(DMA_HandleTypeDef *hdma);
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxError(DMA_HandleTypeDef *hdma);
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxCplt(DMA_HandleTypeDef *hdma);
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxError(DMA_HandleTypeDef *hdma);
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  /tmp/cc228lSu.s 			page 7


 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Initialization and de-initialization functions 
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim  
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]  
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     card device to be ready for use.
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD card according to the specified parameters in the 
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SDCardInfo: HAL_SD_CardInfoTypedef structure for SD card information   
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL SD error state
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Init(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypedef *SDCardInfo)
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** { 
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef tmpinit;
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Allocate lock resource and initialize it */
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Lock = HAL_UNLOCKED;
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the low level hardware (MSP) */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspInit(hsd);
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Default SDIO peripheral configuration for SD card initialization */
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockEdge           = SDIO_CLOCK_EDGE_RISING;
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.BusWide             = SDIO_BUS_WIDE_1B;
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockDiv            = SDIO_INIT_CLK_DIV;
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SDIO peripheral interface with default configuration */
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, tmpinit);
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Identify card operating voltage */
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_PowerON(hsd); 
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)     
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the present SDIO card(s) and put them in idle state */
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_Initialize_Cards(hsd);
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 8


 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Read CSD/CID MSD registers */
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_Get_CardInfo(hsd, SDCardInfo);
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Select the Card */
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_Select_Deselect(hsd, (uint32_t)(((uint32_t)SDCardInfo->RCA) << 16U));
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure SDIO peripheral interface */
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, hsd->Init);   
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set SD power state to off */ 
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_PowerOFF(hsd);
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
ARM GAS  /tmp/cc228lSu.s 			page 9


 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Data transfer functions 
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### IO operation functions #####
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data 
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     transfer from/to SD card.
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer 
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by polling mode.  
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pReadBuffer: pointer to the buffer that will contain the received data
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  ReadAddr: Address from where data is to be read  
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read   
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint32_t *pReadBuffer, uint64_t ReadAd
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0U, *tempbuff = (uint32_t *)pReadBuffer;
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t) BlockSize;
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
ARM GAS  /tmp/cc228lSu.s 			page 10


 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD18 READ_MULT_BLOCK with argument data address */
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD17 READ_SINGLE_BLOCK */
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;    
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)ReadAddr;
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Read block(s) in polling mode */
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Poll on SDIO flags */
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
ARM GAS  /tmp/cc228lSu.s 			page 11


 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8U;
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }      
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK); 
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }    
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* In case of single block transfer, no need of stop transfer at all */
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8U;
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop transmission command in case of multiblock read */
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) ||\
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) ||\
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send stop transmission command */
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get error state */
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cc228lSu.s 			page 12


 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */ 
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   count = SD_DATATIMEOUT;
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Empty FIFO if there is still any data */
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0U))
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *tempbuff = SDIO_ReadFIFO(hsd->Instance);
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tempbuff++;
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count--;
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         transfer is managed by polling mode.  
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pWriteBuffer: pointer to the buffer that will contain the data to transmit
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WriteAddr: Address from where data is to be written 
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
ARM GAS  /tmp/cc228lSu.s 			page 13


 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint32_t *pWriteBuffer, uint64_t Writ
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t totalnumberofbytes = 0U, bytestransferred = 0U, count = 0U, restwords = 0U;
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *tempbuff = (uint32_t *)pWriteBuffer;
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate  = 0U;
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD25 WRITE_MULT_BLOCK with argument data address */
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD24 WRITE_SINGLE_BLOCK */
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
ARM GAS  /tmp/cc228lSu.s 			page 14


 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set total number of bytes to write */
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   totalnumberofbytes = NumberOfBlocks * BlockSize;
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Write block(s) in polling mode */
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */     
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32U)
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4U == 0U) ? ((totalnumberofbytes -
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < restwords; count++)
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++;
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         else
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < 8U; count++)
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8U;
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32U;
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }   
ARM GAS  /tmp/cc228lSu.s 			page 15


 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* In case of single data block transfer no need of stop command at all */
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32U)
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4U == 0U) ? ((totalnumberofbytes -
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < restwords; count++)
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++; 
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         else
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < 8U; count++)
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8U;
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32U;
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }  
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop transmission command in case of multiblock write */
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send stop transmission command */
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get error state */
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cc228lSu.s 			page 16


 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR))
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_TX_UNDERRUN;
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait till the card is in programming state */
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_IsCardProgramming(hsd, &cardstate);
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate == SD_CARD_RECE
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer 
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode. 
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by the function HAL_SD_CheckReadOperation()
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to check the completion of the read process   
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle                 
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pReadBuffer: Pointer to the buffer that will contain the received data
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  ReadAddr: Address from where data is to be read  
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
ARM GAS  /tmp/cc228lSu.s 			page 17


 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint32_t *pReadBuffer, uint64_t Re
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize handle flags */
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0U;
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK; 
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SD Read operation */
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_MULTIPLE_BLOCK;
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_SINGLE_BLOCK;
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable transfer interrupts */
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR  |\
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_STBITERR));
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR));
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO DMA transfer */
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure DMA user callbacks */
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferCpltCallback  = SD_DMA_RxCplt;
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable the DMA Stream */
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pReadBuffer, (uint32_t)(B
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 18


 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check number of blocks command */
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD18 READ_MULT_BLOCK with argument data address */
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD17 READ_SINGLE_BLOCK */
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument = (uint32_t)ReadAddr;
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK);
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Update the SD transfer error in SD handle */
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  /tmp/cc228lSu.s 			page 19


1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer 
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode. 
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by the function HAL_SD_CheckWriteOperation()
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to check the completion of the write process (by SD current status polling).  
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pWriteBuffer: pointer to the buffer that will contain the data to transmit
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WriteAddr: Address from where data is to be read   
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: the SD card Data block size 
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint32_t *pWriteBuffer, uint64_t 
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize handle flags */
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0U;
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK;
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SD Write operation */
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_MULTIPLE_BLOCK;
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_SINGLE_BLOCK;
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable transfer interrupts */
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXUNDERR |\
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_STBITERR));
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXUNDERR));
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure DMA user callbacks */
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferCpltCallback  = SD_DMA_TxCplt;
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable the DMA Stream */
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pWriteBuffer, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(
ARM GAS  /tmp/cc228lSu.s 			page 20


1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO DMA transfer */
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check number of blocks command */
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks <= 1U)
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD24 WRITE_SINGLE_BLOCK */
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD25 WRITE_MULT_BLOCK with argument data address */
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
ARM GAS  /tmp/cc228lSu.s 			page 21


1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function waits until the SD DMA data read transfer is finished. 
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API should be called after HAL_SD_ReadBlocks_DMA() function
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to insure that all data sent by the card is already transferred by the 
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         DMA controller.
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Timeout duration  
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_CheckReadOperation(SD_HandleTypeDef *hsd, uint32_t Timeout)
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp1, tmp2;
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef tmp3;
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait for DMA/SD transfer end or SD error variables to be in SD handle */
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0U) && (tmp2 == 0U) && (tmp3 == SD_OK) && (timeout > 0U))
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;    
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = Timeout;
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the Rx transfer is no longer active */
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXACT)) && (timeout > 0U))
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop command in multiblock read */
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_READ_MULTIPLE_BLOCK)
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0U) && (errorstate == SD_OK))
ARM GAS  /tmp/cc228lSu.s 			page 22


1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Return error state */
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function waits until the SD DMA data write transfer is finished. 
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API should be called after HAL_SD_WriteBlocks_DMA() function
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to insure that all data sent by the card is already transferred by the 
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         DMA controller.
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Timeout duration  
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_CheckWriteOperation(SD_HandleTypeDef *hsd, uint32_t Timeout)
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp1, tmp2;
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef tmp3;
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait for DMA/SD transfer end or SD error variables to be in SD handle */
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0U) && (tmp2 == 0U) && (tmp3 == SD_OK) && (timeout > 0U))
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = Timeout;
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the Tx transfer is no longer active */
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXACT))  && (timeout > 0U))
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop command in multiblock write */
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_WRITE_MULTIPLE_BLOCK)
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
ARM GAS  /tmp/cc228lSu.s 			page 23


1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0U) && (errorstate == SD_OK))
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Return error state */
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until write is complete */
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(HAL_SD_GetStatus(hsd) != SD_TRANSFER_OK)
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate; 
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle 
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  startaddr: Start byte address
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  endaddr: End byte address
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint64_t startaddr, uint64_t endaddr)
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t delay         = 0U;
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t maxdelay = 0U;
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0U;
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check if the card command class supports erase command */
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (((hsd->CSD[1U] >> 20U) & SD_CCCC_ERASE) == 0U)
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get max delay value */
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   maxdelay = 120000U / (((hsd->Instance->CLKCR) & 0xFFU) + 2U);
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 24


1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get start and end block for high capacity cards */
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     startaddr /= 512U;
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512U;
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) 
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         =(uint32_t)startaddr;
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_START;
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_START);
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)endaddr;
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_END;
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_END);
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD38 ERASE */
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_ERASE);
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   for (; delay < maxdelay; delay++)
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 25


1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the card is in programming state */
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_IsCardProgramming(hsd, &cardstate);
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   delay = SD_DATATIMEOUT;
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((delay > 0U) && (errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     delay--;
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {  
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DATAEND))
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_IT_DATAEND);  
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD transfer is complete */
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferCplt = 1U;
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No transfer error */ 
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr  = SD_OK;
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferCpltCallback(hsd);  
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DCRCFAIL))
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_CRC_FAIL;
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DTIMEOUT))
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_TIMEOUT;
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_RXOVERR))
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cc228lSu.s 			page 26


1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_RX_OVERRUN;
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_TXUNDERR))
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_TX_UNDERRUN;
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_STBITERR))
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_START_BIT_ERR;
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable all SDIO peripheral interrupt sources */
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE_IT(hsd, SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_DATAEND  |\
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR  | SDIO_IT_STBITERR);
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE_IT(hsd, SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_DATAEND  |\
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR);
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD end of transfer callback.
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle 
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_XferCpltCallback(SD_HandleTypeDef *hsd)
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_XferCpltCallback could be implemented in the user file
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer Error callback.
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
ARM GAS  /tmp/cc228lSu.s 			page 27


1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_XferErrorCallback(SD_HandleTypeDef *hsd)
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_XferErrorCallback could be implemented in the user file
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer complete Rx callback in non blocking mode.
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_RxCpltCallback(DMA_HandleTypeDef *hdma)
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_RxCpltCallback could be implemented in the user file
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }  
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Rx error callback.
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_RxErrorCallback(DMA_HandleTypeDef *hdma)
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_RxErrorCallback could be implemented in the user file
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer complete Tx callback in non blocking mode.
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_TxCpltCallback(DMA_HandleTypeDef *hdma)
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_TxCpltCallback could be implemented in the user file
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }  
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
ARM GAS  /tmp/cc228lSu.s 			page 28


1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete error Tx callback.
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_TxErrorCallback(DMA_HandleTypeDef *hdma)
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_TxErrorCallback could be implemented in the user file
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   management functions 
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                       ##### Peripheral Control functions #####
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card 
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     operations.
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns information about specific card.
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardInfo: Pointer to a HAL_SD_CardInfoTypedef structure that  
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         contains all SD cardinformation  
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Get_CardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypedef *pCardInfo)
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp = 0U;
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardType = (uint8_t)(hsd->CardType);
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RCA      = (uint16_t)(hsd->RCA);
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0U] & 0xFF000000U) >> 24U;
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSDStruct      = (uint8_t)((tmp & 0xC0U) >> 6U);
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.SysSpecVersion = (uint8_t)((tmp & 0x3CU) >> 2U);
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03U;
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 1 */
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0U] & 0x00FF0000U) >> 16U;
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TAAC = (uint8_t)tmp;
ARM GAS  /tmp/cc228lSu.s 			page 29


1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0U] & 0x0000FF00U) >> 8U;
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.NSAC = (uint8_t)tmp;
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = hsd->CSD[0U] & 0x000000FFU;
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxBusClkFrec = (uint8_t)tmp;
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1U] & 0xFF000000U) >> 24U;
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses = (uint16_t)(tmp << 4U);
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1U] & 0x00FF0000U) >> 16U;
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses |= (uint16_t)((tmp & 0xF0) >> 4U);
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1U] & 0x0000FF00U) >> 8U;
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PartBlockRead   = (uint8_t)((tmp & 0x80U) >> 7U);
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40U) >> 6U);
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20U) >> 5U);
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10U) >> 4U);
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0U; /*!< Reserved */
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0))
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x03U) << 10U;
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 7 */
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)(hsd->CSD[1U] & 0x000000FFU);
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp) << 2U;
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 8 */
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0xFF000000U) >> 24U);
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp & 0xC0U) >> 6U;
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMin = (tmp & 0x38U) >> 3U;
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07U);
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 9 */
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x00FF0000U) >> 16U);
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0U) >> 5U;
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1CU) >> 2U;
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03U) << 1U;
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x0000FF00U) >> 8U);
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul |= (tmp & 0x80U) >> 7U;
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity  = (pCardInfo->SD_csd.DeviceSize + 1U) ;
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1U << (pCardInfo->SD_csd.DeviceSizeMul + 2U));
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1U << (pCardInfo->SD_csd.RdBlockLen);
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 30


1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 7 */
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)(hsd->CSD[1U] & 0x000000FFU);
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x3FU) << 16U;
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 8 */
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0xFF000000U) >> 24U);
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp << 8U);
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 9 */
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x00FF0000U) >> 16U);
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp);
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x0000FF00U) >> 8U);
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity = (uint64_t)((((uint64_t)pCardInfo->SD_csd.DeviceSize + 1U)) * 512U * 1
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512U;    
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Not supported card type */
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ERROR;
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrSize = (tmp & 0x40U) >> 6U;
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul  = (tmp & 0x3FU) << 1U;
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CSD[2U] & 0x000000FFU);
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul     |= (tmp & 0x80U) >> 7U;
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7FU);
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3U] & 0xFF000000U) >> 24U);
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrEnable = (tmp & 0x80U) >> 7U;
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60U) >> 5U;
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1CU) >> 2U;
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03U) << 2U;
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3U] & 0x00FF0000U) >> 16U);
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen      |= (tmp & 0xC0U) >> 6U;
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20U) >> 5U;
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0U;
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01U);
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 14 */
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3U] & 0x0000FF00U) >> 8U);
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormatGrouop = (tmp & 0x80U) >> 7U;
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40U) >> 6U;
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20U) >> 5U;
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10U) >> 4U;
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0CU) >> 2U;
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03U);
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 31


1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 15 */
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CSD[3U] & 0x000000FFU);
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSD_CRC   = (tmp & 0xFEU) >> 1U;
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1U;
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0U] & 0xFF000000U) >> 24U);
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 1 */
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0U] & 0x00FF0000U) >> 16U);
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID = tmp << 8U;
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0U] & 0x0000FF00U) >> 8U);
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID |= tmp;
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[0U] & 0x000000FFU);
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 = tmp << 24U;
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1U] & 0xFF000000U) >> 24U);
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16U;
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1U] & 0x00FF0000U) >> 16U);
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 8U;
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1U] & 0x0000FF00U) >> 8U);
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp;
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 7 */
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[1U] & 0x000000FFU);
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName2 = tmp;
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 8 */
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2U] & 0xFF000000U) >> 24U);
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 9 */
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2U] & 0x00FF0000U) >> 16U);
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN = tmp << 24U;
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 10 */
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2U] & 0x0000FF00U) >> 8U);
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 16U;
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[2U] & 0x000000FFU);
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 8U;
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3U] & 0xFF000000U) >> 24U);
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp;
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 32


1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3U] & 0x00FF0000U) >> 16U);
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved1   |= (tmp & 0xF0U) >> 4U;
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 14 */
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3U] & 0x0000FF00U) >> 8U);
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate |= tmp;
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 15 */
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[3U] & 0x000000FFU);
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.CID_CRC   = (tmp & 0xFEU) >> 1U;
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1U;
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by 
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         card.
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle       
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode 
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This parameter can be one of the following values:
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_8B: 8-bit data transfer (Only for MMC)
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_4B: 4-bit data transfer
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_1B: 1-bit data transfer
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WideBusOperation_Config(SD_HandleTypeDef *hsd, uint32_t WideMode)
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef tmpinit;
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* MMC Card does not support this feature */
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == MULTIMEDIA_CARD)
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_UNSUPPORTED_FEATURE;
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (WideMode == SDIO_BUS_WIDE_8B)
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_4B)
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_1B)
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  /tmp/cc228lSu.s 			page 33


1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* WideMode is not a valid argument*/
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_PARAMETER;
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate == SD_OK)
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Configure the SDIO peripheral */
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockEdge           = hsd->Init.ClockEdge;
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.HardwareFlowControl = hsd->Init.HardwareFlowControl;
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Aborts an ongoing data transfer.
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_StopTransfer(SD_HandleTypeDef *hsd)
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD12 STOP_TRANSMISSION  */
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_STOP_TRANSMISSION);
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API must be used after "Transfer State"
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This operation should be followed by the configuration 
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         of PLL to have SDIOCK clock between 67 and 75 MHz
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_HighSpeed (SD_HandleTypeDef *hsd)
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
ARM GAS  /tmp/cc228lSu.s 			page 34


1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t SD_hs[64U]  = {0U};
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_scr[2U] = {0U, 0U};
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_SPEC    = 0U;
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0U, *tempbuff = (uint32_t *)SD_hs;
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the Data control register */
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, SD_scr);
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Test the Version supported by the card*/ 
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_SPEC = (SD_scr[1U]  & 0x01000000U) | (SD_scr[1U]  & 0x02000000U);
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (SD_SPEC != SD_ALLZERO)
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)64U;
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64U;
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B ;
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD6 switch mode */
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0x80FFFF01U;
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_HS_SWITCH);
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  /tmp/cc228lSu.s 			page 35


1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR        
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8U;
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_DATA_TIMEOUT;
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_DATA_CRC_FAIL;
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_RX_OVERRUN;
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_START_BIT_ERR;
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* No error flag set */
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
ARM GAS  /tmp/cc228lSu.s 			page 36


1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count = SD_DATATIMEOUT;
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0U))
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = SDIO_ReadFIFO(hsd->Instance);
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       count--;
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((SD_hs[13U]& 2U) != 2U)
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     } 
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group4
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Peripheral State functions 
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                       ##### Peripheral State functions #####
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection permits to get in runtime the status of the peripheral 
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     and the data flow.
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the current SD card's status.
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status 
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SD Status register)
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0U;
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check SD response */
ARM GAS  /tmp/cc228lSu.s 			page 37


2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 64U;
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 */
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64U;
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STATUS)  with argument as card's RCA */
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_STATUS;
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_STATUS);
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 38


2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get status data */
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR 
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       for (count = 0U; count < 8U; count++)
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         *(pSDstatus + count) = SDIO_ReadFIFO(hsd->Instance);
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       pSDstatus += 8U;
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
ARM GAS  /tmp/cc228lSu.s 			page 39


2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   count = SD_DATATIMEOUT;
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0U))
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pSDstatus = SDIO_ReadFIFO(hsd->Instance);
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pSDstatus++;
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count--;
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static status flags*/
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the current sd card data status.
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval Data Transfer state
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_TransferStateTypedef HAL_SD_GetStatus(SD_HandleTypeDef *hsd)
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SD card state */
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   cardstate = SD_GetState(hsd);
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Find SD status according to card state*/
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (cardstate == SD_CARD_TRANSFER)
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_OK;
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(cardstate == SD_CARD_ERROR)
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_ERROR;
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_BUSY;
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the SD card status.
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle      
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardStatus: Pointer to the HAL_SD_CardStatusTypedef structure that 
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         will contain the SD card status information 
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypedef *pCardStat
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp = 0U;
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sd_status[16U];
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_SendSDStatus(hsd, sd_status);
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 40


2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate  != SD_OK)
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[0U] & 0xC0U) >> 6U;
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->DAT_BUS_WIDTH = (uint8_t)tmp;
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[0U] & 0x20U) >> 5U;
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SECURED_MODE = (uint8_t)tmp;
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[2U] & 0xFFU);
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE = (uint8_t)(tmp << 8U);
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[3U] & 0xFFU);
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE |= (uint8_t)tmp;
2220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[4U] & 0xFFU);
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA = (uint8_t)(tmp << 24U);
2224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[5U] & 0xFFU);
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 16U);
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[6U] & 0xFFU);
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 8U);
2232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 7 */
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[7U] & 0xFFU);
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)tmp;
2236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 8 */
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[8U] & 0xFFU);
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SPEED_CLASS = (uint8_t)tmp;
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 9 */
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[9U] & 0xFFU);
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->PERFORMANCE_MOVE = (uint8_t)tmp;
2244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 10 */
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[10U] & 0xF0U) >> 4U;
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->AU_SIZE = (uint8_t)tmp;
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[11U] & 0xFFU);
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE = (uint8_t)(tmp << 8U);
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[12U] & 0xFFU);
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE |= (uint8_t)tmp;
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 41


2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[13U] & 0xFCU) >> 2U;
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_TIMEOUT = (uint8_t)tmp;
2260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[13U] & 0x3U);
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_OFFSET = (uint8_t)tmp;
2264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/  
2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Rx callback.
2283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxCplt(DMA_HandleTypeDef *hdma)
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DMA transfer is complete */
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1U;
2293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until SD transfer is complete */
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0U)
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable the DMA channel */
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxCpltCallback(hsd->hdmarx);   
2304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer Error Rx callback.
2308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxError(DMA_HandleTypeDef *hdma)
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
ARM GAS  /tmp/cc228lSu.s 			page 42


2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxErrorCallback(hsd->hdmarx);
2318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Tx callback.
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxCplt(DMA_HandleTypeDef *hdma)
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DMA transfer is complete */
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1U;
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until SD transfer is complete */
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0U)
2335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
2338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable the DMA channel */
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
2340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxCpltCallback(hsd->hdmatx);  
2343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer Error Tx callback.
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxError(DMA_HandleTypeDef *hdma)
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = ( SD_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxErrorCallback(hsd->hdmatx);
2357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the SD current state.
2361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD card current state
2363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_CardStateTypedef SD_GetState(SD_HandleTypeDef *hsd)
2365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t resp1 = 0U;
2367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (SD_SendStatus(hsd, &resp1) != SD_OK)
2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_CARD_ERROR;
ARM GAS  /tmp/cc228lSu.s 			page 43


2371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_CardStateTypedef)((resp1 >> 9U) & 0x0FU);
2375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes all cards or single card as the case may be Card(s) come 
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         into standby state.
2381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Initialize_Cards(SD_HandleTypeDef *hsd)
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure; 
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint16_t sd_rca = 1U;
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetPowerState(hsd->Instance) == 0U) /* Power off */
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->CardType != SECURE_DIGITAL_IO_CARD)
2398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0U;
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_ALL_SEND_CID;
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get Card identification number data */
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[0U] = SDIO_GetResponse(SDIO_RESP1);
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[1U] = SDIO_GetResponse(SDIO_RESP2);
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[2U] = SDIO_GetResponse(SDIO_RESP3);
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[3U] = SDIO_GetResponse(SDIO_RESP4);
2420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1)    || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
2423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      (hsd->CardType == SECURE_DIGITAL_IO_COMBO_CARD) || (hsd->CardType == HIGH_CAPACITY_SD_CARD))
2424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
2426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD Card publishes its RCA. */
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_REL_ADDR;
ARM GAS  /tmp/cc228lSu.s 			page 44


2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp6Error(hsd, SD_CMD_SET_REL_ADDR, &sd_rca);
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType != SECURE_DIGITAL_IO_CARD)
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get the SD card RCA */
2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RCA = sd_rca;
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get Card Specific Data */
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[0U] = SDIO_GetResponse(SDIO_RESP1);
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[1U] = SDIO_GetResponse(SDIO_RESP2);
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[2U] = SDIO_GetResponse(SDIO_RESP3);
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[3U] = SDIO_GetResponse(SDIO_RESP4);
2464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* All cards are initialized */
2467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Selects of Deselects the corresponding card.
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  addr: Address of the card to be selected  
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Select_Deselect(SD_HandleTypeDef *hsd, uint64_t addr)
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD7 SDIO_SEL_DESEL_CARD */
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)addr;
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEL_DESEL_CARD;
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
ARM GAS  /tmp/cc228lSu.s 			page 45


2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEL_DESEL_CARD);
2491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
2497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
2498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         in the SD handle.
2499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerON(SD_HandleTypeDef *hsd)
2503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure; 
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK; 
2506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response = 0U, count = 0U, validvoltage = 0U;
2507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sdtype = SD_STD_CAPACITY;
2508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Power ON Sequence -------------------------------------------------------*/
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable SDIO Clock */
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE(); 
2512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to ON */
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_ON(hsd->Instance);
2515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* 1ms: required power up waiting time before starting the SD initialization 
2517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      sequence */
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_Delay(1);
2519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO Clock */
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE();
2522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE -----------------------------------------------------*/
2524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* No CMD response required */
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_GO_IDLE_STATE;
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_NO;
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdError(hsd);
2534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* CMD Response Timeout (wait for CMDSENT flag) */
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD8: SEND_IF_COND ------------------------------------------------------*/
ARM GAS  /tmp/cc228lSu.s 			page 46


2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD8 to verify SD card interface operating condition */
2543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Argument: - [31:12]: Reserved (shall be set to '0')
2544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   - [11:8]: Supply Voltage (VHS) 0x1 (Range: 2.7-3.6 V)
2545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   - [7:0]: Check Pattern (recommended 0xAA) */
2546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD Response: R7 */
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = SD_CHECK_PATTERN;
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */ 
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp7Error(hsd);
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
2556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD Card 2.0 */
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CardType = STD_CAPACITY_SD_CARD_V2_0; 
2559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdtype        = SD_HIGH_CAPACITY;
2560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 */
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If errorstate is Command Timeout, it is a MMC card */
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If errorstate is SD_OK it is a SD card: SD card 2.0 (voltage range mismatch)
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      or SD card 1.x */
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate == SD_OK)
2574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD CARD */
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while((!validvoltage) && (count < SD_MAX_VOLT_TRIAL))
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* SEND CMD55 APP_CMD with RCA as 0 */
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = 0U;
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Check for error conditions */
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
2592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return errorstate;
2594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send CMD41 */
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = SD_VOLTAGE_WINDOW_SD | sdtype;
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
ARM GAS  /tmp/cc228lSu.s 			page 47


2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Check for error conditions */
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp3Error(hsd);
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
2608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return errorstate;
2610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get command response */
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       response = SDIO_GetResponse(SDIO_RESP1);
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get operating voltage*/
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
2617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       count++;
2619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(count >= SD_MAX_VOLT_TRIAL)
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_VOLTRANGE;
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((response & SD_HIGH_CAPACITY) == SD_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CardType = HIGH_CAPACITY_SD_CARD;
2631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   } /* else MMC Card */
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Turns the SDIO output signals off.
2640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerOFF(SD_HandleTypeDef *hsd)
2644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to OFF */
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_OFF(hsd->Instance);
2649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the current card's status.
2655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
ARM GAS  /tmp/cc228lSu.s 			page 48


2656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card 
2657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         status (Card Status register)  
2658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(pCardStatus == NULL)
2666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_INVALID_PARAMETER;
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send Status command */
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEND_STATUS);
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SD card status */
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pCardStatus = SDIO_GetResponse(SDIO_RESP1);
2690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for CMD0.
2696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdError(SD_HandleTypeDef *hsd)
2700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout, tmp;
2703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = SDIO_CMD0TIMEOUT;
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((timeout > 0U) && (!tmp))
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
2711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
2712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 49


2713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(timeout == 0U)
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R7 response.
2728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp7Error(SD_HandleTypeDef *hsd)
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_ERROR;
2734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT, tmp;
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT); 
2737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((!tmp) && (timeout > 0U))
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT);
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
2742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT); 
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((timeout == 0U) || tmp)
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Card is not V2.0 compliant or card does not support the set voltage range */
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDREND))
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Card is SD V2.0 compliant */
2759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_OK;
2760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CMDREND);
2762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
ARM GAS  /tmp/cc228lSu.s 			page 50


2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R1 response.
2771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SD_CMD: The sent command index  
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp1Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD)
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response_r1;
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
2793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
2795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it for analysis  */
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
2816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_OUT_OF_RANGE) == SD_OCR_ADDR_OUT_OF_RANGE)
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
2823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_MISALIGNED) == SD_OCR_ADDR_MISALIGNED)
2826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 51


2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BLOCK_LEN_ERR) == SD_OCR_BLOCK_LEN_ERR)
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
2833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_SEQ_ERR) == SD_OCR_ERASE_SEQ_ERR)
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
2838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BAD_ERASE_PARAM) == SD_OCR_BAD_ERASE_PARAM)
2841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
2843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WRITE_PROT_VIOLATION) == SD_OCR_WRITE_PROT_VIOLATION)
2846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
2848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_LOCK_UNLOCK_FAILED) == SD_OCR_LOCK_UNLOCK_FAILED)
2851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
2853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_COM_CRC_FAILED) == SD_OCR_COM_CRC_FAILED)
2856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
2858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ILLEGAL_CMD) == SD_OCR_ILLEGAL_CMD)
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
2863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_FAILED) == SD_OCR_CARD_ECC_FAILED)
2866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
2868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CC_ERROR) == SD_OCR_CC_ERROR)
2871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
2873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_GENERAL_UNKNOWN_ERROR) == SD_OCR_GENERAL_UNKNOWN_ERROR)
2876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
2878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_READ_UNDERRUN) == SD_OCR_STREAM_READ_UNDERRUN)
2881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
2883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 52


2884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_WRITE_OVERRUN) == SD_OCR_STREAM_WRITE_OVERRUN)
2886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
2888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CID_CSD_OVERWRITE) == SD_OCR_CID_CSD_OVERWRITE)
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
2893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WP_ERASE_SKIP) == SD_OCR_WP_ERASE_SKIP)
2896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
2898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_DISABLED) == SD_OCR_CARD_ECC_DISABLED)
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
2903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_RESET) == SD_OCR_ERASE_RESET)
2906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_AKE_SEQ_ERROR) == SD_OCR_AKE_SEQ_ERROR)
2911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_AKE_SEQ_ERROR);
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R3 (OCR) response.
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp3Error(SD_HandleTypeDef *hsd)
2924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while (!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
ARM GAS  /tmp/cc228lSu.s 			page 53


2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R2 (CID or CSD) response.
2948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp2Error(SD_HandleTypeDef *hsd)
2952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while (!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
2972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
2978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R6 (RCA) response.
2988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SD_CMD: The sent command index
2990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pRCA: Pointer to the variable that will contain the SD card relative 
2991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         address RCA   
2992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp6Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD, uint16_t *pRCA)
2995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response_r1;
ARM GAS  /tmp/cc228lSu.s 			page 54


2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
3000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
3004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
3006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
3008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
3016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
3026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
3028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it.  */
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & (SD_R6_GENERAL_UNKNOWN_ERROR | SD_R6_ILLEGAL_CMD | SD_R6_COM_CRC_FAILED)) == SD
3039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pRCA = (uint16_t) (response_r1 >> 16U);
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_GENERAL_UNKNOWN_ERROR) == SD_R6_GENERAL_UNKNOWN_ERROR)
3046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
3048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_ILLEGAL_CMD) == SD_R6_ILLEGAL_CMD)
3051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
3053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 55


3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_COM_CRC_FAILED) == SD_R6_COM_CRC_FAILED)
3056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
3058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables the SDIO wide bus mode.
3065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
3074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
3076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1U] & SD_WIDE_BUS_SUPPORT) != SD_ALLZERO)
3092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 2U;
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
ARM GAS  /tmp/cc228lSu.s 			page 56


3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_SD_SET_BUSWIDTH);
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
3127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }   
3131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Disables the SDIO wide bus mode.
3134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
3145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1U] & SD_SINGLE_BUS_SUPPORT) != SD_ALLZERO)
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
ARM GAS  /tmp/cc228lSu.s 			page 57


3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0U;
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_SD_SET_BUSWIDTH);
3185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
3196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value  
3206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
3211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
3212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t index = 0U;
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0U, 0U};
3215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)8U;
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
ARM GAS  /tmp/cc228lSu.s 			page 58


3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
3227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)((hsd->RCA) << 16U);
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8U;
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
3252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_SEND_SCR;
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_SEND_SCR);
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR  
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
3267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
3268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL))
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *(tempscr + index) = SDIO_ReadFIFO(hsd->Instance);
3274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
3275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
3279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
3281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
ARM GAS  /tmp/cc228lSu.s 			page 59


3283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
3287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
3289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
3291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
3295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
3297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
3299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
3303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
3304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
3306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
3308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
3312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR + 1U) = ((tempscr[0U] & SD_0TO7BITS) << 24U)  | ((tempscr[0U] & SD_8TO15BITS) << 8U) |\
3321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[0U] & SD_16TO23BITS) >> 8U) | ((tempscr[0U] & SD_24TO31BITS) >> 24U);
3322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR) = ((tempscr[1U] & SD_0TO7BITS) << 24U)  | ((tempscr[1U] & SD_8TO15BITS) << 8U) |\
3324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[1U] & SD_16TO23BITS) >> 8U) | ((tempscr[1U] & SD_24TO31BITS) >> 24U);
3325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks if the SD card is in programming state.
3331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pStatus: pointer to the variable that will contain the SD card state  
3333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_IsCardProgramming(SD_HandleTypeDef *hsd, uint8_t *pStatus)
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
  26              		.loc 1 3336 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /tmp/cc228lSu.s 			page 60


  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 20
  34              		.cfi_offset 4, -20
  35              		.cfi_offset 5, -16
  36              		.cfi_offset 6, -12
  37              		.cfi_offset 7, -8
  38              		.cfi_offset 14, -4
3337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t responseR1 = 0U;
3340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
  39              		.loc 1 3341 0
  40 0002 436A     		ldr	r3, [r0, #36]
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
  41              		.loc 1 3336 0
  42 0004 87B0     		sub	sp, sp, #28
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 48
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
  45              		.loc 1 3336 0
  46 0006 0446     		mov	r4, r0
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  47              		.loc 1 3339 0
  48 0008 0022     		movs	r2, #0
  49              		.loc 1 3341 0
  50 000a 1B04     		lsls	r3, r3, #16
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
  51              		.loc 1 3342 0
  52 000c 4FF00D0E 		mov	lr, #13
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
  53              		.loc 1 3336 0
  54 0010 0D46     		mov	r5, r1
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
  55              		.loc 1 3346 0
  56 0012 0068     		ldr	r0, [r0]
  57              	.LVL1:
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
  58              		.loc 1 3341 0
  59 0014 0193     		str	r3, [sp, #4]
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
  60              		.loc 1 3343 0
  61 0016 4027     		movs	r7, #64
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
  62              		.loc 1 3345 0
  63 0018 4FF48066 		mov	r6, #1024
  64              		.loc 1 3346 0
  65 001c 01A9     		add	r1, sp, #4
  66              	.LVL2:
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  67              		.loc 1 3339 0
ARM GAS  /tmp/cc228lSu.s 			page 61


  68 001e 0092     		str	r2, [sp]
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
  69              		.loc 1 3344 0
  70 0020 0492     		str	r2, [sp, #16]
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
  71              		.loc 1 3342 0
  72 0022 CDF808E0 		str	lr, [sp, #8]
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
  73              		.loc 1 3343 0
  74 0026 0397     		str	r7, [sp, #12]
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
  75              		.loc 1 3345 0
  76 0028 0596     		str	r6, [sp, #20]
  77              		.loc 1 3346 0
  78 002a FFF7FEFF 		bl	SDIO_SendCommand
  79              	.LVL3:
  80 002e 2068     		ldr	r0, [r4]
  81              	.L2:
3347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
  82              		.loc 1 3348 0 discriminator 1
  83 0030 436B     		ldr	r3, [r0, #52]
  84 0032 13F0450F 		tst	r3, #69
  85 0036 FBD0     		beq	.L2
3349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
  86              		.loc 1 3352 0
  87 0038 436B     		ldr	r3, [r0, #52]
  88 003a 5E07     		lsls	r6, r3, #29
  89 003c 04D5     		bpl	.L3
  90              	.LVL4:
3353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
3355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
  91              		.loc 1 3356 0
  92 003e 0423     		movs	r3, #4
  93 0040 8363     		str	r3, [r0, #56]
3357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
  94              		.loc 1 3358 0
  95 0042 0320     		movs	r0, #3
  96              	.LVL5:
  97              	.L4:
3359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
3361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
3363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
3365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 62


3370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
3374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((uint32_t)SDIO_GetCommandResponse(hsd->Instance) != SD_CMD_SEND_STATUS)
3375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
3377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it for analysis */
3386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   responseR1 = SDIO_GetResponse(SDIO_RESP1);
3387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Find out card status */
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pStatus = (uint8_t)((responseR1 >> 9U) & 0x0000000FU);
3390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
3392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ADDR_OUT_OF_RANGE) == SD_OCR_ADDR_OUT_OF_RANGE)
3397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
3399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ADDR_MISALIGNED) == SD_OCR_ADDR_MISALIGNED)
3402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
3404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_BLOCK_LEN_ERR) == SD_OCR_BLOCK_LEN_ERR)
3407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
3409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERASE_SEQ_ERR) == SD_OCR_ERASE_SEQ_ERR)
3412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
3414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_BAD_ERASE_PARAM) == SD_OCR_BAD_ERASE_PARAM)
3417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
3419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_WRITE_PROT_VIOLATION) == SD_OCR_WRITE_PROT_VIOLATION)
3422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
3424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_LOCK_UNLOCK_FAILED) == SD_OCR_LOCK_UNLOCK_FAILED)
ARM GAS  /tmp/cc228lSu.s 			page 63


3427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
3429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_COM_CRC_FAILED) == SD_OCR_COM_CRC_FAILED)
3432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
3434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ILLEGAL_CMD) == SD_OCR_ILLEGAL_CMD)
3437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
3439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CARD_ECC_FAILED) == SD_OCR_CARD_ECC_FAILED)
3442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
3444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CC_ERROR) == SD_OCR_CC_ERROR)
3447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
3449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_GENERAL_UNKNOWN_ERROR) == SD_OCR_GENERAL_UNKNOWN_ERROR)
3452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
3454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_STREAM_READ_UNDERRUN) == SD_OCR_STREAM_READ_UNDERRUN)
3457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
3459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_STREAM_WRITE_OVERRUN) == SD_OCR_STREAM_WRITE_OVERRUN)
3462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
3464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CID_CSD_OVERWRITE) == SD_OCR_CID_CSD_OVERWRITE)
3467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
3469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_WP_ERASE_SKIP) == SD_OCR_WP_ERASE_SKIP)
3472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
3474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CARD_ECC_DISABLED) == SD_OCR_CARD_ECC_DISABLED)
3477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
3479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERASE_RESET) == SD_OCR_ERASE_RESET)
3482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
ARM GAS  /tmp/cc228lSu.s 			page 64


3484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_AKE_SEQ_ERROR) == SD_OCR_AKE_SEQ_ERROR)
3487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_AKE_SEQ_ERROR);
3489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }   
  98              		.loc 1 3492 0
  99 0044 07B0     		add	sp, sp, #28
 100              	.LCFI2:
 101              		.cfi_remember_state
 102              		.cfi_def_cfa_offset 20
 103              		@ sp needed
 104 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 105              	.LVL6:
 106              	.L3:
 107              	.LCFI3:
 108              		.cfi_restore_state
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 109              		.loc 1 3360 0
 110 0048 466B     		ldr	r6, [r0, #52]
 111 004a 16F00106 		ands	r6, r6, #1
 112 004e 04D0     		beq	.L5
 113              	.LVL7:
3364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 114              		.loc 1 3364 0
 115 0050 0123     		movs	r3, #1
 116 0052 8363     		str	r3, [r0, #56]
3366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 117              		.loc 1 3366 0
 118 0054 1846     		mov	r0, r3
 119              		.loc 1 3492 0
 120 0056 07B0     		add	sp, sp, #28
 121              	.LCFI4:
 122              		.cfi_remember_state
 123              		.cfi_def_cfa_offset 20
 124              		@ sp needed
 125 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 126              	.LVL8:
 127              	.L5:
 128              	.LCFI5:
 129              		.cfi_restore_state
3374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 130              		.loc 1 3374 0
 131 005a FFF7FEFF 		bl	SDIO_GetCommandResponse
 132              	.LVL9:
 133 005e 0D28     		cmp	r0, #13
 134 0060 02D0     		beq	.L6
 135              	.LVL10:
 136              	.L7:
3378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 137              		.loc 1 3378 0
 138 0062 1020     		movs	r0, #16
 139              		.loc 1 3492 0
 140 0064 07B0     		add	sp, sp, #28
ARM GAS  /tmp/cc228lSu.s 			page 65


 141              	.LCFI6:
 142              		.cfi_remember_state
 143              		.cfi_def_cfa_offset 20
 144              		@ sp needed
 145 0066 F0BD     		pop	{r4, r5, r6, r7, pc}
 146              	.LVL11:
 147              	.L6:
 148              	.LCFI7:
 149              		.cfi_restore_state
3382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 150              		.loc 1 3382 0
 151 0068 2368     		ldr	r3, [r4]
 152 006a 40F2FF52 		movw	r2, #1535
 153 006e 9A63     		str	r2, [r3, #56]
3386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 154              		.loc 1 3386 0
 155 0070 3046     		mov	r0, r6
 156 0072 FFF7FEFF 		bl	SDIO_GetResponse
 157              	.LVL12:
 158 0076 0090     		str	r0, [sp]
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 159              		.loc 1 3389 0
 160 0078 009B     		ldr	r3, [sp]
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 161              		.loc 1 3391 0
 162 007a 3348     		ldr	r0, .L47
 163 007c 009A     		ldr	r2, [sp]
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 164              		.loc 1 3389 0
 165 007e C3F34323 		ubfx	r3, r3, #9, #4
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 166              		.loc 1 3391 0
 167 0082 1040     		ands	r0, r0, r2
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 168              		.loc 1 3389 0
 169 0084 2B70     		strb	r3, [r5]
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 170              		.loc 1 3391 0
 171 0086 0028     		cmp	r0, #0
 172 0088 DCD0     		beq	.L4
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 173              		.loc 1 3396 0
 174 008a 009B     		ldr	r3, [sp]
 175 008c 002B     		cmp	r3, #0
 176 008e 04DB     		blt	.L9
3401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 177              		.loc 1 3401 0
 178 0090 009B     		ldr	r3, [sp]
 179 0092 5900     		lsls	r1, r3, #1
 180 0094 03D5     		bpl	.L31
3403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 181              		.loc 1 3403 0
 182 0096 0920     		movs	r0, #9
 183 0098 D4E7     		b	.L4
 184              	.L9:
3398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 185              		.loc 1 3398 0
ARM GAS  /tmp/cc228lSu.s 			page 66


 186 009a 1C20     		movs	r0, #28
 187 009c D2E7     		b	.L4
 188              	.L31:
3406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 189              		.loc 1 3406 0
 190 009e 009B     		ldr	r3, [sp]
 191 00a0 9A00     		lsls	r2, r3, #2
 192 00a2 01D5     		bpl	.L32
3408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 193              		.loc 1 3408 0
 194 00a4 0A20     		movs	r0, #10
 195 00a6 CDE7     		b	.L4
 196              	.L32:
3411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 197              		.loc 1 3411 0
 198 00a8 009B     		ldr	r3, [sp]
 199 00aa DB00     		lsls	r3, r3, #3
 200 00ac 01D5     		bpl	.L33
3413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 201              		.loc 1 3413 0
 202 00ae 0B20     		movs	r0, #11
 203 00b0 C8E7     		b	.L4
 204              	.L33:
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 205              		.loc 1 3416 0
 206 00b2 009B     		ldr	r3, [sp]
 207 00b4 1F01     		lsls	r7, r3, #4
 208 00b6 01D5     		bpl	.L34
3418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 209              		.loc 1 3418 0
 210 00b8 0C20     		movs	r0, #12
 211 00ba C3E7     		b	.L4
 212              	.L34:
3421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 213              		.loc 1 3421 0
 214 00bc 009B     		ldr	r3, [sp]
 215 00be 5E01     		lsls	r6, r3, #5
 216 00c0 01D5     		bpl	.L35
3423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 217              		.loc 1 3423 0
 218 00c2 0D20     		movs	r0, #13
 219 00c4 BEE7     		b	.L4
 220              	.L35:
3426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 221              		.loc 1 3426 0
 222 00c6 009B     		ldr	r3, [sp]
 223 00c8 DD01     		lsls	r5, r3, #7
 224              	.LVL13:
 225 00ca 01D5     		bpl	.L36
3428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 226              		.loc 1 3428 0
 227 00cc 0E20     		movs	r0, #14
 228 00ce B9E7     		b	.L4
 229              	.L36:
3431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 230              		.loc 1 3431 0
 231 00d0 009B     		ldr	r3, [sp]
ARM GAS  /tmp/cc228lSu.s 			page 67


 232 00d2 1C02     		lsls	r4, r3, #8
 233              	.LVL14:
 234 00d4 01D5     		bpl	.L37
3433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 235              		.loc 1 3433 0
 236 00d6 0F20     		movs	r0, #15
 237 00d8 B4E7     		b	.L4
 238              	.L37:
3436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 239              		.loc 1 3436 0
 240 00da 009B     		ldr	r3, [sp]
 241 00dc 5902     		lsls	r1, r3, #9
 242 00de C0D4     		bmi	.L7
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 243              		.loc 1 3441 0
 244 00e0 009B     		ldr	r3, [sp]
 245 00e2 9A02     		lsls	r2, r3, #10
 246 00e4 01D5     		bpl	.L38
3443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 247              		.loc 1 3443 0
 248 00e6 1120     		movs	r0, #17
 249 00e8 ACE7     		b	.L4
 250              	.L38:
3446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 251              		.loc 1 3446 0
 252 00ea 009B     		ldr	r3, [sp]
 253 00ec DB02     		lsls	r3, r3, #11
 254 00ee 01D5     		bpl	.L39
3448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 255              		.loc 1 3448 0
 256 00f0 1220     		movs	r0, #18
 257 00f2 A7E7     		b	.L4
 258              	.L39:
3451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 259              		.loc 1 3451 0
 260 00f4 009B     		ldr	r3, [sp]
 261 00f6 1F03     		lsls	r7, r3, #12
 262 00f8 01D5     		bpl	.L40
3453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 263              		.loc 1 3453 0
 264 00fa 1320     		movs	r0, #19
 265 00fc A2E7     		b	.L4
 266              	.L40:
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 267              		.loc 1 3456 0
 268 00fe 009B     		ldr	r3, [sp]
 269 0100 5E03     		lsls	r6, r3, #13
 270 0102 01D5     		bpl	.L41
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 271              		.loc 1 3458 0
 272 0104 1420     		movs	r0, #20
 273 0106 9DE7     		b	.L4
 274              	.L41:
3461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 275              		.loc 1 3461 0
 276 0108 009B     		ldr	r3, [sp]
 277 010a 9D03     		lsls	r5, r3, #14
ARM GAS  /tmp/cc228lSu.s 			page 68


 278 010c 01D5     		bpl	.L42
3463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 279              		.loc 1 3463 0
 280 010e 1520     		movs	r0, #21
 281 0110 98E7     		b	.L4
 282              	.L42:
3466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 283              		.loc 1 3466 0
 284 0112 009B     		ldr	r3, [sp]
 285 0114 DC03     		lsls	r4, r3, #15
 286 0116 01D5     		bpl	.L43
3468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 287              		.loc 1 3468 0
 288 0118 1620     		movs	r0, #22
 289 011a 93E7     		b	.L4
 290              	.L43:
3471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 291              		.loc 1 3471 0
 292 011c 009B     		ldr	r3, [sp]
 293 011e 1904     		lsls	r1, r3, #16
 294 0120 01D5     		bpl	.L44
3473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 295              		.loc 1 3473 0
 296 0122 1720     		movs	r0, #23
 297 0124 8EE7     		b	.L4
 298              	.L44:
3476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 299              		.loc 1 3476 0
 300 0126 009B     		ldr	r3, [sp]
 301 0128 5A04     		lsls	r2, r3, #17
 302 012a 01D5     		bpl	.L45
3478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 303              		.loc 1 3478 0
 304 012c 1820     		movs	r0, #24
 305 012e 89E7     		b	.L4
 306              	.L45:
3481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 307              		.loc 1 3481 0
 308 0130 009B     		ldr	r3, [sp]
 309 0132 9B04     		lsls	r3, r3, #18
 310 0134 01D5     		bpl	.L46
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 311              		.loc 1 3483 0
 312 0136 1920     		movs	r0, #25
 313 0138 84E7     		b	.L4
 314              	.L46:
3486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 315              		.loc 1 3486 0
 316 013a 009B     		ldr	r3, [sp]
3488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 317              		.loc 1 3488 0
 318 013c 13F0080F 		tst	r3, #8
 319 0140 0CBF     		ite	eq
 320 0142 0020     		moveq	r0, #0
 321 0144 1A20     		movne	r0, #26
 322 0146 7DE7     		b	.L4
 323              	.L48:
ARM GAS  /tmp/cc228lSu.s 			page 69


 324              		.align	2
 325              	.L47:
 326 0148 08E0FFFD 		.word	-33562616
 327              		.cfi_endproc
 328              	.LFE170:
 330              		.section	.text.SD_CmdResp1Error.part.0,"ax",%progbits
 331              		.align	1
 332              		.p2align 2,,3
 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu fpv4-sp-d16
 338              	SD_CmdResp1Error.part.0:
 339              	.LFB171:
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 340              		.loc 1 2775 0
 341              		.cfi_startproc
 342              		@ args = 0, pretend = 0, frame = 0
 343              		@ frame_needed = 0, uses_anonymous_args = 0
 344              	.LVL15:
 345 0000 08B5     		push	{r3, lr}
 346              	.LCFI8:
 347              		.cfi_def_cfa_offset 8
 348              		.cfi_offset 3, -8
 349              		.cfi_offset 14, -4
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 350              		.loc 1 2810 0
 351 0002 0368     		ldr	r3, [r0]
 352 0004 40F2FF52 		movw	r2, #1535
 353 0008 9A63     		str	r2, [r3, #56]
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 354              		.loc 1 2813 0
 355 000a 0020     		movs	r0, #0
 356              	.LVL16:
 357 000c FFF7FEFF 		bl	SDIO_GetResponse
 358              	.LVL17:
2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 359              		.loc 1 2815 0
 360 0010 294B     		ldr	r3, .L89
 361 0012 0340     		ands	r3, r3, r0
 362 0014 3BB1     		cbz	r3, .L51
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 363              		.loc 1 2820 0
 364 0016 0028     		cmp	r0, #0
 365 0018 03DB     		blt	.L52
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 366              		.loc 1 2825 0
 367 001a 4200     		lsls	r2, r0, #1
 368 001c 05D5     		bpl	.L72
2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 369              		.loc 1 2827 0
 370 001e 0920     		movs	r0, #9
 371              	.LVL18:
 372 0020 08BD     		pop	{r3, pc}
 373              	.LVL19:
 374              	.L52:
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 70


 375              		.loc 1 2822 0
 376 0022 1C20     		movs	r0, #28
 377              	.LVL20:
 378 0024 08BD     		pop	{r3, pc}
 379              	.LVL21:
 380              	.L51:
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 381              		.loc 1 2915 0
 382 0026 1846     		mov	r0, r3
 383              	.LVL22:
 384 0028 08BD     		pop	{r3, pc}
 385              	.LVL23:
 386              	.L72:
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 387              		.loc 1 2830 0
 388 002a 8300     		lsls	r3, r0, #2
 389 002c 01D5     		bpl	.L73
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 390              		.loc 1 2832 0
 391 002e 0A20     		movs	r0, #10
 392              	.LVL24:
 393 0030 08BD     		pop	{r3, pc}
 394              	.LVL25:
 395              	.L73:
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 396              		.loc 1 2835 0
 397 0032 C100     		lsls	r1, r0, #3
 398 0034 01D5     		bpl	.L74
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 399              		.loc 1 2837 0
 400 0036 0B20     		movs	r0, #11
 401              	.LVL26:
 402 0038 08BD     		pop	{r3, pc}
 403              	.LVL27:
 404              	.L74:
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 405              		.loc 1 2840 0
 406 003a 0201     		lsls	r2, r0, #4
 407 003c 01D5     		bpl	.L75
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 408              		.loc 1 2842 0
 409 003e 0C20     		movs	r0, #12
 410              	.LVL28:
 411 0040 08BD     		pop	{r3, pc}
 412              	.LVL29:
 413              	.L75:
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 414              		.loc 1 2845 0
 415 0042 4301     		lsls	r3, r0, #5
 416 0044 01D5     		bpl	.L76
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 417              		.loc 1 2847 0
 418 0046 0D20     		movs	r0, #13
 419              	.LVL30:
 420 0048 08BD     		pop	{r3, pc}
 421              	.LVL31:
 422              	.L76:
ARM GAS  /tmp/cc228lSu.s 			page 71


2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 423              		.loc 1 2850 0
 424 004a C101     		lsls	r1, r0, #7
 425 004c 01D5     		bpl	.L77
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 426              		.loc 1 2852 0
 427 004e 0E20     		movs	r0, #14
 428              	.LVL32:
 429 0050 08BD     		pop	{r3, pc}
 430              	.LVL33:
 431              	.L77:
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 432              		.loc 1 2855 0
 433 0052 0202     		lsls	r2, r0, #8
 434 0054 01D5     		bpl	.L78
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 435              		.loc 1 2857 0
 436 0056 0F20     		movs	r0, #15
 437              	.LVL34:
 438 0058 08BD     		pop	{r3, pc}
 439              	.LVL35:
 440              	.L78:
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 441              		.loc 1 2860 0
 442 005a 4302     		lsls	r3, r0, #9
 443 005c 01D5     		bpl	.L79
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 444              		.loc 1 2862 0
 445 005e 1020     		movs	r0, #16
 446              	.LVL36:
 447 0060 08BD     		pop	{r3, pc}
 448              	.LVL37:
 449              	.L79:
2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 450              		.loc 1 2865 0
 451 0062 8102     		lsls	r1, r0, #10
 452 0064 01D5     		bpl	.L80
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 453              		.loc 1 2867 0
 454 0066 1120     		movs	r0, #17
 455              	.LVL38:
 456 0068 08BD     		pop	{r3, pc}
 457              	.LVL39:
 458              	.L80:
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 459              		.loc 1 2870 0
 460 006a C202     		lsls	r2, r0, #11
 461 006c 01D5     		bpl	.L81
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 462              		.loc 1 2872 0
 463 006e 1220     		movs	r0, #18
 464              	.LVL40:
 465 0070 08BD     		pop	{r3, pc}
 466              	.LVL41:
 467              	.L81:
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 468              		.loc 1 2875 0
ARM GAS  /tmp/cc228lSu.s 			page 72


 469 0072 0303     		lsls	r3, r0, #12
 470 0074 01D5     		bpl	.L82
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 471              		.loc 1 2877 0
 472 0076 1320     		movs	r0, #19
 473              	.LVL42:
 474 0078 08BD     		pop	{r3, pc}
 475              	.LVL43:
 476              	.L82:
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 477              		.loc 1 2880 0
 478 007a 4103     		lsls	r1, r0, #13
 479 007c 01D5     		bpl	.L83
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 480              		.loc 1 2882 0
 481 007e 1420     		movs	r0, #20
 482              	.LVL44:
 483 0080 08BD     		pop	{r3, pc}
 484              	.LVL45:
 485              	.L83:
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 486              		.loc 1 2885 0
 487 0082 8203     		lsls	r2, r0, #14
 488 0084 01D5     		bpl	.L84
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 489              		.loc 1 2887 0
 490 0086 1520     		movs	r0, #21
 491              	.LVL46:
 492 0088 08BD     		pop	{r3, pc}
 493              	.LVL47:
 494              	.L84:
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 495              		.loc 1 2890 0
 496 008a C303     		lsls	r3, r0, #15
 497 008c 01D5     		bpl	.L85
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 498              		.loc 1 2892 0
 499 008e 1620     		movs	r0, #22
 500              	.LVL48:
 501 0090 08BD     		pop	{r3, pc}
 502              	.LVL49:
 503              	.L85:
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 504              		.loc 1 2895 0
 505 0092 0104     		lsls	r1, r0, #16
 506 0094 01D5     		bpl	.L86
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 507              		.loc 1 2897 0
 508 0096 1720     		movs	r0, #23
 509              	.LVL50:
 510 0098 08BD     		pop	{r3, pc}
 511              	.LVL51:
 512              	.L86:
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 513              		.loc 1 2900 0
 514 009a 4204     		lsls	r2, r0, #17
 515 009c 01D5     		bpl	.L87
ARM GAS  /tmp/cc228lSu.s 			page 73


2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 516              		.loc 1 2902 0
 517 009e 1820     		movs	r0, #24
 518              	.LVL52:
 519 00a0 08BD     		pop	{r3, pc}
 520              	.LVL53:
 521              	.L87:
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 522              		.loc 1 2905 0
 523 00a2 8304     		lsls	r3, r0, #18
 524 00a4 01D5     		bpl	.L88
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 525              		.loc 1 2907 0
 526 00a6 1920     		movs	r0, #25
 527              	.LVL54:
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 528              		.loc 1 2916 0
 529 00a8 08BD     		pop	{r3, pc}
 530              	.LVL55:
 531              	.L88:
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 532              		.loc 1 2910 0
 533 00aa 10F0080F 		tst	r0, #8
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 534              		.loc 1 2912 0
 535 00ae 0CBF     		ite	eq
 536 00b0 0020     		moveq	r0, #0
 537              	.LVL56:
 538 00b2 1A20     		movne	r0, #26
 539 00b4 08BD     		pop	{r3, pc}
 540              	.L90:
 541 00b6 00BF     		.align	2
 542              	.L89:
 543 00b8 08E0FFFD 		.word	-33562616
 544              		.cfi_endproc
 545              	.LFE171:
 547              		.section	.text.SD_CmdResp1Error,"ax",%progbits
 548              		.align	1
 549              		.p2align 2,,3
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 553              		.fpu fpv4-sp-d16
 555              	SD_CmdResp1Error:
 556              	.LFB163:
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 557              		.loc 1 2776 0
 558              		.cfi_startproc
 559              		@ args = 0, pretend = 0, frame = 0
 560              		@ frame_needed = 0, uses_anonymous_args = 0
 561              	.LVL57:
 562 0000 38B5     		push	{r3, r4, r5, lr}
 563              	.LCFI9:
 564              		.cfi_def_cfa_offset 16
 565              		.cfi_offset 3, -16
 566              		.cfi_offset 4, -12
 567              		.cfi_offset 5, -8
ARM GAS  /tmp/cc228lSu.s 			page 74


 568              		.cfi_offset 14, -4
 569 0002 0268     		ldr	r2, [r0]
 570              	.L92:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 571              		.loc 1 2780 0 discriminator 1
 572 0004 536B     		ldr	r3, [r2, #52]
 573 0006 13F0450F 		tst	r3, #69
 574 000a FBD0     		beq	.L92
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 575              		.loc 1 2784 0
 576 000c 536B     		ldr	r3, [r2, #52]
 577 000e 5C07     		lsls	r4, r3, #29
 578 0010 03D5     		bpl	.L93
 579              	.LVL58:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 580              		.loc 1 2788 0
 581 0012 0423     		movs	r3, #4
 582 0014 9363     		str	r3, [r2, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 583              		.loc 1 2790 0
 584 0016 0320     		movs	r0, #3
 585              	.LVL59:
 586 0018 38BD     		pop	{r3, r4, r5, pc}
 587              	.LVL60:
 588              	.L93:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 589              		.loc 1 2792 0
 590 001a 536B     		ldr	r3, [r2, #52]
 591 001c DB07     		lsls	r3, r3, #31
 592 001e 02D5     		bpl	.L95
 593              	.LVL61:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 594              		.loc 1 2796 0
 595 0020 0120     		movs	r0, #1
 596              	.LVL62:
 597 0022 9063     		str	r0, [r2, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 598              		.loc 1 2798 0
 599 0024 38BD     		pop	{r3, r4, r5, pc}
 600              	.LVL63:
 601              	.L95:
 602 0026 0446     		mov	r4, r0
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 603              		.loc 1 2802 0
 604 0028 1046     		mov	r0, r2
 605              	.LVL64:
 606 002a 0D46     		mov	r5, r1
 607 002c FFF7FEFF 		bl	SDIO_GetCommandResponse
 608              	.LVL65:
 609 0030 A842     		cmp	r0, r5
 610 0032 01D0     		beq	.L100
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 611              		.loc 1 2806 0
 612 0034 1020     		movs	r0, #16
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 613              		.loc 1 2916 0
 614 0036 38BD     		pop	{r3, r4, r5, pc}
ARM GAS  /tmp/cc228lSu.s 			page 75


 615              	.LVL66:
 616              	.L100:
 617 0038 2046     		mov	r0, r4
 618 003a BDE83840 		pop	{r3, r4, r5, lr}
 619              	.LCFI10:
 620              		.cfi_restore 14
 621              		.cfi_restore 5
 622              		.cfi_restore 4
 623              		.cfi_restore 3
 624              		.cfi_def_cfa_offset 0
 625              	.LVL67:
 626 003e FFF7FEBF 		b	SD_CmdResp1Error.part.0
 627              	.LVL68:
 628              		.cfi_endproc
 629              	.LFE163:
 631 0042 00BF     		.section	.text.HAL_SD_SendSDStatus.part.1,"ax",%progbits
 632              		.align	1
 633              		.p2align 2,,3
 634              		.syntax unified
 635              		.thumb
 636              		.thumb_func
 637              		.fpu fpv4-sp-d16
 639              	HAL_SD_SendSDStatus.part.1:
 640              	.LFB172:
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 641              		.loc 1 2021 0
 642              		.cfi_startproc
 643              		@ args = 0, pretend = 0, frame = 48
 644              		@ frame_needed = 0, uses_anonymous_args = 0
 645              	.LVL69:
 646 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 647              	.LCFI11:
 648              		.cfi_def_cfa_offset 28
 649              		.cfi_offset 4, -28
 650              		.cfi_offset 5, -24
 651              		.cfi_offset 6, -20
 652              		.cfi_offset 7, -16
 653              		.cfi_offset 8, -12
 654              		.cfi_offset 9, -8
 655              		.cfi_offset 14, -4
 656 0004 8DB0     		sub	sp, sp, #52
 657              	.LCFI12:
 658              		.cfi_def_cfa_offset 80
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 659              		.loc 1 2037 0
 660 0006 4023     		movs	r3, #64
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 661              		.loc 1 2021 0
 662 0008 0446     		mov	r4, r0
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 663              		.loc 1 2040 0
 664 000a 0022     		movs	r2, #0
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 665              		.loc 1 2037 0
 666 000c 0193     		str	r3, [sp, #4]
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 667              		.loc 1 2039 0
ARM GAS  /tmp/cc228lSu.s 			page 76


 668 000e 0393     		str	r3, [sp, #12]
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 669              		.loc 1 2021 0
 670 0010 0D46     		mov	r5, r1
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 671              		.loc 1 2041 0
 672 0012 4FF48063 		mov	r3, #1024
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 673              		.loc 1 2042 0
 674 0016 0068     		ldr	r0, [r0]
 675              	.LVL70:
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 676              		.loc 1 2040 0
 677 0018 0492     		str	r2, [sp, #16]
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 678              		.loc 1 2042 0
 679 001a 01A9     		add	r1, sp, #4
 680              	.LVL71:
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 681              		.loc 1 2038 0
 682 001c 1026     		movs	r6, #16
 683 001e 0296     		str	r6, [sp, #8]
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 684              		.loc 1 2041 0
 685 0020 0593     		str	r3, [sp, #20]
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 686              		.loc 1 2042 0
 687 0022 FFF7FEFF 		bl	SDIO_SendCommand
 688              	.LVL72:
 689 0026 2068     		ldr	r0, [r4]
 690              	.L102:
 691              	.LBB20:
 692              	.LBB21:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 693              		.loc 1 2780 0
 694 0028 436B     		ldr	r3, [r0, #52]
 695 002a 13F0450F 		tst	r3, #69
 696 002e FBD0     		beq	.L102
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 697              		.loc 1 2784 0
 698 0030 436B     		ldr	r3, [r0, #52]
 699 0032 5E07     		lsls	r6, r3, #29
 700 0034 06D5     		bpl	.L142
 701              	.LVL73:
 702              	.L140:
 703              	.LBE21:
 704              	.LBE20:
 705              	.LBB25:
 706              	.LBB26:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 707              		.loc 1 2788 0
 708 0036 0423     		movs	r3, #4
 709 0038 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 710              		.loc 1 2790 0
 711 003a 0326     		movs	r6, #3
 712              	.LVL74:
ARM GAS  /tmp/cc228lSu.s 			page 77


 713              	.L104:
 714              	.LBE26:
 715              	.LBE25:
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 716              		.loc 1 2156 0
 717 003c 3046     		mov	r0, r6
 718 003e 0DB0     		add	sp, sp, #52
 719              	.LCFI13:
 720              		.cfi_remember_state
 721              		.cfi_def_cfa_offset 28
 722              		@ sp needed
 723 0040 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 724              	.LVL75:
 725              	.L142:
 726              	.LCFI14:
 727              		.cfi_restore_state
 728              	.LBB29:
 729              	.LBB22:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 730              		.loc 1 2792 0
 731 0044 436B     		ldr	r3, [r0, #52]
 732 0046 D907     		lsls	r1, r3, #31
 733 0048 05D5     		bpl	.L143
 734              	.LVL76:
 735              	.L141:
 736              	.LBE22:
 737              	.LBE29:
 738              	.LBB30:
 739              	.LBB27:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 740              		.loc 1 2796 0
 741 004a 0126     		movs	r6, #1
 742 004c 8663     		str	r6, [r0, #56]
 743              	.LBE27:
 744              	.LBE30:
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 745              		.loc 1 2156 0
 746 004e 3046     		mov	r0, r6
 747 0050 0DB0     		add	sp, sp, #52
 748              	.LCFI15:
 749              		.cfi_remember_state
 750              		.cfi_def_cfa_offset 28
 751              		@ sp needed
 752 0052 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 753              	.LVL77:
 754              	.L143:
 755              	.LCFI16:
 756              		.cfi_restore_state
 757              	.LBB31:
 758              	.LBB23:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 759              		.loc 1 2802 0
 760 0056 FFF7FEFF 		bl	SDIO_GetCommandResponse
 761              	.LVL78:
 762 005a 1028     		cmp	r0, #16
 763 005c 04D0     		beq	.L106
 764              	.LVL79:
ARM GAS  /tmp/cc228lSu.s 			page 78


 765              	.L110:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 766              		.loc 1 2806 0
 767 005e 1026     		movs	r6, #16
 768              	.LBE23:
 769              	.LBE31:
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 770              		.loc 1 2156 0
 771 0060 3046     		mov	r0, r6
 772 0062 0DB0     		add	sp, sp, #52
 773              	.LCFI17:
 774              		.cfi_remember_state
 775              		.cfi_def_cfa_offset 28
 776              		@ sp needed
 777 0064 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 778              	.LVL80:
 779              	.L106:
 780              	.LCFI18:
 781              		.cfi_restore_state
 782              	.LBB32:
 783              	.LBB24:
 784 0068 2046     		mov	r0, r4
 785 006a FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 786              	.LVL81:
 787              	.LBE24:
 788              	.LBE32:
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 789              		.loc 1 2047 0
 790 006e 0646     		mov	r6, r0
 791 0070 0028     		cmp	r0, #0
 792 0072 E3D1     		bne	.L104
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 793              		.loc 1 2053 0
 794 0074 636A     		ldr	r3, [r4, #36]
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 795              		.loc 1 2055 0
 796 0076 2068     		ldr	r0, [r4]
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 797              		.loc 1 2053 0
 798 0078 1B04     		lsls	r3, r3, #16
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 799              		.loc 1 2054 0
 800 007a 3722     		movs	r2, #55
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 801              		.loc 1 2055 0
 802 007c 01A9     		add	r1, sp, #4
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 803              		.loc 1 2053 0
 804 007e 0193     		str	r3, [sp, #4]
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 805              		.loc 1 2054 0
 806 0080 0292     		str	r2, [sp, #8]
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 807              		.loc 1 2055 0
 808 0082 FFF7FEFF 		bl	SDIO_SendCommand
 809              	.LVL82:
 810 0086 2068     		ldr	r0, [r4]
ARM GAS  /tmp/cc228lSu.s 			page 79


 811              	.L107:
 812              	.LBB33:
 813              	.LBB34:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 814              		.loc 1 2780 0
 815 0088 436B     		ldr	r3, [r0, #52]
 816 008a 13F0450F 		tst	r3, #69
 817 008e FBD0     		beq	.L107
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 818              		.loc 1 2784 0
 819 0090 436B     		ldr	r3, [r0, #52]
 820 0092 5A07     		lsls	r2, r3, #29
 821 0094 CFD4     		bmi	.L140
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 822              		.loc 1 2792 0
 823 0096 436B     		ldr	r3, [r0, #52]
 824 0098 DB07     		lsls	r3, r3, #31
 825 009a D6D4     		bmi	.L141
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 826              		.loc 1 2802 0
 827 009c FFF7FEFF 		bl	SDIO_GetCommandResponse
 828              	.LVL83:
 829 00a0 3728     		cmp	r0, #55
 830 00a2 DCD1     		bne	.L110
 831 00a4 2046     		mov	r0, r4
 832 00a6 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 833              	.LVL84:
 834 00aa 0746     		mov	r7, r0
 835 00ac 0646     		mov	r6, r0
 836              	.LVL85:
 837              	.LBE34:
 838              	.LBE33:
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 839              		.loc 1 2060 0
 840 00ae 0028     		cmp	r0, #0
 841 00b0 C4D1     		bne	.L104
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64U;
 842              		.loc 1 2066 0
 843 00b2 4FF0FF33 		mov	r3, #-1
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 844              		.loc 1 2067 0
 845 00b6 4021     		movs	r1, #64
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 846              		.loc 1 2068 0
 847 00b8 6020     		movs	r0, #96
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 848              		.loc 1 2069 0
 849 00ba 0222     		movs	r2, #2
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64U;
 850              		.loc 1 2066 0
 851 00bc 0693     		str	r3, [sp, #24]
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 852              		.loc 1 2067 0
 853 00be 0791     		str	r1, [sp, #28]
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 854              		.loc 1 2071 0
 855 00c0 0123     		movs	r3, #1
ARM GAS  /tmp/cc228lSu.s 			page 80


2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 856              		.loc 1 2072 0
 857 00c2 06A9     		add	r1, sp, #24
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 858              		.loc 1 2068 0
 859 00c4 0890     		str	r0, [sp, #32]
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 860              		.loc 1 2072 0
 861 00c6 2068     		ldr	r0, [r4]
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 862              		.loc 1 2069 0
 863 00c8 0992     		str	r2, [sp, #36]
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 864              		.loc 1 2071 0
 865 00ca 0B93     		str	r3, [sp, #44]
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 866              		.loc 1 2070 0
 867 00cc 0A97     		str	r7, [sp, #40]
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 868              		.loc 1 2072 0
 869 00ce FFF7FEFF 		bl	SDIO_DataConfig
 870              	.LVL86:
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 871              		.loc 1 2076 0
 872 00d2 0D23     		movs	r3, #13
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 873              		.loc 1 2077 0
 874 00d4 01A9     		add	r1, sp, #4
 875 00d6 2068     		ldr	r0, [r4]
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_STATUS;
 876              		.loc 1 2075 0
 877 00d8 0197     		str	r7, [sp, #4]
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 878              		.loc 1 2076 0
 879 00da 0293     		str	r3, [sp, #8]
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 880              		.loc 1 2077 0
 881 00dc FFF7FEFF 		bl	SDIO_SendCommand
 882              	.LVL87:
 883 00e0 2068     		ldr	r0, [r4]
 884              	.L111:
 885              	.LBB35:
 886              	.LBB28:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 887              		.loc 1 2780 0
 888 00e2 436B     		ldr	r3, [r0, #52]
 889 00e4 13F0450F 		tst	r3, #69
 890 00e8 FBD0     		beq	.L111
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 891              		.loc 1 2784 0
 892 00ea 436B     		ldr	r3, [r0, #52]
 893 00ec 5F07     		lsls	r7, r3, #29
 894 00ee A2D4     		bmi	.L140
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 895              		.loc 1 2792 0
 896 00f0 436B     		ldr	r3, [r0, #52]
 897 00f2 DE07     		lsls	r6, r3, #31
ARM GAS  /tmp/cc228lSu.s 			page 81


 898 00f4 A9D4     		bmi	.L141
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 899              		.loc 1 2802 0
 900 00f6 FFF7FEFF 		bl	SDIO_GetCommandResponse
 901              	.LVL88:
 902 00fa 0D28     		cmp	r0, #13
 903 00fc AFD1     		bne	.L110
 904 00fe 2046     		mov	r0, r4
 905 0100 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 906              	.LVL89:
 907              	.LBE28:
 908              	.LBE35:
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 909              		.loc 1 2082 0
 910 0104 0646     		mov	r6, r0
 911 0106 0028     		cmp	r0, #0
 912 0108 98D1     		bne	.L104
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 913              		.loc 1 2089 0
 914 010a 40F22A68 		movw	r8, #1578
 915              	.L114:
 916 010e 2368     		ldr	r3, [r4]
 917 0110 01E0     		b	.L115
 918              	.LVL90:
 919              	.L118:
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 920              		.loc 1 2094 0
 921 0112 1004     		lsls	r0, r2, #16
 922 0114 0AD4     		bmi	.L144
 923              	.L115:
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 924              		.loc 1 2089 0
 925 0116 5A6B     		ldr	r2, [r3, #52]
 926 0118 12EA080F 		tst	r2, r8
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 927              		.loc 1 2094 0
 928 011c 5A6B     		ldr	r2, [r3, #52]
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 929              		.loc 1 2089 0
 930 011e F8D0     		beq	.L118
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 931              		.loc 1 2105 0
 932 0120 1107     		lsls	r1, r2, #28
 933 0122 11D5     		bpl	.L119
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 934              		.loc 1 2107 0
 935 0124 0822     		movs	r2, #8
 936 0126 9A63     		str	r2, [r3, #56]
 937              	.LVL91:
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 938              		.loc 1 2111 0
 939 0128 0426     		movs	r6, #4
 940 012a 87E7     		b	.L104
 941              	.LVL92:
 942              	.L144:
 943 012c 2F1F     		subs	r7, r5, #4
 944 012e 05F11C09 		add	r9, r5, #28
ARM GAS  /tmp/cc228lSu.s 			page 82


 945 0132 00E0     		b	.L117
 946              	.LVL93:
 947              	.L145:
 948 0134 2368     		ldr	r3, [r4]
 949              	.L117:
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 950              		.loc 1 2098 0
 951 0136 1846     		mov	r0, r3
 952 0138 FFF7FEFF 		bl	SDIO_ReadFIFO
 953              	.LVL94:
 954 013c 47F8040F 		str	r0, [r7, #4]!
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 955              		.loc 1 2096 0
 956 0140 4F45     		cmp	r7, r9
 957 0142 F7D1     		bne	.L145
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 958              		.loc 1 2101 0
 959 0144 2035     		adds	r5, r5, #32
 960              	.LVL95:
 961 0146 E2E7     		b	.L114
 962              	.LVL96:
 963              	.L119:
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 964              		.loc 1 2113 0
 965 0148 5A6B     		ldr	r2, [r3, #52]
 966 014a 9207     		lsls	r2, r2, #30
 967 014c 02D5     		bpl	.L120
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 968              		.loc 1 2115 0
 969 014e 0226     		movs	r6, #2
 970 0150 9E63     		str	r6, [r3, #56]
 971              	.LVL97:
 972 0152 73E7     		b	.L104
 973              	.LVL98:
 974              	.L120:
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 975              		.loc 1 2121 0
 976 0154 5A6B     		ldr	r2, [r3, #52]
 977 0156 9706     		lsls	r7, r2, #26
 978 0158 03D5     		bpl	.L121
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 979              		.loc 1 2123 0
 980 015a 2022     		movs	r2, #32
 981 015c 9A63     		str	r2, [r3, #56]
 982              	.LVL99:
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 983              		.loc 1 2127 0
 984 015e 0626     		movs	r6, #6
 985 0160 6CE7     		b	.L104
 986              	.LVL100:
 987              	.L121:
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 988              		.loc 1 2130 0
 989 0162 5A6B     		ldr	r2, [r3, #52]
 990 0164 9005     		lsls	r0, r2, #22
 991 0166 04D5     		bpl	.L146
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cc228lSu.s 			page 83


 992              		.loc 1 2132 0
 993 0168 4FF40072 		mov	r2, #512
 994 016c 9A63     		str	r2, [r3, #56]
 995              	.LVL101:
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 996              		.loc 1 2136 0
 997 016e 0726     		movs	r6, #7
 998 0170 64E7     		b	.L104
 999              	.LVL102:
 1000              	.L146:
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1001              		.loc 1 2145 0
 1002 0172 5A6B     		ldr	r2, [r3, #52]
 1003 0174 9102     		lsls	r1, r2, #10
 1004 0176 48BF     		it	mi
 1005 0178 4FF0FF37 		movmi	r7, #-1
 1006 017c 02D4     		bmi	.L125
 1007 017e 0AE0     		b	.L124
 1008              	.LVL103:
 1009              	.L147:
 1010 0180 013F     		subs	r7, r7, #1
 1011 0182 08D0     		beq	.L124
 1012              	.L125:
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pSDstatus++;
 1013              		.loc 1 2147 0
 1014 0184 1846     		mov	r0, r3
 1015 0186 FFF7FEFF 		bl	SDIO_ReadFIFO
 1016              	.LVL104:
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1017              		.loc 1 2145 0
 1018 018a 2368     		ldr	r3, [r4]
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pSDstatus++;
 1019              		.loc 1 2147 0
 1020 018c 45F8040B 		str	r0, [r5], #4
 1021              	.LVL105:
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1022              		.loc 1 2145 0
 1023 0190 5A6B     		ldr	r2, [r3, #52]
 1024 0192 9202     		lsls	r2, r2, #10
 1025 0194 F4D4     		bmi	.L147
 1026              	.L124:
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1027              		.loc 1 2153 0
 1028 0196 40F2FF52 		movw	r2, #1535
 1029 019a 9A63     		str	r2, [r3, #56]
 1030 019c 4EE7     		b	.L104
 1031              		.cfi_endproc
 1032              	.LFE172:
 1034 019e 00BF     		.section	.text.SD_FindSCR,"ax",%progbits
 1035              		.align	1
 1036              		.p2align 2,,3
 1037              		.syntax unified
 1038              		.thumb
 1039              		.thumb_func
 1040              		.fpu fpv4-sp-d16
 1042              	SD_FindSCR:
 1043              	.LFB169:
ARM GAS  /tmp/cc228lSu.s 			page 84


3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 1044              		.loc 1 3209 0
 1045              		.cfi_startproc
 1046              		@ args = 0, pretend = 0, frame = 56
 1047              		@ frame_needed = 0, uses_anonymous_args = 0
 1048              	.LVL106:
 1049 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1050              	.LCFI19:
 1051              		.cfi_def_cfa_offset 24
 1052              		.cfi_offset 4, -24
 1053              		.cfi_offset 5, -20
 1054              		.cfi_offset 6, -16
 1055              		.cfi_offset 7, -12
 1056              		.cfi_offset 8, -8
 1057              		.cfi_offset 14, -4
 1058 0004 8EB0     		sub	sp, sp, #56
 1059              	.LCFI20:
 1060              		.cfi_def_cfa_offset 80
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1061              		.loc 1 3214 0
 1062 0006 0023     		movs	r3, #0
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 1063              		.loc 1 3209 0
 1064 0008 0446     		mov	r4, r0
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1065              		.loc 1 3214 0
 1066 000a 0193     		str	r3, [sp, #4]
 1067 000c 0293     		str	r3, [sp, #8]
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1068              		.loc 1 3221 0
 1069 000e 0693     		str	r3, [sp, #24]
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1070              		.loc 1 3220 0
 1071 0010 4022     		movs	r2, #64
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1072              		.loc 1 3222 0
 1073 0012 4FF48063 		mov	r3, #1024
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 1074              		.loc 1 3209 0
 1075 0016 0D46     		mov	r5, r1
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1076              		.loc 1 3223 0
 1077 0018 0068     		ldr	r0, [r0]
 1078              	.LVL107:
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1079              		.loc 1 3220 0
 1080 001a 0592     		str	r2, [sp, #20]
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1081              		.loc 1 3223 0
 1082 001c 03A9     		add	r1, sp, #12
 1083              	.LVL108:
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1084              		.loc 1 3218 0
 1085 001e 0827     		movs	r7, #8
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1086              		.loc 1 3219 0
 1087 0020 1026     		movs	r6, #16
ARM GAS  /tmp/cc228lSu.s 			page 85


3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1088              		.loc 1 3218 0
 1089 0022 0397     		str	r7, [sp, #12]
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1090              		.loc 1 3219 0
 1091 0024 0496     		str	r6, [sp, #16]
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1092              		.loc 1 3222 0
 1093 0026 0793     		str	r3, [sp, #28]
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1094              		.loc 1 3223 0
 1095 0028 FFF7FEFF 		bl	SDIO_SendCommand
 1096              	.LVL109:
 1097 002c 2068     		ldr	r0, [r4]
 1098              	.L149:
 1099              	.LBB42:
 1100              	.LBB43:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1101              		.loc 1 2780 0
 1102 002e 436B     		ldr	r3, [r0, #52]
 1103 0030 13F0450F 		tst	r3, #69
 1104 0034 FBD0     		beq	.L149
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1105              		.loc 1 2784 0
 1106 0036 436B     		ldr	r3, [r0, #52]
 1107 0038 5A07     		lsls	r2, r3, #29
 1108 003a 06D5     		bpl	.L180
 1109              	.LVL110:
 1110              	.L178:
 1111              	.LBE43:
 1112              	.LBE42:
 1113              	.LBB47:
 1114              	.LBB48:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1115              		.loc 1 2788 0
 1116 003c 0423     		movs	r3, #4
 1117 003e 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1118              		.loc 1 2790 0
 1119 0040 0326     		movs	r6, #3
 1120              	.LVL111:
 1121              	.L151:
 1122              	.LBE48:
 1123              	.LBE47:
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1124              		.loc 1 3327 0
 1125 0042 3046     		mov	r0, r6
 1126 0044 0EB0     		add	sp, sp, #56
 1127              	.LCFI21:
 1128              		.cfi_remember_state
 1129              		.cfi_def_cfa_offset 24
 1130              		@ sp needed
 1131 0046 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1132              	.LVL112:
 1133              	.L180:
 1134              	.LCFI22:
 1135              		.cfi_restore_state
ARM GAS  /tmp/cc228lSu.s 			page 86


 1136              	.LBB51:
 1137              	.LBB44:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1138              		.loc 1 2792 0
 1139 004a 436B     		ldr	r3, [r0, #52]
 1140 004c DB07     		lsls	r3, r3, #31
 1141 004e 05D5     		bpl	.L181
 1142              	.LVL113:
 1143              	.L179:
 1144              	.LBE44:
 1145              	.LBE51:
 1146              	.LBB52:
 1147              	.LBB49:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1148              		.loc 1 2796 0
 1149 0050 0126     		movs	r6, #1
 1150 0052 8663     		str	r6, [r0, #56]
 1151              	.LBE49:
 1152              	.LBE52:
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1153              		.loc 1 3327 0
 1154 0054 3046     		mov	r0, r6
 1155 0056 0EB0     		add	sp, sp, #56
 1156              	.LCFI23:
 1157              		.cfi_remember_state
 1158              		.cfi_def_cfa_offset 24
 1159              		@ sp needed
 1160 0058 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1161              	.LVL114:
 1162              	.L181:
 1163              	.LCFI24:
 1164              		.cfi_restore_state
 1165              	.LBB53:
 1166              	.LBB45:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1167              		.loc 1 2802 0
 1168 005c FFF7FEFF 		bl	SDIO_GetCommandResponse
 1169              	.LVL115:
 1170 0060 1028     		cmp	r0, #16
 1171 0062 04D0     		beq	.L153
 1172              	.LVL116:
 1173              	.L157:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1174              		.loc 1 2806 0
 1175 0064 1026     		movs	r6, #16
 1176              	.LBE45:
 1177              	.LBE53:
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1178              		.loc 1 3327 0
 1179 0066 3046     		mov	r0, r6
 1180 0068 0EB0     		add	sp, sp, #56
 1181              	.LCFI25:
 1182              		.cfi_remember_state
 1183              		.cfi_def_cfa_offset 24
 1184              		@ sp needed
 1185 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1186              	.LVL117:
ARM GAS  /tmp/cc228lSu.s 			page 87


 1187              	.L153:
 1188              	.LCFI26:
 1189              		.cfi_restore_state
 1190              	.LBB54:
 1191              	.LBB46:
 1192 006e 2046     		mov	r0, r4
 1193 0070 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 1194              	.LVL118:
 1195              	.LBE46:
 1196              	.LBE54:
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1197              		.loc 1 3228 0
 1198 0074 0646     		mov	r6, r0
 1199 0076 0028     		cmp	r0, #0
 1200 0078 E3D1     		bne	.L151
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 1201              		.loc 1 3234 0
 1202 007a 636A     		ldr	r3, [r4, #36]
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1203              		.loc 1 3236 0
 1204 007c 2068     		ldr	r0, [r4]
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 1205              		.loc 1 3234 0
 1206 007e 1B04     		lsls	r3, r3, #16
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1207              		.loc 1 3235 0
 1208 0080 3722     		movs	r2, #55
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1209              		.loc 1 3236 0
 1210 0082 03A9     		add	r1, sp, #12
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 1211              		.loc 1 3234 0
 1212 0084 0393     		str	r3, [sp, #12]
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1213              		.loc 1 3235 0
 1214 0086 0492     		str	r2, [sp, #16]
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1215              		.loc 1 3236 0
 1216 0088 FFF7FEFF 		bl	SDIO_SendCommand
 1217              	.LVL119:
 1218 008c 2068     		ldr	r0, [r4]
 1219              	.L154:
 1220              	.LBB55:
 1221              	.LBB56:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1222              		.loc 1 2780 0
 1223 008e 436B     		ldr	r3, [r0, #52]
 1224 0090 13F0450F 		tst	r3, #69
 1225 0094 FBD0     		beq	.L154
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1226              		.loc 1 2784 0
 1227 0096 436B     		ldr	r3, [r0, #52]
 1228 0098 5F07     		lsls	r7, r3, #29
 1229 009a CFD4     		bmi	.L178
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1230              		.loc 1 2792 0
 1231 009c 436B     		ldr	r3, [r0, #52]
ARM GAS  /tmp/cc228lSu.s 			page 88


 1232 009e DE07     		lsls	r6, r3, #31
 1233 00a0 D6D4     		bmi	.L179
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1234              		.loc 1 2802 0
 1235 00a2 FFF7FEFF 		bl	SDIO_GetCommandResponse
 1236              	.LVL120:
 1237 00a6 3728     		cmp	r0, #55
 1238 00a8 DCD1     		bne	.L157
 1239 00aa 2046     		mov	r0, r4
 1240 00ac FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 1241              	.LVL121:
 1242 00b0 0746     		mov	r7, r0
 1243 00b2 0646     		mov	r6, r0
 1244              	.LVL122:
 1245              	.LBE56:
 1246              	.LBE55:
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1247              		.loc 1 3241 0
 1248 00b4 0028     		cmp	r0, #0
 1249 00b6 C4D1     		bne	.L151
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8U;
 1250              		.loc 1 3245 0
 1251 00b8 4FF0FF33 		mov	r3, #-1
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 1252              		.loc 1 3246 0
 1253 00bc 0821     		movs	r1, #8
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1254              		.loc 1 3247 0
 1255 00be 3020     		movs	r0, #48
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1256              		.loc 1 3248 0
 1257 00c0 0222     		movs	r2, #2
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8U;
 1258              		.loc 1 3245 0
 1259 00c2 0893     		str	r3, [sp, #32]
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 1260              		.loc 1 3246 0
 1261 00c4 0991     		str	r1, [sp, #36]
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1262              		.loc 1 3250 0
 1263 00c6 0123     		movs	r3, #1
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1264              		.loc 1 3251 0
 1265 00c8 08A9     		add	r1, sp, #32
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1266              		.loc 1 3247 0
 1267 00ca 0A90     		str	r0, [sp, #40]
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1268              		.loc 1 3251 0
 1269 00cc 2068     		ldr	r0, [r4]
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1270              		.loc 1 3248 0
 1271 00ce 0B92     		str	r2, [sp, #44]
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1272              		.loc 1 3250 0
 1273 00d0 0D93     		str	r3, [sp, #52]
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
ARM GAS  /tmp/cc228lSu.s 			page 89


 1274              		.loc 1 3249 0
 1275 00d2 0C97     		str	r7, [sp, #48]
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1276              		.loc 1 3251 0
 1277 00d4 FFF7FEFF 		bl	SDIO_DataConfig
 1278              	.LVL123:
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1279              		.loc 1 3255 0
 1280 00d8 3323     		movs	r3, #51
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1281              		.loc 1 3256 0
 1282 00da 03A9     		add	r1, sp, #12
 1283 00dc 2068     		ldr	r0, [r4]
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_SEND_SCR;
 1284              		.loc 1 3254 0
 1285 00de 0397     		str	r7, [sp, #12]
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1286              		.loc 1 3255 0
 1287 00e0 0493     		str	r3, [sp, #16]
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1288              		.loc 1 3256 0
 1289 00e2 FFF7FEFF 		bl	SDIO_SendCommand
 1290              	.LVL124:
 1291 00e6 2068     		ldr	r0, [r4]
 1292              	.L158:
 1293              	.LBB57:
 1294              	.LBB50:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1295              		.loc 1 2780 0
 1296 00e8 436B     		ldr	r3, [r0, #52]
 1297 00ea 13F0450F 		tst	r3, #69
 1298 00ee FBD0     		beq	.L158
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1299              		.loc 1 2784 0
 1300 00f0 436B     		ldr	r3, [r0, #52]
 1301 00f2 5907     		lsls	r1, r3, #29
 1302 00f4 A2D4     		bmi	.L178
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1303              		.loc 1 2792 0
 1304 00f6 436B     		ldr	r3, [r0, #52]
 1305 00f8 DA07     		lsls	r2, r3, #31
 1306 00fa A9D4     		bmi	.L179
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1307              		.loc 1 2802 0
 1308 00fc FFF7FEFF 		bl	SDIO_GetCommandResponse
 1309              	.LVL125:
 1310 0100 3328     		cmp	r0, #51
 1311 0102 AFD1     		bne	.L157
 1312 0104 2046     		mov	r0, r4
 1313 0106 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 1314              	.LVL126:
 1315              	.LBE50:
 1316              	.LBE57:
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1317              		.loc 1 3261 0
 1318 010a 0646     		mov	r6, r0
 1319 010c 0028     		cmp	r0, #0
ARM GAS  /tmp/cc228lSu.s 			page 90


 1320 010e 98D1     		bne	.L151
 1321 0110 0DF10408 		add	r8, sp, #4
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1322              		.loc 1 3266 0
 1323 0114 40F22A67 		movw	r7, #1578
 1324              	.LVL127:
 1325              	.L161:
 1326 0118 2068     		ldr	r0, [r4]
 1327 011a 01E0     		b	.L162
 1328              	.L163:
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1329              		.loc 1 3271 0
 1330 011c 9B02     		lsls	r3, r3, #10
 1331 011e 09D4     		bmi	.L182
 1332              	.L162:
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1333              		.loc 1 3266 0
 1334 0120 436B     		ldr	r3, [r0, #52]
 1335 0122 3B42     		tst	r3, r7
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1336              		.loc 1 3271 0
 1337 0124 436B     		ldr	r3, [r0, #52]
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1338              		.loc 1 3266 0
 1339 0126 F9D0     		beq	.L163
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1340              		.loc 1 3278 0
 1341 0128 1C07     		lsls	r4, r3, #28
 1342              	.LVL128:
 1343 012a 08D5     		bpl	.L164
3280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1344              		.loc 1 3280 0
 1345 012c 0823     		movs	r3, #8
 1346 012e 8363     		str	r3, [r0, #56]
 1347              	.LVL129:
3284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1348              		.loc 1 3284 0
 1349 0130 0426     		movs	r6, #4
 1350 0132 86E7     		b	.L151
 1351              	.LVL130:
 1352              	.L182:
3273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
 1353              		.loc 1 3273 0
 1354 0134 FFF7FEFF 		bl	SDIO_ReadFIFO
 1355              	.LVL131:
 1356 0138 48F8040B 		str	r0, [r8], #4
 1357 013c ECE7     		b	.L161
 1358              	.LVL132:
 1359              	.L164:
3286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1360              		.loc 1 3286 0
 1361 013e 436B     		ldr	r3, [r0, #52]
 1362 0140 9907     		lsls	r1, r3, #30
 1363 0142 02D5     		bpl	.L165
3288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1364              		.loc 1 3288 0
 1365 0144 0226     		movs	r6, #2
ARM GAS  /tmp/cc228lSu.s 			page 91


 1366 0146 8663     		str	r6, [r0, #56]
 1367              	.LVL133:
3292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1368              		.loc 1 3292 0
 1369 0148 7BE7     		b	.L151
 1370              	.LVL134:
 1371              	.L165:
3294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1372              		.loc 1 3294 0
 1373 014a 436B     		ldr	r3, [r0, #52]
 1374 014c 9A06     		lsls	r2, r3, #26
 1375 014e 03D5     		bpl	.L166
3296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1376              		.loc 1 3296 0
 1377 0150 2023     		movs	r3, #32
 1378 0152 8363     		str	r3, [r0, #56]
 1379              	.LVL135:
3300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1380              		.loc 1 3300 0
 1381 0154 0626     		movs	r6, #6
 1382 0156 74E7     		b	.L151
 1383              	.LVL136:
 1384              	.L166:
3303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1385              		.loc 1 3303 0
 1386 0158 436B     		ldr	r3, [r0, #52]
 1387 015a 9B05     		lsls	r3, r3, #22
 1388 015c 04D5     		bpl	.L167
3305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1389              		.loc 1 3305 0
 1390 015e 4FF40073 		mov	r3, #512
 1391 0162 8363     		str	r3, [r0, #56]
 1392              	.LVL137:
3309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1393              		.loc 1 3309 0
 1394 0164 0726     		movs	r6, #7
 1395 0166 6CE7     		b	.L151
 1396              	.LVL138:
 1397              	.L167:
 1398 0168 019A     		ldr	r2, [sp, #4]
 1399 016a 029B     		ldr	r3, [sp, #8]
 1400 016c 12BA     		rev	r2, r2
3318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1401              		.loc 1 3318 0
 1402 016e 40F2FF51 		movw	r1, #1535
 1403 0172 1BBA     		rev	r3, r3
 1404 0174 8163     		str	r1, [r0, #56]
3320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[0U] & SD_16TO23BITS) >> 8U) | ((tempscr[0U] & SD_24TO31BITS) >> 24U);
 1405              		.loc 1 3320 0
 1406 0176 6A60     		str	r2, [r5, #4]
3323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[1U] & SD_16TO23BITS) >> 8U) | ((tempscr[1U] & SD_24TO31BITS) >> 24U);
 1407              		.loc 1 3323 0
 1408 0178 2B60     		str	r3, [r5]
3326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1409              		.loc 1 3326 0
 1410 017a 62E7     		b	.L151
 1411              		.cfi_endproc
ARM GAS  /tmp/cc228lSu.s 			page 92


 1412              	.LFE169:
 1414              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 1415              		.align	1
 1416              		.p2align 2,,3
 1417              		.weak	HAL_SD_MspInit
 1418              		.syntax unified
 1419              		.thumb
 1420              		.thumb_func
 1421              		.fpu fpv4-sp-d16
 1423              	HAL_SD_MspInit:
 1424              	.LFB186:
 1425              		.cfi_startproc
 1426              		@ args = 0, pretend = 0, frame = 0
 1427              		@ frame_needed = 0, uses_anonymous_args = 0
 1428              		@ link register save eliminated.
 1429 0000 7047     		bx	lr
 1430              		.cfi_endproc
 1431              	.LFE186:
 1433 0002 00BF     		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 1434              		.align	1
 1435              		.p2align 2,,3
 1436              		.weak	HAL_SD_MspDeInit
 1437              		.syntax unified
 1438              		.thumb
 1439              		.thumb_func
 1440              		.fpu fpv4-sp-d16
 1442              	HAL_SD_MspDeInit:
 1443              	.LFB184:
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 0
 1446              		@ frame_needed = 0, uses_anonymous_args = 0
 1447              		@ link register save eliminated.
 1448 0000 7047     		bx	lr
 1449              		.cfi_endproc
 1450              	.LFE184:
 1452 0002 00BF     		.section	.text.HAL_SD_DeInit,"ax",%progbits
 1453              		.align	1
 1454              		.p2align 2,,3
 1455              		.global	HAL_SD_DeInit
 1456              		.syntax unified
 1457              		.thumb
 1458              		.thumb_func
 1459              		.fpu fpv4-sp-d16
 1461              	HAL_SD_DeInit:
 1462              	.LFB127:
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1463              		.loc 1 400 0
 1464              		.cfi_startproc
 1465              		@ args = 0, pretend = 0, frame = 0
 1466              		@ frame_needed = 0, uses_anonymous_args = 0
 1467              	.LVL139:
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1468              		.loc 1 400 0
 1469 0000 10B5     		push	{r4, lr}
 1470              	.LCFI27:
 1471              		.cfi_def_cfa_offset 8
 1472              		.cfi_offset 4, -8
ARM GAS  /tmp/cc228lSu.s 			page 93


 1473              		.cfi_offset 14, -4
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1474              		.loc 1 400 0
 1475 0002 0446     		mov	r4, r0
 1476              	.LVL140:
 1477              	.LBB58:
 1478              	.LBB59:
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1479              		.loc 1 2648 0
 1480 0004 0068     		ldr	r0, [r0]
 1481              	.LVL141:
 1482 0006 FFF7FEFF 		bl	SDIO_PowerState_OFF
 1483              	.LVL142:
 1484              	.LBE59:
 1485              	.LBE58:
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1486              		.loc 1 406 0
 1487 000a 2046     		mov	r0, r4
 1488 000c FFF7FEFF 		bl	HAL_SD_MspDeInit
 1489              	.LVL143:
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1490              		.loc 1 409 0
 1491 0010 0020     		movs	r0, #0
 1492 0012 10BD     		pop	{r4, pc}
 1493              		.cfi_endproc
 1494              	.LFE127:
 1496              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 1497              		.align	1
 1498              		.p2align 2,,3
 1499              		.global	HAL_SD_ReadBlocks
 1500              		.syntax unified
 1501              		.thumb
 1502              		.thumb_func
 1503              		.fpu fpv4-sp-d16
 1505              	HAL_SD_ReadBlocks:
 1506              	.LFB130:
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 1507              		.loc 1 471 0
 1508              		.cfi_startproc
 1509              		@ args = 8, pretend = 0, frame = 64
 1510              		@ frame_needed = 0, uses_anonymous_args = 0
 1511              	.LVL144:
 1512 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1513              	.LCFI28:
 1514              		.cfi_def_cfa_offset 28
 1515              		.cfi_offset 4, -28
 1516              		.cfi_offset 5, -24
 1517              		.cfi_offset 6, -20
 1518              		.cfi_offset 7, -16
 1519              		.cfi_offset 8, -12
 1520              		.cfi_offset 9, -8
 1521              		.cfi_offset 14, -4
 1522 0004 0446     		mov	r4, r0
 1523 0006 91B0     		sub	sp, sp, #68
 1524              	.LCFI29:
 1525              		.cfi_def_cfa_offset 96
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 94


 1526              		.loc 1 480 0
 1527 0008 D4F820E0 		ldr	lr, [r4, #32]
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1528              		.loc 1 478 0
 1529 000c 0068     		ldr	r0, [r0]
 1530              	.LVL145:
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 1531              		.loc 1 471 0
 1532 000e 189E     		ldr	r6, [sp, #96]
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1533              		.loc 1 478 0
 1534 0010 0025     		movs	r5, #0
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1535              		.loc 1 480 0
 1536 0012 BEF1020F 		cmp	lr, #2
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1537              		.loc 1 478 0
 1538 0016 C562     		str	r5, [r0, #44]
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 1539              		.loc 1 471 0
 1540 0018 1746     		mov	r7, r2
 1541              	.LVL146:
 1542 001a 0D46     		mov	r5, r1
 1543              	.LVL147:
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1544              		.loc 1 480 0
 1545 001c 26D0     		beq	.L254
 1546              	.LVL148:
 1547              	.L188:
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1548              		.loc 1 488 0
 1549 001e 1022     		movs	r2, #16
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1550              		.loc 1 489 0
 1551 0020 4023     		movs	r3, #64
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1552              		.loc 1 488 0
 1553 0022 0192     		str	r2, [sp, #4]
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1554              		.loc 1 489 0
 1555 0024 0293     		str	r3, [sp, #8]
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1556              		.loc 1 490 0
 1557 0026 0022     		movs	r2, #0
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1558              		.loc 1 491 0
 1559 0028 4FF48063 		mov	r3, #1024
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1560              		.loc 1 492 0
 1561 002c 6946     		mov	r1, sp
 1562              	.LVL149:
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1563              		.loc 1 487 0
 1564 002e 0096     		str	r6, [sp]
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1565              		.loc 1 490 0
 1566 0030 0392     		str	r2, [sp, #12]
ARM GAS  /tmp/cc228lSu.s 			page 95


 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1567              		.loc 1 491 0
 1568 0032 0493     		str	r3, [sp, #16]
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1569              		.loc 1 492 0
 1570 0034 FFF7FEFF 		bl	SDIO_SendCommand
 1571              	.LVL150:
 1572 0038 2068     		ldr	r0, [r4]
 1573              	.L189:
 1574              	.LBB70:
 1575              	.LBB71:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1576              		.loc 1 2780 0
 1577 003a 436B     		ldr	r3, [r0, #52]
 1578 003c 13F0450F 		tst	r3, #69
 1579 0040 FBD0     		beq	.L189
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1580              		.loc 1 2784 0
 1581 0042 436B     		ldr	r3, [r0, #52]
 1582 0044 5A07     		lsls	r2, r3, #29
 1583 0046 07D5     		bpl	.L255
 1584              	.LVL151:
 1585              	.L250:
 1586              	.LBE71:
 1587              	.LBE70:
 1588              	.LBB75:
 1589              	.LBB76:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1590              		.loc 1 2788 0
 1591 0048 0423     		movs	r3, #4
 1592 004a 8363     		str	r3, [r0, #56]
 1593              	.LVL152:
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1594              		.loc 1 2790 0
 1595 004c 4FF00308 		mov	r8, #3
 1596              	.LVL153:
 1597              	.L228:
 1598              	.LBE76:
 1599              	.LBE75:
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1600              		.loc 1 651 0
 1601 0050 4046     		mov	r0, r8
 1602 0052 11B0     		add	sp, sp, #68
 1603              	.LCFI30:
 1604              		.cfi_remember_state
 1605              		.cfi_def_cfa_offset 28
 1606              		@ sp needed
 1607 0054 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1608              	.LVL154:
 1609              	.L255:
 1610              	.LCFI31:
 1611              		.cfi_restore_state
 1612              	.LBB79:
 1613              	.LBB72:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1614              		.loc 1 2792 0
 1615 0058 436B     		ldr	r3, [r0, #52]
ARM GAS  /tmp/cc228lSu.s 			page 96


 1616 005a DB07     		lsls	r3, r3, #31
 1617 005c 0CD5     		bpl	.L256
 1618              	.LVL155:
 1619              	.L251:
 1620              	.LBE72:
 1621              	.LBE79:
 1622              	.LBB80:
 1623              	.LBB77:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1624              		.loc 1 2796 0
 1625 005e 0123     		movs	r3, #1
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1626              		.loc 1 2798 0
 1627 0060 9846     		mov	r8, r3
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1628              		.loc 1 2796 0
 1629 0062 8363     		str	r3, [r0, #56]
 1630              	.LVL156:
 1631              	.LBE77:
 1632              	.LBE80:
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1633              		.loc 1 651 0
 1634 0064 4046     		mov	r0, r8
 1635 0066 11B0     		add	sp, sp, #68
 1636              	.LCFI32:
 1637              		.cfi_remember_state
 1638              		.cfi_def_cfa_offset 28
 1639              		@ sp needed
 1640 0068 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1641              	.LVL157:
 1642              	.L254:
 1643              	.LCFI33:
 1644              		.cfi_restore_state
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1645              		.loc 1 483 0
 1646 006c 570A     		lsrs	r7, r2, #9
 1647 006e 47EAC357 		orr	r7, r7, r3, lsl #23
 1648              	.LVL158:
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
 1649              		.loc 1 482 0
 1650 0072 4FF40076 		mov	r6, #512
 1651 0076 D2E7     		b	.L188
 1652              	.LVL159:
 1653              	.L256:
 1654              	.LBB81:
 1655              	.LBB73:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1656              		.loc 1 2802 0
 1657 0078 FFF7FEFF 		bl	SDIO_GetCommandResponse
 1658              	.LVL160:
 1659 007c 1028     		cmp	r0, #16
 1660 007e 05D0     		beq	.L193
 1661              	.LVL161:
 1662              	.L199:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1663              		.loc 1 2806 0
 1664 0080 4FF01008 		mov	r8, #16
ARM GAS  /tmp/cc228lSu.s 			page 97


 1665              	.LBE73:
 1666              	.LBE81:
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1667              		.loc 1 651 0
 1668 0084 4046     		mov	r0, r8
 1669 0086 11B0     		add	sp, sp, #68
 1670              	.LCFI34:
 1671              		.cfi_remember_state
 1672              		.cfi_def_cfa_offset 28
 1673              		@ sp needed
 1674 0088 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1675              	.LVL162:
 1676              	.L193:
 1677              	.LCFI35:
 1678              		.cfi_restore_state
 1679              	.LBB82:
 1680              	.LBB74:
 1681 008c 2046     		mov	r0, r4
 1682 008e FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 1683              	.LVL163:
 1684 0092 0346     		mov	r3, r0
 1685 0094 8046     		mov	r8, r0
 1686              	.LVL164:
 1687              	.LBE74:
 1688              	.LBE82:
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1689              		.loc 1 497 0
 1690 0096 0028     		cmp	r0, #0
 1691 0098 DAD1     		bne	.L228
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 1692              		.loc 1 504 0
 1693 009a 199A     		ldr	r2, [sp, #100]
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 1694              		.loc 1 507 0
 1695 009c 0E93     		str	r3, [sp, #56]
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 1696              		.loc 1 503 0
 1697 009e 4FF0FF31 		mov	r1, #-1
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1698              		.loc 1 505 0
 1699 00a2 9020     		movs	r0, #144
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1700              		.loc 1 508 0
 1701 00a4 0123     		movs	r3, #1
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 1702              		.loc 1 504 0
 1703 00a6 02FB06F6 		mul	r6, r2, r6
 1704              	.LVL165:
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 1705              		.loc 1 503 0
 1706 00aa 0A91     		str	r1, [sp, #40]
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1707              		.loc 1 506 0
 1708 00ac 0222     		movs	r2, #2
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1709              		.loc 1 509 0
 1710 00ae 0AA9     		add	r1, sp, #40
ARM GAS  /tmp/cc228lSu.s 			page 98


 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1711              		.loc 1 505 0
 1712 00b0 0C90     		str	r0, [sp, #48]
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1713              		.loc 1 509 0
 1714 00b2 2068     		ldr	r0, [r4]
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1715              		.loc 1 508 0
 1716 00b4 0F93     		str	r3, [sp, #60]
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 1717              		.loc 1 504 0
 1718 00b6 0B96     		str	r6, [sp, #44]
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1719              		.loc 1 506 0
 1720 00b8 0D92     		str	r2, [sp, #52]
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1721              		.loc 1 509 0
 1722 00ba FFF7FEFF 		bl	SDIO_DataConfig
 1723              	.LVL166:
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1724              		.loc 1 511 0
 1725 00be 199B     		ldr	r3, [sp, #100]
 1726 00c0 012B     		cmp	r3, #1
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1727              		.loc 1 523 0
 1728 00c2 6946     		mov	r1, sp
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1729              		.loc 1 511 0
 1730 00c4 43D9     		bls	.L194
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1731              		.loc 1 514 0
 1732 00c6 1223     		movs	r3, #18
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1733              		.loc 1 523 0
 1734 00c8 2068     		ldr	r0, [r4]
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1735              		.loc 1 522 0
 1736 00ca 0097     		str	r7, [sp]
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1737              		.loc 1 514 0
 1738 00cc 0193     		str	r3, [sp, #4]
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1739              		.loc 1 523 0
 1740 00ce FFF7FEFF 		bl	SDIO_SendCommand
 1741              	.LVL167:
 1742 00d2 2068     		ldr	r0, [r4]
 1743              	.L195:
 1744              	.LBB83:
 1745              	.LBB84:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1746              		.loc 1 2780 0
 1747 00d4 436B     		ldr	r3, [r0, #52]
 1748 00d6 13F0450F 		tst	r3, #69
 1749 00da FBD0     		beq	.L195
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1750              		.loc 1 2784 0
 1751 00dc 436B     		ldr	r3, [r0, #52]
ARM GAS  /tmp/cc228lSu.s 			page 99


 1752 00de 5E07     		lsls	r6, r3, #29
 1753 00e0 B2D4     		bmi	.L250
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1754              		.loc 1 2792 0
 1755 00e2 436B     		ldr	r3, [r0, #52]
 1756 00e4 D907     		lsls	r1, r3, #31
 1757 00e6 BAD4     		bmi	.L251
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1758              		.loc 1 2802 0
 1759 00e8 FFF7FEFF 		bl	SDIO_GetCommandResponse
 1760              	.LVL168:
 1761 00ec 1228     		cmp	r0, #18
 1762 00ee C7D1     		bne	.L199
 1763 00f0 2046     		mov	r0, r4
 1764 00f2 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 1765              	.LVL169:
 1766              	.LBE84:
 1767              	.LBE83:
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1768              		.loc 1 531 0
 1769 00f6 8046     		mov	r8, r0
 1770 00f8 0028     		cmp	r0, #0
 1771 00fa A9D1     		bne	.L228
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1772              		.loc 1 538 0
 1773 00fc 40F22A37 		movw	r7, #810
 1774              	.LVL170:
 1775              	.L200:
 1776 0100 2368     		ldr	r3, [r4]
 1777 0102 02E0     		b	.L201
 1778              	.LVL171:
 1779              	.L204:
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1780              		.loc 1 543 0
 1781 0104 5A6B     		ldr	r2, [r3, #52]
 1782 0106 1204     		lsls	r2, r2, #16
 1783 0108 13D4     		bmi	.L257
 1784              	.L201:
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1785              		.loc 1 538 0
 1786 010a 5A6B     		ldr	r2, [r3, #52]
 1787 010c 3A42     		tst	r2, r7
 1788 010e F9D0     		beq	.L204
 1789              	.LVL172:
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 1790              		.loc 1 586 0
 1791 0110 5A6B     		ldr	r2, [r3, #52]
 1792 0112 D205     		lsls	r2, r2, #23
 1793 0114 02D5     		bpl	.L214
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) ||\
 1794              		.loc 1 588 0
 1795 0116 226A     		ldr	r2, [r4, #32]
 1796 0118 022A     		cmp	r2, #2
 1797 011a 57D9     		bls	.L258
 1798              	.LVL173:
 1799              	.L214:
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 100


 1800              		.loc 1 598 0
 1801 011c 5A6B     		ldr	r2, [r3, #52]
 1802 011e 1107     		lsls	r1, r2, #28
 1803 0120 3FD5     		bpl	.L220
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1804              		.loc 1 604 0
 1805 0122 4FF00408 		mov	r8, #4
 1806              	.LVL174:
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1807              		.loc 1 600 0
 1808 0126 0822     		movs	r2, #8
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1809              		.loc 1 651 0
 1810 0128 4046     		mov	r0, r8
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1811              		.loc 1 600 0
 1812 012a 9A63     		str	r2, [r3, #56]
 1813              	.LVL175:
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1814              		.loc 1 651 0
 1815 012c 11B0     		add	sp, sp, #68
 1816              	.LCFI36:
 1817              		.cfi_remember_state
 1818              		.cfi_def_cfa_offset 28
 1819              		@ sp needed
 1820 012e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1821              	.LVL176:
 1822              	.L257:
 1823              	.LCFI37:
 1824              		.cfi_restore_state
 1825 0132 2E1F     		subs	r6, r5, #4
 1826 0134 05F11C09 		add	r9, r5, #28
 1827 0138 00E0     		b	.L203
 1828              	.L259:
 1829 013a 2368     		ldr	r3, [r4]
 1830              	.L203:
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 1831              		.loc 1 548 0 discriminator 3
 1832 013c 1846     		mov	r0, r3
 1833 013e FFF7FEFF 		bl	SDIO_ReadFIFO
 1834              	.LVL177:
 1835 0142 46F8040F 		str	r0, [r6, #4]!
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 1836              		.loc 1 546 0 discriminator 3
 1837 0146 4E45     		cmp	r6, r9
 1838 0148 F7D1     		bne	.L259
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 1839              		.loc 1 551 0
 1840 014a 2035     		adds	r5, r5, #32
 1841              	.LVL178:
 1842 014c D8E7     		b	.L200
 1843              	.LVL179:
 1844              	.L194:
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1845              		.loc 1 519 0
 1846 014e 1123     		movs	r3, #17
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 101


 1847              		.loc 1 523 0
 1848 0150 2068     		ldr	r0, [r4]
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1849              		.loc 1 522 0
 1850 0152 0097     		str	r7, [sp]
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1851              		.loc 1 519 0
 1852 0154 0193     		str	r3, [sp, #4]
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1853              		.loc 1 523 0
 1854 0156 FFF7FEFF 		bl	SDIO_SendCommand
 1855              	.LVL180:
 1856 015a 2068     		ldr	r0, [r4]
 1857              	.L196:
 1858              	.LBB85:
 1859              	.LBB78:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1860              		.loc 1 2780 0
 1861 015c 436B     		ldr	r3, [r0, #52]
 1862 015e 13F0450F 		tst	r3, #69
 1863 0162 FBD0     		beq	.L196
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1864              		.loc 1 2784 0
 1865 0164 436B     		ldr	r3, [r0, #52]
 1866 0166 5E07     		lsls	r6, r3, #29
 1867 0168 3FF56EAF 		bmi	.L250
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1868              		.loc 1 2792 0
 1869 016c 436B     		ldr	r3, [r0, #52]
 1870 016e D907     		lsls	r1, r3, #31
 1871 0170 3FF575AF 		bmi	.L251
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1872              		.loc 1 2802 0
 1873 0174 FFF7FEFF 		bl	SDIO_GetCommandResponse
 1874              	.LVL181:
 1875 0178 1128     		cmp	r0, #17
 1876 017a 81D1     		bne	.L199
 1877 017c 2046     		mov	r0, r4
 1878 017e FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 1879              	.LVL182:
 1880              	.LBE78:
 1881              	.LBE85:
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1882              		.loc 1 560 0
 1883 0182 8046     		mov	r8, r0
 1884 0184 0028     		cmp	r0, #0
 1885 0186 7FF463AF 		bne	.L228
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1886              		.loc 1 567 0
 1887 018a 40F22A67 		movw	r7, #1578
 1888              	.LVL183:
 1889              	.L208:
 1890 018e 2368     		ldr	r3, [r4]
 1891 0190 02E0     		b	.L209
 1892              	.LVL184:
 1893              	.L212:
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
ARM GAS  /tmp/cc228lSu.s 			page 102


 1894              		.loc 1 572 0
 1895 0192 5A6B     		ldr	r2, [r3, #52]
 1896 0194 1204     		lsls	r2, r2, #16
 1897 0196 0BD4     		bmi	.L260
 1898              	.L209:
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1899              		.loc 1 567 0
 1900 0198 5A6B     		ldr	r2, [r3, #52]
 1901 019a 3A42     		tst	r2, r7
 1902 019c F9D0     		beq	.L212
 1903              	.LVL185:
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 1904              		.loc 1 586 0
 1905 019e 5A6B     		ldr	r2, [r3, #52]
 1906 01a0 BCE7     		b	.L214
 1907              	.LVL186:
 1908              	.L220:
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1909              		.loc 1 606 0
 1910 01a2 5A6B     		ldr	r2, [r3, #52]
 1911 01a4 9207     		lsls	r2, r2, #30
 1912 01a6 2CD5     		bpl	.L221
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1913              		.loc 1 608 0
 1914 01a8 0222     		movs	r2, #2
 1915 01aa 9A63     		str	r2, [r3, #56]
 1916              	.LVL187:
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1917              		.loc 1 612 0
 1918 01ac 9046     		mov	r8, r2
 1919 01ae 4FE7     		b	.L228
 1920              	.LVL188:
 1921              	.L260:
 1922 01b0 2E1F     		subs	r6, r5, #4
 1923 01b2 05F11C09 		add	r9, r5, #28
 1924 01b6 00E0     		b	.L211
 1925              	.L261:
 1926 01b8 2368     		ldr	r3, [r4]
 1927              	.L211:
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 1928              		.loc 1 577 0 discriminator 3
 1929 01ba 1846     		mov	r0, r3
 1930 01bc FFF7FEFF 		bl	SDIO_ReadFIFO
 1931              	.LVL189:
 1932 01c0 46F8040F 		str	r0, [r6, #4]!
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 1933              		.loc 1 575 0 discriminator 3
 1934 01c4 B145     		cmp	r9, r6
 1935 01c6 F7D1     		bne	.L261
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 1936              		.loc 1 580 0
 1937 01c8 2035     		adds	r5, r5, #32
 1938              	.LVL190:
 1939 01ca E0E7     		b	.L208
 1940              	.LVL191:
 1941              	.L258:
 1942              	.LBB86:
ARM GAS  /tmp/cc228lSu.s 			page 103


 1943              	.LBB87:
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1944              		.loc 1 1837 0
 1945 01cc 1846     		mov	r0, r3
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1946              		.loc 1 1836 0
 1947 01ce 4FF48062 		mov	r2, #1024
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 1948              		.loc 1 1832 0
 1949 01d2 0023     		movs	r3, #0
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1950              		.loc 1 1833 0
 1951 01d4 0C27     		movs	r7, #12
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1952              		.loc 1 1834 0
 1953 01d6 4026     		movs	r6, #64
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1954              		.loc 1 1837 0
 1955 01d8 05A9     		add	r1, sp, #20
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 1956              		.loc 1 1832 0
 1957 01da 0593     		str	r3, [sp, #20]
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1958              		.loc 1 1835 0
 1959 01dc 0893     		str	r3, [sp, #32]
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1960              		.loc 1 1833 0
 1961 01de 0697     		str	r7, [sp, #24]
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1962              		.loc 1 1834 0
 1963 01e0 0796     		str	r6, [sp, #28]
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1964              		.loc 1 1836 0
 1965 01e2 0992     		str	r2, [sp, #36]
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1966              		.loc 1 1837 0
 1967 01e4 FFF7FEFF 		bl	SDIO_SendCommand
 1968              	.LVL192:
 1969 01e8 2368     		ldr	r3, [r4]
 1970              	.L215:
 1971              	.LBB88:
 1972              	.LBB89:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1973              		.loc 1 2780 0
 1974 01ea 5A6B     		ldr	r2, [r3, #52]
 1975 01ec 12F0450F 		tst	r2, #69
 1976 01f0 FBD0     		beq	.L215
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1977              		.loc 1 2784 0
 1978 01f2 5A6B     		ldr	r2, [r3, #52]
 1979 01f4 5607     		lsls	r6, r2, #29
 1980 01f6 15D5     		bpl	.L216
 1981              	.LVL193:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1982              		.loc 1 2788 0
 1983 01f8 0422     		movs	r2, #4
 1984 01fa 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/cc228lSu.s 			page 104


2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1985              		.loc 1 2790 0
 1986 01fc 4FF00308 		mov	r8, #3
 1987 0200 8CE7     		b	.L214
 1988              	.LVL194:
 1989              	.L221:
 1990              	.LBE89:
 1991              	.LBE88:
 1992              	.LBE87:
 1993              	.LBE86:
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1994              		.loc 1 614 0
 1995 0202 5A6B     		ldr	r2, [r3, #52]
 1996 0204 9706     		lsls	r7, r2, #26
 1997 0206 04D5     		bpl	.L222
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1998              		.loc 1 616 0
 1999 0208 2022     		movs	r2, #32
 2000 020a 9A63     		str	r2, [r3, #56]
 2001              	.LVL195:
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2002              		.loc 1 620 0
 2003 020c 4FF00608 		mov	r8, #6
 2004 0210 1EE7     		b	.L228
 2005              	.LVL196:
 2006              	.L222:
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2007              		.loc 1 623 0
 2008 0212 5A6B     		ldr	r2, [r3, #52]
 2009 0214 9605     		lsls	r6, r2, #22
 2010 0216 0CD5     		bpl	.L262
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2011              		.loc 1 625 0
 2012 0218 4FF40072 		mov	r2, #512
 2013 021c 9A63     		str	r2, [r3, #56]
 2014              	.LVL197:
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2015              		.loc 1 629 0
 2016 021e 4FF00708 		mov	r8, #7
 2017 0222 15E7     		b	.L228
 2018              	.LVL198:
 2019              	.L216:
 2020              	.LBB96:
 2021              	.LBB94:
 2022              	.LBB92:
 2023              	.LBB90:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2024              		.loc 1 2792 0
 2025 0224 5A6B     		ldr	r2, [r3, #52]
 2026 0226 D007     		lsls	r0, r2, #31
 2027 0228 19D5     		bpl	.L218
 2028              	.LVL199:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2029              		.loc 1 2796 0
 2030 022a 0122     		movs	r2, #1
 2031 022c 9A63     		str	r2, [r3, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 105


 2032              		.loc 1 2798 0
 2033 022e 9046     		mov	r8, r2
 2034 0230 74E7     		b	.L214
 2035              	.LVL200:
 2036              	.L262:
 2037              	.LBE90:
 2038              	.LBE92:
 2039              	.LBE94:
 2040              	.LBE96:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2041              		.loc 1 640 0
 2042 0232 5A6B     		ldr	r2, [r3, #52]
 2043 0234 9002     		lsls	r0, r2, #10
 2044 0236 48BF     		it	mi
 2045 0238 4FF0FF36 		movmi	r6, #-1
 2046 023c 02D4     		bmi	.L226
 2047 023e 0AE0     		b	.L225
 2048              	.LVL201:
 2049              	.L263:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2050              		.loc 1 640 0 is_stmt 0 discriminator 1
 2051 0240 013E     		subs	r6, r6, #1
 2052 0242 08D0     		beq	.L225
 2053              	.L226:
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tempbuff++;
 2054              		.loc 1 642 0 is_stmt 1
 2055 0244 1846     		mov	r0, r3
 2056 0246 FFF7FEFF 		bl	SDIO_ReadFIFO
 2057              	.LVL202:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2058              		.loc 1 640 0
 2059 024a 2368     		ldr	r3, [r4]
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tempbuff++;
 2060              		.loc 1 642 0
 2061 024c 45F8040B 		str	r0, [r5], #4
 2062              	.LVL203:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2063              		.loc 1 640 0
 2064 0250 5A6B     		ldr	r2, [r3, #52]
 2065 0252 9102     		lsls	r1, r2, #10
 2066 0254 F4D4     		bmi	.L263
 2067              	.L225:
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2068              		.loc 1 648 0
 2069 0256 40F2FF52 		movw	r2, #1535
 2070 025a 9A63     		str	r2, [r3, #56]
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2071              		.loc 1 650 0
 2072 025c F8E6     		b	.L228
 2073              	.LVL204:
 2074              	.L218:
 2075              	.LBB97:
 2076              	.LBB95:
 2077              	.LBB93:
 2078              	.LBB91:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2079              		.loc 1 2802 0
ARM GAS  /tmp/cc228lSu.s 			page 106


 2080 025e 1846     		mov	r0, r3
 2081 0260 FFF7FEFF 		bl	SDIO_GetCommandResponse
 2082              	.LVL205:
 2083 0264 0C28     		cmp	r0, #12
 2084 0266 03D0     		beq	.L219
 2085 0268 2368     		ldr	r3, [r4]
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2086              		.loc 1 2806 0
 2087 026a 4FF01008 		mov	r8, #16
 2088 026e 55E7     		b	.L214
 2089              	.L219:
 2090 0270 2046     		mov	r0, r4
 2091 0272 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 2092              	.LVL206:
 2093 0276 2368     		ldr	r3, [r4]
 2094              	.LVL207:
 2095 0278 8046     		mov	r8, r0
 2096 027a 4FE7     		b	.L214
 2097              	.LBE91:
 2098              	.LBE93:
 2099              	.LBE95:
 2100              	.LBE97:
 2101              		.cfi_endproc
 2102              	.LFE130:
 2104              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 2105              		.align	1
 2106              		.p2align 2,,3
 2107              		.global	HAL_SD_WriteBlocks
 2108              		.syntax unified
 2109              		.thumb
 2110              		.thumb_func
 2111              		.fpu fpv4-sp-d16
 2113              	HAL_SD_WriteBlocks:
 2114              	.LFB131:
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2115              		.loc 1 665 0
 2116              		.cfi_startproc
 2117              		@ args = 8, pretend = 0, frame = 72
 2118              		@ frame_needed = 0, uses_anonymous_args = 0
 2119              	.LVL208:
 2120 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2121              	.LCFI38:
 2122              		.cfi_def_cfa_offset 32
 2123              		.cfi_offset 4, -32
 2124              		.cfi_offset 5, -28
 2125              		.cfi_offset 6, -24
 2126              		.cfi_offset 7, -20
 2127              		.cfi_offset 8, -16
 2128              		.cfi_offset 9, -12
 2129              		.cfi_offset 10, -8
 2130              		.cfi_offset 14, -4
 2131 0004 0546     		mov	r5, r0
 2132 0006 92B0     		sub	sp, sp, #72
 2133              	.LCFI39:
 2134              		.cfi_def_cfa_offset 104
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2135              		.loc 1 676 0
ARM GAS  /tmp/cc228lSu.s 			page 107


 2136 0008 D5F820E0 		ldr	lr, [r5, #32]
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2137              		.loc 1 674 0
 2138 000c 0068     		ldr	r0, [r0]
 2139              	.LVL209:
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2140              		.loc 1 665 0
 2141 000e 1A9F     		ldr	r7, [sp, #104]
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2142              		.loc 1 671 0
 2143 0010 0024     		movs	r4, #0
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2144              		.loc 1 676 0
 2145 0012 BEF1020F 		cmp	lr, #2
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2146              		.loc 1 674 0
 2147 0016 C462     		str	r4, [r0, #44]
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2148              		.loc 1 671 0
 2149 0018 8DF80740 		strb	r4, [sp, #7]
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2150              		.loc 1 665 0
 2151 001c 0E46     		mov	r6, r1
 2152 001e 9146     		mov	r9, r2
 2153              	.LVL210:
 2154 0020 1B9C     		ldr	r4, [sp, #108]
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2155              		.loc 1 676 0
 2156 0022 26D0     		beq	.L347
 2157              	.LVL211:
 2158              	.L265:
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2159              		.loc 1 684 0
 2160 0024 1022     		movs	r2, #16
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2161              		.loc 1 685 0
 2162 0026 4023     		movs	r3, #64
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2163              		.loc 1 684 0
 2164 0028 0392     		str	r2, [sp, #12]
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2165              		.loc 1 685 0
 2166 002a 0493     		str	r3, [sp, #16]
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2167              		.loc 1 686 0
 2168 002c 0022     		movs	r2, #0
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2169              		.loc 1 687 0
 2170 002e 4FF48063 		mov	r3, #1024
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2171              		.loc 1 688 0
 2172 0032 02A9     		add	r1, sp, #8
 2173              	.LVL212:
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 2174              		.loc 1 683 0
 2175 0034 0297     		str	r7, [sp, #8]
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
ARM GAS  /tmp/cc228lSu.s 			page 108


 2176              		.loc 1 686 0
 2177 0036 0592     		str	r2, [sp, #20]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2178              		.loc 1 687 0
 2179 0038 0693     		str	r3, [sp, #24]
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2180              		.loc 1 688 0
 2181 003a FFF7FEFF 		bl	SDIO_SendCommand
 2182              	.LVL213:
 2183 003e 2868     		ldr	r0, [r5]
 2184              	.L266:
 2185              	.LBB108:
 2186              	.LBB109:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2187              		.loc 1 2780 0
 2188 0040 436B     		ldr	r3, [r0, #52]
 2189 0042 13F0450F 		tst	r3, #69
 2190 0046 FBD0     		beq	.L266
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2191              		.loc 1 2784 0
 2192 0048 436B     		ldr	r3, [r0, #52]
 2193 004a 5907     		lsls	r1, r3, #29
 2194 004c 07D5     		bpl	.L348
 2195              	.LVL214:
 2196              	.L342:
 2197              	.LBE109:
 2198              	.LBE108:
 2199              	.LBB113:
 2200              	.LBB114:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2201              		.loc 1 2788 0
 2202 004e 0423     		movs	r3, #4
 2203 0050 8363     		str	r3, [r0, #56]
 2204              	.LVL215:
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2205              		.loc 1 2790 0
 2206 0052 4FF00308 		mov	r8, #3
 2207              	.LVL216:
 2208              	.L319:
 2209              	.LBE114:
 2210              	.LBE113:
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2211              		.loc 1 877 0
 2212 0056 4046     		mov	r0, r8
 2213 0058 12B0     		add	sp, sp, #72
 2214              	.LCFI40:
 2215              		.cfi_remember_state
 2216              		.cfi_def_cfa_offset 32
 2217              		@ sp needed
 2218 005a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2219              	.LVL217:
 2220              	.L348:
 2221              	.LCFI41:
 2222              		.cfi_restore_state
 2223              	.LBB118:
 2224              	.LBB110:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 109


 2225              		.loc 1 2792 0
 2226 005e 436B     		ldr	r3, [r0, #52]
 2227 0060 DA07     		lsls	r2, r3, #31
 2228 0062 0DD5     		bpl	.L349
 2229              	.LVL218:
 2230              	.L343:
 2231              	.LBE110:
 2232              	.LBE118:
 2233              	.LBB119:
 2234              	.LBB115:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2235              		.loc 1 2796 0
 2236 0064 0123     		movs	r3, #1
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2237              		.loc 1 2798 0
 2238 0066 9846     		mov	r8, r3
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2239              		.loc 1 2796 0
 2240 0068 8363     		str	r3, [r0, #56]
 2241              	.LVL219:
 2242              	.LBE115:
 2243              	.LBE119:
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2244              		.loc 1 877 0
 2245 006a 4046     		mov	r0, r8
 2246 006c 12B0     		add	sp, sp, #72
 2247              	.LCFI42:
 2248              		.cfi_remember_state
 2249              		.cfi_def_cfa_offset 32
 2250              		@ sp needed
 2251 006e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2252              	.LVL220:
 2253              	.L347:
 2254              	.LCFI43:
 2255              		.cfi_restore_state
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2256              		.loc 1 679 0
 2257 0072 4FEA5229 		lsr	r9, r2, #9
 2258 0076 49EAC359 		orr	r9, r9, r3, lsl #23
 2259              	.LVL221:
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
 2260              		.loc 1 678 0
 2261 007a 4FF40077 		mov	r7, #512
 2262 007e D1E7     		b	.L265
 2263              	.LVL222:
 2264              	.L349:
 2265              	.LBB120:
 2266              	.LBB111:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2267              		.loc 1 2802 0
 2268 0080 FFF7FEFF 		bl	SDIO_GetCommandResponse
 2269              	.LVL223:
 2270 0084 1028     		cmp	r0, #16
 2271 0086 05D0     		beq	.L270
 2272              	.LVL224:
 2273              	.L276:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 110


 2274              		.loc 1 2806 0
 2275 0088 4FF01008 		mov	r8, #16
 2276              	.LBE111:
 2277              	.LBE120:
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2278              		.loc 1 877 0
 2279 008c 4046     		mov	r0, r8
 2280 008e 12B0     		add	sp, sp, #72
 2281              	.LCFI44:
 2282              		.cfi_remember_state
 2283              		.cfi_def_cfa_offset 32
 2284              		@ sp needed
 2285 0090 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2286              	.LVL225:
 2287              	.L270:
 2288              	.LCFI45:
 2289              		.cfi_restore_state
 2290              	.LBB121:
 2291              	.LBB112:
 2292 0094 2846     		mov	r0, r5
 2293 0096 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 2294              	.LVL226:
 2295              	.LBE112:
 2296              	.LBE121:
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2297              		.loc 1 693 0
 2298 009a 8046     		mov	r8, r0
 2299 009c 0028     		cmp	r0, #0
 2300 009e DAD1     		bne	.L319
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2301              		.loc 1 698 0
 2302 00a0 012C     		cmp	r4, #1
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2303              		.loc 1 710 0
 2304 00a2 02A9     		add	r1, sp, #8
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2305              		.loc 1 698 0
 2306 00a4 5AD9     		bls	.L271
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2307              		.loc 1 701 0
 2308 00a6 1923     		movs	r3, #25
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2309              		.loc 1 710 0
 2310 00a8 2868     		ldr	r0, [r5]
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2311              		.loc 1 709 0
 2312 00aa CDF80890 		str	r9, [sp, #8]
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2313              		.loc 1 701 0
 2314 00ae 0393     		str	r3, [sp, #12]
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2315              		.loc 1 710 0
 2316 00b0 FFF7FEFF 		bl	SDIO_SendCommand
 2317              	.LVL227:
 2318 00b4 2868     		ldr	r0, [r5]
 2319              	.L272:
 2320              	.LBB122:
ARM GAS  /tmp/cc228lSu.s 			page 111


 2321              	.LBB123:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2322              		.loc 1 2780 0
 2323 00b6 436B     		ldr	r3, [r0, #52]
 2324 00b8 13F0450F 		tst	r3, #69
 2325 00bc FBD0     		beq	.L272
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2326              		.loc 1 2784 0
 2327 00be 436B     		ldr	r3, [r0, #52]
 2328 00c0 5B07     		lsls	r3, r3, #29
 2329 00c2 C4D4     		bmi	.L342
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2330              		.loc 1 2792 0
 2331 00c4 436B     		ldr	r3, [r0, #52]
 2332 00c6 D907     		lsls	r1, r3, #31
 2333 00c8 CCD4     		bmi	.L343
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2334              		.loc 1 2802 0
 2335 00ca FFF7FEFF 		bl	SDIO_GetCommandResponse
 2336              	.LVL228:
 2337 00ce 1928     		cmp	r0, #25
 2338 00d0 DAD1     		bne	.L276
 2339              	.L337:
 2340              	.LBE123:
 2341              	.LBE122:
 2342              	.LBB124:
 2343              	.LBB116:
 2344 00d2 2846     		mov	r0, r5
 2345 00d4 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 2346              	.LVL229:
 2347 00d8 8046     		mov	r8, r0
 2348              	.LBE116:
 2349              	.LBE124:
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2350              		.loc 1 722 0
 2351 00da 0028     		cmp	r0, #0
 2352 00dc BBD1     		bne	.L319
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 2353              		.loc 1 731 0
 2354 00de 4FF0FF31 		mov	r1, #-1
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2355              		.loc 1 733 0
 2356 00e2 9022     		movs	r2, #144
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 2357              		.loc 1 736 0
 2358 00e4 0123     		movs	r3, #1
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2359              		.loc 1 734 0
 2360 00e6 0F90     		str	r0, [sp, #60]
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 2361              		.loc 1 735 0
 2362 00e8 1090     		str	r0, [sp, #64]
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 2363              		.loc 1 731 0
 2364 00ea 0C91     		str	r1, [sp, #48]
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2365              		.loc 1 728 0
ARM GAS  /tmp/cc228lSu.s 			page 112


 2366 00ec 04FB07F7 		mul	r7, r4, r7
 2367              	.LVL230:
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2368              		.loc 1 737 0
 2369 00f0 0CA9     		add	r1, sp, #48
 2370 00f2 2868     		ldr	r0, [r5]
 2371              	.LVL231:
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2372              		.loc 1 732 0
 2373 00f4 0D97     		str	r7, [sp, #52]
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2374              		.loc 1 733 0
 2375 00f6 0E92     		str	r2, [sp, #56]
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 2376              		.loc 1 736 0
 2377 00f8 1193     		str	r3, [sp, #68]
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2378              		.loc 1 737 0
 2379 00fa FFF7FEFF 		bl	SDIO_DataConfig
 2380              	.LVL232:
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2381              		.loc 1 740 0
 2382 00fe 012C     		cmp	r4, #1
 2383 0100 2868     		ldr	r0, [r5]
 2384 0102 5FD9     		bls	.L350
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2385              		.loc 1 743 0
 2386 0104 40F21A34 		movw	r4, #794
 2387 0108 02E0     		b	.L283
 2388              	.LVL233:
 2389              	.L292:
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2390              		.loc 1 748 0
 2391 010a 436B     		ldr	r3, [r0, #52]
 2392 010c 5904     		lsls	r1, r3, #17
 2393 010e 14D4     		bmi	.L351
 2394              	.L283:
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2395              		.loc 1 743 0
 2396 0110 436B     		ldr	r3, [r0, #52]
 2397 0112 2342     		tst	r3, r4
 2398 0114 F9D0     		beq	.L292
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 2399              		.loc 1 815 0
 2400 0116 436B     		ldr	r3, [r0, #52]
 2401 0118 DB05     		lsls	r3, r3, #23
 2402 011a 03D5     		bpl	.L305
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 2403              		.loc 1 817 0
 2404 011c 2B6A     		ldr	r3, [r5, #32]
 2405 011e 022B     		cmp	r3, #2
 2406 0120 40F28280 		bls	.L352
 2407              	.LVL234:
 2408              	.L305:
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2409              		.loc 1 826 0
 2410 0124 436B     		ldr	r3, [r0, #52]
ARM GAS  /tmp/cc228lSu.s 			page 113


 2411 0126 1E07     		lsls	r6, r3, #28
 2412 0128 45D5     		bpl	.L311
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2413              		.loc 1 828 0
 2414 012a 0823     		movs	r3, #8
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2415              		.loc 1 832 0
 2416 012c 4FF00408 		mov	r8, #4
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2417              		.loc 1 828 0
 2418 0130 8363     		str	r3, [r0, #56]
 2419              	.LVL235:
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2420              		.loc 1 877 0
 2421 0132 4046     		mov	r0, r8
 2422 0134 12B0     		add	sp, sp, #72
 2423              	.LCFI46:
 2424              		.cfi_remember_state
 2425              		.cfi_def_cfa_offset 32
 2426              		@ sp needed
 2427 0136 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2428              	.LVL236:
 2429              	.L351:
 2430              	.LCFI47:
 2431              		.cfi_restore_state
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 2432              		.loc 1 750 0
 2433 013a A7EB0803 		sub	r3, r7, r8
 2434 013e 1F2B     		cmp	r3, #31
 2435 0140 26D9     		bls	.L284
 2436 0142 B146     		mov	r9, r6
 2437 0144 2036     		adds	r6, r6, #32
 2438              	.L285:
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 2439              		.loc 1 767 0 discriminator 3
 2440 0146 4946     		mov	r1, r9
 2441 0148 09F10409 		add	r9, r9, #4
 2442 014c FFF7FEFF 		bl	SDIO_WriteFIFO
 2443              	.LVL237:
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 2444              		.loc 1 765 0 discriminator 3
 2445 0150 4E45     		cmp	r6, r9
 2446 0152 2868     		ldr	r0, [r5]
 2447 0154 F7D1     		bne	.L285
 2448              	.LVL238:
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 2449              		.loc 1 771 0
 2450 0156 08F12008 		add	r8, r8, #32
 2451              	.LVL239:
 2452 015a D9E7     		b	.L283
 2453              	.LVL240:
 2454              	.L271:
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2455              		.loc 1 706 0
 2456 015c 1823     		movs	r3, #24
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2457              		.loc 1 710 0
ARM GAS  /tmp/cc228lSu.s 			page 114


 2458 015e 2868     		ldr	r0, [r5]
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2459              		.loc 1 709 0
 2460 0160 CDF80890 		str	r9, [sp, #8]
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2461              		.loc 1 706 0
 2462 0164 0393     		str	r3, [sp, #12]
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2463              		.loc 1 710 0
 2464 0166 FFF7FEFF 		bl	SDIO_SendCommand
 2465              	.LVL241:
 2466 016a 2868     		ldr	r0, [r5]
 2467              	.L273:
 2468              	.LBB125:
 2469              	.LBB117:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2470              		.loc 1 2780 0
 2471 016c 436B     		ldr	r3, [r0, #52]
 2472 016e 13F0450F 		tst	r3, #69
 2473 0172 FBD0     		beq	.L273
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2474              		.loc 1 2784 0
 2475 0174 436B     		ldr	r3, [r0, #52]
 2476 0176 5A07     		lsls	r2, r3, #29
 2477 0178 3FF569AF 		bmi	.L342
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2478              		.loc 1 2792 0
 2479 017c 436B     		ldr	r3, [r0, #52]
 2480 017e DB07     		lsls	r3, r3, #31
 2481 0180 3FF570AF 		bmi	.L343
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2482              		.loc 1 2802 0
 2483 0184 FFF7FEFF 		bl	SDIO_GetCommandResponse
 2484              	.LVL242:
 2485 0188 1828     		cmp	r0, #24
 2486 018a 7FF47DAF 		bne	.L276
 2487 018e A0E7     		b	.L337
 2488              	.LVL243:
 2489              	.L284:
 2490              	.LBE117:
 2491              	.LBE125:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 2492              		.loc 1 752 0
 2493 0190 9A07     		lsls	r2, r3, #30
 2494 0192 33D1     		bne	.L286
 2495              	.LVL244:
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 2496              		.loc 1 755 0 discriminator 1
 2497 0194 9B08     		lsrs	r3, r3, #2
 2498              	.LVL245:
 2499 0196 BBD0     		beq	.L283
 2500              	.L287:
 2501 0198 4FEA830A 		lsl	r10, r3, #2
 2502 019c 06EB0A09 		add	r9, r6, r10
 2503 01a0 00E0     		b	.L290
 2504              	.LVL246:
 2505              	.L289:
ARM GAS  /tmp/cc228lSu.s 			page 115


 2506 01a2 2868     		ldr	r0, [r5]
 2507              	.L290:
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++;
 2508              		.loc 1 757 0 discriminator 3
 2509 01a4 3146     		mov	r1, r6
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 2510              		.loc 1 758 0 discriminator 3
 2511 01a6 0436     		adds	r6, r6, #4
 2512              	.LVL247:
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++;
 2513              		.loc 1 757 0 discriminator 3
 2514 01a8 FFF7FEFF 		bl	SDIO_WriteFIFO
 2515              	.LVL248:
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 2516              		.loc 1 755 0 discriminator 3
 2517 01ac 4E45     		cmp	r6, r9
 2518 01ae F8D1     		bne	.L289
 2519 01b0 D044     		add	r8, r8, r10
 2520 01b2 2868     		ldr	r0, [r5]
 2521 01b4 ACE7     		b	.L283
 2522              	.LVL249:
 2523              	.L311:
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2524              		.loc 1 834 0
 2525 01b6 436B     		ldr	r3, [r0, #52]
 2526 01b8 9C07     		lsls	r4, r3, #30
 2527 01ba 4DD5     		bpl	.L312
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2528              		.loc 1 836 0
 2529 01bc 0223     		movs	r3, #2
 2530 01be 8363     		str	r3, [r0, #56]
 2531              	.LVL250:
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2532              		.loc 1 840 0
 2533 01c0 9846     		mov	r8, r3
 2534 01c2 48E7     		b	.L319
 2535              	.LVL251:
 2536              	.L350:
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2537              		.loc 1 780 0
 2538 01c4 40F21A69 		movw	r9, #1562
 2539 01c8 02E0     		b	.L294
 2540              	.LVL252:
 2541              	.L303:
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2542              		.loc 1 785 0
 2543 01ca 436B     		ldr	r3, [r0, #52]
 2544 01cc 5904     		lsls	r1, r3, #17
 2545 01ce 05D4     		bmi	.L353
 2546              	.L294:
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2547              		.loc 1 780 0
 2548 01d0 436B     		ldr	r3, [r0, #52]
 2549 01d2 13EA090F 		tst	r3, r9
 2550 01d6 F8D0     		beq	.L303
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 2551              		.loc 1 815 0
ARM GAS  /tmp/cc228lSu.s 			page 116


 2552 01d8 436B     		ldr	r3, [r0, #52]
 2553 01da A3E7     		b	.L305
 2554              	.L353:
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 2555              		.loc 1 787 0
 2556 01dc A7EB0803 		sub	r3, r7, r8
 2557 01e0 1F2B     		cmp	r3, #31
 2558 01e2 0ED9     		bls	.L295
 2559 01e4 3446     		mov	r4, r6
 2560 01e6 2036     		adds	r6, r6, #32
 2561              	.L296:
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 2562              		.loc 1 804 0 discriminator 3
 2563 01e8 2146     		mov	r1, r4
 2564 01ea 0434     		adds	r4, r4, #4
 2565 01ec FFF7FEFF 		bl	SDIO_WriteFIFO
 2566              	.LVL253:
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 2567              		.loc 1 802 0 discriminator 3
 2568 01f0 B442     		cmp	r4, r6
 2569 01f2 2868     		ldr	r0, [r5]
 2570 01f4 F8D1     		bne	.L296
 2571              	.LVL254:
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 2572              		.loc 1 808 0
 2573 01f6 08F12008 		add	r8, r8, #32
 2574              	.LVL255:
 2575 01fa E9E7     		b	.L294
 2576              	.LVL256:
 2577              	.L286:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 2578              		.loc 1 752 0 discriminator 2
 2579 01fc 9B08     		lsrs	r3, r3, #2
 2580 01fe 0133     		adds	r3, r3, #1
 2581              	.LVL257:
 2582 0200 CAE7     		b	.L287
 2583              	.LVL258:
 2584              	.L295:
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 2585              		.loc 1 789 0
 2586 0202 9A07     		lsls	r2, r3, #30
 2587 0204 30D1     		bne	.L297
 2588              	.LVL259:
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 2589              		.loc 1 792 0 discriminator 1
 2590 0206 9B08     		lsrs	r3, r3, #2
 2591              	.LVL260:
 2592 0208 E2D0     		beq	.L294
 2593              	.L298:
 2594 020a 4FEA830A 		lsl	r10, r3, #2
 2595 020e 06EB0A04 		add	r4, r6, r10
 2596 0212 00E0     		b	.L301
 2597              	.LVL261:
 2598              	.L300:
 2599 0214 2868     		ldr	r0, [r5]
 2600              	.L301:
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++; 
ARM GAS  /tmp/cc228lSu.s 			page 117


 2601              		.loc 1 794 0 discriminator 3
 2602 0216 3146     		mov	r1, r6
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 2603              		.loc 1 795 0 discriminator 3
 2604 0218 0436     		adds	r6, r6, #4
 2605              	.LVL262:
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++; 
 2606              		.loc 1 794 0 discriminator 3
 2607 021a FFF7FEFF 		bl	SDIO_WriteFIFO
 2608              	.LVL263:
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 2609              		.loc 1 792 0 discriminator 3
 2610 021e B442     		cmp	r4, r6
 2611 0220 F8D1     		bne	.L300
 2612 0222 D044     		add	r8, r8, r10
 2613 0224 2868     		ldr	r0, [r5]
 2614 0226 D3E7     		b	.L294
 2615              	.LVL264:
 2616              	.L352:
 2617              	.LBB126:
 2618              	.LBB127:
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 2619              		.loc 1 1832 0
 2620 0228 0023     		movs	r3, #0
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2621              		.loc 1 1836 0
 2622 022a 4FF48062 		mov	r2, #1024
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2623              		.loc 1 1833 0
 2624 022e 0C26     		movs	r6, #12
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2625              		.loc 1 1834 0
 2626 0230 4024     		movs	r4, #64
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2627              		.loc 1 1837 0
 2628 0232 07A9     		add	r1, sp, #28
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 2629              		.loc 1 1832 0
 2630 0234 0793     		str	r3, [sp, #28]
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2631              		.loc 1 1835 0
 2632 0236 0A93     		str	r3, [sp, #40]
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2633              		.loc 1 1833 0
 2634 0238 0896     		str	r6, [sp, #32]
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2635              		.loc 1 1834 0
 2636 023a 0994     		str	r4, [sp, #36]
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2637              		.loc 1 1836 0
 2638 023c 0B92     		str	r2, [sp, #44]
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2639              		.loc 1 1837 0
 2640 023e FFF7FEFF 		bl	SDIO_SendCommand
 2641              	.LVL265:
 2642 0242 2868     		ldr	r0, [r5]
 2643              	.L306:
ARM GAS  /tmp/cc228lSu.s 			page 118


 2644              	.LBB128:
 2645              	.LBB129:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2646              		.loc 1 2780 0
 2647 0244 436B     		ldr	r3, [r0, #52]
 2648 0246 13F0450F 		tst	r3, #69
 2649 024a FBD0     		beq	.L306
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2650              		.loc 1 2784 0
 2651 024c 436B     		ldr	r3, [r0, #52]
 2652 024e 5B07     		lsls	r3, r3, #29
 2653 0250 16D5     		bpl	.L307
 2654              	.LVL266:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2655              		.loc 1 2788 0
 2656 0252 0423     		movs	r3, #4
 2657 0254 8363     		str	r3, [r0, #56]
 2658              	.LVL267:
 2659 0256 65E7     		b	.L305
 2660              	.LVL268:
 2661              	.L312:
 2662              	.LBE129:
 2663              	.LBE128:
 2664              	.LBE127:
 2665              	.LBE126:
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2666              		.loc 1 842 0
 2667 0258 436B     		ldr	r3, [r0, #52]
 2668 025a D906     		lsls	r1, r3, #27
 2669 025c 07D5     		bpl	.L313
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2670              		.loc 1 844 0
 2671 025e 1023     		movs	r3, #16
 2672 0260 8363     		str	r3, [r0, #56]
 2673              	.LVL269:
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2674              		.loc 1 848 0
 2675 0262 4FF00508 		mov	r8, #5
 2676 0266 F6E6     		b	.L319
 2677              	.LVL270:
 2678              	.L297:
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 2679              		.loc 1 789 0 discriminator 2
 2680 0268 9B08     		lsrs	r3, r3, #2
 2681 026a 0133     		adds	r3, r3, #1
 2682              	.LVL271:
 2683 026c CDE7     		b	.L298
 2684              	.LVL272:
 2685              	.L313:
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2686              		.loc 1 851 0
 2687 026e 436B     		ldr	r3, [r0, #52]
 2688 0270 9A05     		lsls	r2, r3, #22
 2689 0272 11D5     		bpl	.L314
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2690              		.loc 1 853 0
 2691 0274 4FF40073 		mov	r3, #512
ARM GAS  /tmp/cc228lSu.s 			page 119


 2692 0278 8363     		str	r3, [r0, #56]
 2693              	.LVL273:
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2694              		.loc 1 857 0
 2695 027a 4FF00708 		mov	r8, #7
 2696 027e EAE6     		b	.L319
 2697              	.LVL274:
 2698              	.L307:
 2699              	.LBB136:
 2700              	.LBB134:
 2701              	.LBB132:
 2702              	.LBB130:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2703              		.loc 1 2792 0
 2704 0280 436B     		ldr	r3, [r0, #52]
 2705 0282 DF07     		lsls	r7, r3, #31
 2706              	.LVL275:
 2707 0284 02D5     		bpl	.L309
 2708              	.LVL276:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2709              		.loc 1 2796 0
 2710 0286 0123     		movs	r3, #1
 2711 0288 8363     		str	r3, [r0, #56]
 2712              	.LVL277:
 2713 028a 4BE7     		b	.L305
 2714              	.LVL278:
 2715              	.L309:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2716              		.loc 1 2802 0
 2717 028c FFF7FEFF 		bl	SDIO_GetCommandResponse
 2718              	.LVL279:
 2719 0290 0C28     		cmp	r0, #12
 2720 0292 1CD0     		beq	.L354
 2721              	.L338:
 2722 0294 2868     		ldr	r0, [r5]
 2723              	.LVL280:
 2724 0296 45E7     		b	.L305
 2725              	.LVL281:
 2726              	.L314:
 2727              	.LBE130:
 2728              	.LBE132:
 2729              	.LBE134:
 2730              	.LBE136:
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2731              		.loc 1 866 0
 2732 0298 40F2FF53 		movw	r3, #1535
 2733 029c 8363     		str	r3, [r0, #56]
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2734              		.loc 1 869 0
 2735 029e 0DF10701 		add	r1, sp, #7
 2736 02a2 2846     		mov	r0, r5
 2737 02a4 FFF7FEFF 		bl	SD_IsCardProgramming
 2738              	.LVL282:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2739              		.loc 1 871 0
 2740 02a8 8046     		mov	r8, r0
 2741 02aa 0028     		cmp	r0, #0
ARM GAS  /tmp/cc228lSu.s 			page 120


 2742 02ac 7FF4D3AE 		bne	.L319
 2743              	.L339:
 2744 02b0 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2745 02b4 063B     		subs	r3, r3, #6
 2746 02b6 012B     		cmp	r3, #1
 2747 02b8 3FF6CDAE 		bhi	.L319
 2748              	.LVL283:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2749              		.loc 1 873 0
 2750 02bc 0DF10701 		add	r1, sp, #7
 2751 02c0 2846     		mov	r0, r5
 2752 02c2 FFF7FEFF 		bl	SD_IsCardProgramming
 2753              	.LVL284:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2754              		.loc 1 871 0
 2755 02c6 0028     		cmp	r0, #0
 2756 02c8 F2D0     		beq	.L339
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2757              		.loc 1 873 0
 2758 02ca 8046     		mov	r8, r0
 2759 02cc C3E6     		b	.L319
 2760              	.LVL285:
 2761              	.L354:
 2762              	.LBB137:
 2763              	.LBB135:
 2764              	.LBB133:
 2765              	.LBB131:
 2766 02ce 2846     		mov	r0, r5
 2767 02d0 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 2768              	.LVL286:
 2769 02d4 DEE7     		b	.L338
 2770              	.LBE131:
 2771              	.LBE133:
 2772              	.LBE135:
 2773              	.LBE137:
 2774              		.cfi_endproc
 2775              	.LFE131:
 2777 02d6 00BF     		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 2778              		.align	1
 2779              		.p2align 2,,3
 2780              		.global	HAL_SD_ReadBlocks_DMA
 2781              		.syntax unified
 2782              		.thumb
 2783              		.thumb_func
 2784              		.fpu fpv4-sp-d16
 2786              	HAL_SD_ReadBlocks_DMA:
 2787              	.LFB132:
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2788              		.loc 1 893 0
 2789              		.cfi_startproc
 2790              		@ args = 8, pretend = 0, frame = 48
 2791              		@ frame_needed = 0, uses_anonymous_args = 0
 2792              	.LVL287:
 2793 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2794              	.LCFI48:
 2795              		.cfi_def_cfa_offset 24
 2796              		.cfi_offset 4, -24
ARM GAS  /tmp/cc228lSu.s 			page 121


 2797              		.cfi_offset 5, -20
 2798              		.cfi_offset 6, -16
 2799              		.cfi_offset 7, -12
 2800              		.cfi_offset 8, -8
 2801              		.cfi_offset 14, -4
 2802 0004 8CB0     		sub	sp, sp, #48
 2803              	.LCFI49:
 2804              		.cfi_def_cfa_offset 72
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2805              		.loc 1 899 0
 2806 0006 D0F800E0 		ldr	lr, [r0]
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2807              		.loc 1 893 0
 2808 000a 139E     		ldr	r6, [sp, #76]
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2809              		.loc 1 931 0
 2810 000c DFF878C1 		ldr	ip, .L391+4
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2811              		.loc 1 893 0
 2812 0010 129D     		ldr	r5, [sp, #72]
 2813 0012 0446     		mov	r4, r0
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2814              		.loc 1 907 0
 2815 0014 012E     		cmp	r6, #1
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2816              		.loc 1 899 0
 2817 0016 4FF00000 		mov	r0, #0
 2818              	.LVL288:
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2819              		.loc 1 893 0
 2820 001a 9846     		mov	r8, r3
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2821              		.loc 1 909 0
 2822 001c 88BF     		it	hi
 2823 001e 0123     		movhi	r3, #1
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2824              		.loc 1 899 0
 2825 0020 CEF82C00 		str	r0, [lr, #44]
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
 2826              		.loc 1 902 0
 2827 0024 A064     		str	r0, [r4, #72]
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK; 
 2828              		.loc 1 903 0
 2829 0026 2065     		str	r0, [r4, #80]
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2830              		.loc 1 904 0
 2831 0028 E064     		str	r0, [r4, #76]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2832              		.loc 1 913 0
 2833 002a 94BF     		ite	ls
 2834 002c 6065     		strls	r0, [r4, #84]
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2835              		.loc 1 909 0
 2836 002e 6365     		strhi	r3, [r4, #84]
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 2837              		.loc 1 918 0
 2838 0030 DEF83C30 		ldr	r3, [lr, #60]
ARM GAS  /tmp/cc228lSu.s 			page 122


 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 2839              		.loc 1 934 0
 2840 0034 A06D     		ldr	r0, [r4, #88]
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 2841              		.loc 1 918 0
 2842 0036 43F44A73 		orr	r3, r3, #808
 2843 003a 43F00203 		orr	r3, r3, #2
 2844 003e CEF83C30 		str	r3, [lr, #60]
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2845              		.loc 1 931 0
 2846 0042 0123     		movs	r3, #1
 2847 0044 CCF80030 		str	r3, [ip]
 2848              	.LVL289:
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 2849              		.loc 1 934 0
 2850 0048 4E4B     		ldr	r3, .L391
 2851 004a C363     		str	r3, [r0, #60]
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 2852              		.loc 1 893 0
 2853 004c 1746     		mov	r7, r2
 2854              	.LVL290:
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2855              		.loc 1 938 0
 2856 004e 05FB06F3 		mul	r3, r5, r6
 2857 0052 0A46     		mov	r2, r1
 2858              	.LVL291:
 2859 0054 0EF18001 		add	r1, lr, #128
 2860              	.LVL292:
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2861              		.loc 1 935 0
 2862 0058 DFF830E1 		ldr	lr, .L391+8
 2863 005c C0F84CE0 		str	lr, [r0, #76]
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2864              		.loc 1 938 0
 2865 0060 9B08     		lsrs	r3, r3, #2
 2866 0062 FFF7FEFF 		bl	HAL_DMA_Start_IT
 2867              	.LVL293:
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2868              		.loc 1 940 0
 2869 0066 236A     		ldr	r3, [r4, #32]
 2870 0068 022B     		cmp	r3, #2
 2871 006a 24D0     		beq	.L388
 2872              	.LVL294:
 2873              	.L358:
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2874              		.loc 1 948 0
 2875 006c 1022     		movs	r2, #16
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2876              		.loc 1 949 0
 2877 006e 4023     		movs	r3, #64
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2878              		.loc 1 948 0
 2879 0070 0292     		str	r2, [sp, #8]
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2880              		.loc 1 949 0
 2881 0072 0393     		str	r3, [sp, #12]
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
ARM GAS  /tmp/cc228lSu.s 			page 123


 2882              		.loc 1 950 0
 2883 0074 0022     		movs	r2, #0
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2884              		.loc 1 951 0
 2885 0076 4FF48063 		mov	r3, #1024
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2886              		.loc 1 952 0
 2887 007a 01A9     		add	r1, sp, #4
 2888 007c 2068     		ldr	r0, [r4]
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 2889              		.loc 1 947 0
 2890 007e 0195     		str	r5, [sp, #4]
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2891              		.loc 1 950 0
 2892 0080 0492     		str	r2, [sp, #16]
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2893              		.loc 1 951 0
 2894 0082 0593     		str	r3, [sp, #20]
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2895              		.loc 1 952 0
 2896 0084 FFF7FEFF 		bl	SDIO_SendCommand
 2897              	.LVL295:
 2898 0088 2068     		ldr	r0, [r4]
 2899              	.L359:
 2900              	.LBB144:
 2901              	.LBB145:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2902              		.loc 1 2780 0
 2903 008a 436B     		ldr	r3, [r0, #52]
 2904 008c 13F0450F 		tst	r3, #69
 2905 0090 FBD0     		beq	.L359
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2906              		.loc 1 2784 0
 2907 0092 436B     		ldr	r3, [r0, #52]
 2908 0094 5B07     		lsls	r3, r3, #29
 2909 0096 05D5     		bpl	.L360
 2910              	.LVL296:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2911              		.loc 1 2788 0
 2912 0098 0423     		movs	r3, #4
 2913 009a 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2914              		.loc 1 2790 0
 2915 009c 0320     		movs	r0, #3
 2916              	.LVL297:
 2917              	.L375:
 2918              	.LBE145:
 2919              	.LBE144:
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2920              		.loc 1 1000 0
 2921 009e 0CB0     		add	sp, sp, #48
 2922              	.LCFI50:
 2923              		.cfi_remember_state
 2924              		.cfi_def_cfa_offset 24
 2925              		@ sp needed
 2926 00a0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2927              	.LVL298:
ARM GAS  /tmp/cc228lSu.s 			page 124


 2928              	.L360:
 2929              	.LCFI51:
 2930              		.cfi_restore_state
 2931              	.LBB148:
 2932              	.LBB146:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2933              		.loc 1 2792 0
 2934 00a4 436B     		ldr	r3, [r0, #52]
 2935 00a6 D907     		lsls	r1, r3, #31
 2936 00a8 0BD5     		bpl	.L362
 2937              	.LVL299:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2938              		.loc 1 2796 0
 2939 00aa 0123     		movs	r3, #1
 2940 00ac 8363     		str	r3, [r0, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2941              		.loc 1 2798 0
 2942 00ae 1846     		mov	r0, r3
 2943              	.LBE146:
 2944              	.LBE148:
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2945              		.loc 1 1000 0
 2946 00b0 0CB0     		add	sp, sp, #48
 2947              	.LCFI52:
 2948              		.cfi_remember_state
 2949              		.cfi_def_cfa_offset 24
 2950              		@ sp needed
 2951 00b2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2952              	.LVL300:
 2953              	.L388:
 2954              	.LCFI53:
 2955              		.cfi_restore_state
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2956              		.loc 1 943 0
 2957 00b6 7F0A     		lsrs	r7, r7, #9
 2958 00b8 47EAC857 		orr	r7, r7, r8, lsl #23
 2959              	.LVL301:
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
 2960              		.loc 1 942 0
 2961 00bc 4FF40075 		mov	r5, #512
 2962 00c0 D4E7     		b	.L358
 2963              	.LVL302:
 2964              	.L362:
 2965              	.LBB149:
 2966              	.LBB147:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2967              		.loc 1 2802 0
 2968 00c2 FFF7FEFF 		bl	SDIO_GetCommandResponse
 2969              	.LVL303:
 2970 00c6 1028     		cmp	r0, #16
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2971              		.loc 1 2806 0
 2972 00c8 18BF     		it	ne
 2973 00ca 1020     		movne	r0, #16
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2974              		.loc 1 2802 0
 2975 00cc E7D1     		bne	.L375
ARM GAS  /tmp/cc228lSu.s 			page 125


 2976 00ce 2046     		mov	r0, r4
 2977 00d0 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 2978              	.LVL304:
 2979 00d4 0346     		mov	r3, r0
 2980              	.LVL305:
 2981              	.LBE147:
 2982              	.LBE149:
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2983              		.loc 1 957 0
 2984 00d6 0028     		cmp	r0, #0
 2985 00d8 E1D1     		bne	.L375
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 2986              		.loc 1 963 0
 2987 00da 4FF0FF31 		mov	r1, #-1
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 2988              		.loc 1 965 0
 2989 00de 9020     		movs	r0, #144
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2990              		.loc 1 966 0
 2991 00e0 0222     		movs	r2, #2
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 2992              		.loc 1 967 0
 2993 00e2 0A93     		str	r3, [sp, #40]
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 2994              		.loc 1 963 0
 2995 00e4 0691     		str	r1, [sp, #24]
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 2996              		.loc 1 968 0
 2997 00e6 0123     		movs	r3, #1
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 2998              		.loc 1 965 0
 2999 00e8 0890     		str	r0, [sp, #32]
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3000              		.loc 1 964 0
 3001 00ea 06FB05F5 		mul	r5, r6, r5
 3002              	.LVL306:
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3003              		.loc 1 969 0
 3004 00ee 06A9     		add	r1, sp, #24
 3005 00f0 2068     		ldr	r0, [r4]
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3006              		.loc 1 964 0
 3007 00f2 0795     		str	r5, [sp, #28]
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3008              		.loc 1 966 0
 3009 00f4 0992     		str	r2, [sp, #36]
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3010              		.loc 1 968 0
 3011 00f6 0B93     		str	r3, [sp, #44]
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3012              		.loc 1 969 0
 3013 00f8 FFF7FEFF 		bl	SDIO_DataConfig
 3014              	.LVL307:
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3015              		.loc 1 972 0
 3016 00fc 012E     		cmp	r6, #1
 3017 00fe 16D9     		bls	.L389
ARM GAS  /tmp/cc228lSu.s 			page 126


 3018 0100 1223     		movs	r3, #18
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3019              		.loc 1 984 0
 3020 0102 01A9     		add	r1, sp, #4
 3021 0104 2068     		ldr	r0, [r4]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3022              		.loc 1 983 0
 3023 0106 0197     		str	r7, [sp, #4]
 3024 0108 0293     		str	r3, [sp, #8]
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3025              		.loc 1 984 0
 3026 010a FFF7FEFF 		bl	SDIO_SendCommand
 3027              	.LVL308:
 3028 010e 2068     		ldr	r0, [r4]
 3029              	.L365:
 3030              	.LBB150:
 3031              	.LBB151:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3032              		.loc 1 2780 0
 3033 0110 436B     		ldr	r3, [r0, #52]
 3034 0112 13F0450F 		tst	r3, #69
 3035 0116 FBD0     		beq	.L365
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3036              		.loc 1 2784 0
 3037 0118 436B     		ldr	r3, [r0, #52]
 3038 011a 5A07     		lsls	r2, r3, #29
 3039 011c 1ED5     		bpl	.L390
 3040              	.L384:
 3041              	.LVL309:
 3042              	.LBE151:
 3043              	.LBE150:
 3044              	.LBB154:
 3045              	.LBB155:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3046              		.loc 1 2788 0
 3047 011e 0423     		movs	r3, #4
 3048 0120 0322     		movs	r2, #3
 3049 0122 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3050              		.loc 1 2790 0
 3051 0124 1046     		mov	r0, r2
 3052              	.LVL310:
 3053              	.L367:
 3054              	.LBE155:
 3055              	.LBE154:
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3056              		.loc 1 997 0
 3057 0126 E264     		str	r2, [r4, #76]
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3058              		.loc 1 1000 0
 3059 0128 0CB0     		add	sp, sp, #48
 3060              	.LCFI54:
 3061              		.cfi_remember_state
 3062              		.cfi_def_cfa_offset 24
 3063              		@ sp needed
 3064 012a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3065              	.LVL311:
ARM GAS  /tmp/cc228lSu.s 			page 127


 3066              	.L389:
 3067              	.LCFI55:
 3068              		.cfi_restore_state
 3069 012e 1123     		movs	r3, #17
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3070              		.loc 1 984 0
 3071 0130 01A9     		add	r1, sp, #4
 3072 0132 2068     		ldr	r0, [r4]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3073              		.loc 1 983 0
 3074 0134 0197     		str	r7, [sp, #4]
 3075 0136 0293     		str	r3, [sp, #8]
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3076              		.loc 1 984 0
 3077 0138 FFF7FEFF 		bl	SDIO_SendCommand
 3078              	.LVL312:
 3079 013c 2068     		ldr	r0, [r4]
 3080              	.L370:
 3081              	.LBB159:
 3082              	.LBB156:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3083              		.loc 1 2780 0
 3084 013e 436B     		ldr	r3, [r0, #52]
 3085 0140 13F0450F 		tst	r3, #69
 3086 0144 FBD0     		beq	.L370
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3087              		.loc 1 2784 0
 3088 0146 436B     		ldr	r3, [r0, #52]
 3089 0148 5B07     		lsls	r3, r3, #29
 3090 014a E8D4     		bmi	.L384
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3091              		.loc 1 2792 0
 3092 014c 426B     		ldr	r2, [r0, #52]
 3093 014e 12F00102 		ands	r2, r2, #1
 3094 0152 0ED0     		beq	.L372
 3095              	.L386:
 3096              	.LVL313:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3097              		.loc 1 2796 0
 3098 0154 0123     		movs	r3, #1
 3099 0156 8363     		str	r3, [r0, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3100              		.loc 1 2798 0
 3101 0158 1846     		mov	r0, r3
 3102 015a E4E7     		b	.L367
 3103              	.LVL314:
 3104              	.L390:
 3105              	.LBE156:
 3106              	.LBE159:
 3107              	.LBB160:
 3108              	.LBB152:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3109              		.loc 1 2792 0
 3110 015c 426B     		ldr	r2, [r0, #52]
 3111 015e 12F00102 		ands	r2, r2, #1
 3112 0162 F7D1     		bne	.L386
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 128


 3113              		.loc 1 2802 0
 3114 0164 FFF7FEFF 		bl	SDIO_GetCommandResponse
 3115              	.LVL315:
 3116 0168 1228     		cmp	r0, #18
 3117 016a 06D0     		beq	.L385
 3118              	.L373:
 3119              	.LBE152:
 3120              	.LBE160:
 3121              	.LBB161:
 3122              	.LBB157:
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3123              		.loc 1 2790 0
 3124 016c 1022     		movs	r2, #16
 3125              	.LBE157:
 3126              	.LBE161:
 3127              	.LBB162:
 3128              	.LBB153:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3129              		.loc 1 2806 0
 3130 016e 1046     		mov	r0, r2
 3131 0170 D9E7     		b	.L367
 3132              	.L372:
 3133              	.LBE153:
 3134              	.LBE162:
 3135              	.LBB163:
 3136              	.LBB158:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3137              		.loc 1 2802 0
 3138 0172 FFF7FEFF 		bl	SDIO_GetCommandResponse
 3139              	.LVL316:
 3140 0176 1128     		cmp	r0, #17
 3141 0178 F8D1     		bne	.L373
 3142              	.L385:
 3143 017a 2046     		mov	r0, r4
 3144 017c FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 3145              	.LVL317:
 3146 0180 0246     		mov	r2, r0
 3147 0182 D0E7     		b	.L367
 3148              	.L392:
 3149              		.align	2
 3150              	.L391:
 3151 0184 00000000 		.word	SD_DMA_RxCplt
 3152 0188 8C852542 		.word	1109755276
 3153 018c 00000000 		.word	SD_DMA_RxError
 3154              	.LBE158:
 3155              	.LBE163:
 3156              		.cfi_endproc
 3157              	.LFE132:
 3159              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 3160              		.align	1
 3161              		.p2align 2,,3
 3162              		.global	HAL_SD_WriteBlocks_DMA
 3163              		.syntax unified
 3164              		.thumb
 3165              		.thumb_func
 3166              		.fpu fpv4-sp-d16
 3168              	HAL_SD_WriteBlocks_DMA:
ARM GAS  /tmp/cc228lSu.s 			page 129


 3169              	.LFB133:
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 3170              		.loc 1 1017 0
 3171              		.cfi_startproc
 3172              		@ args = 8, pretend = 0, frame = 48
 3173              		@ frame_needed = 0, uses_anonymous_args = 0
 3174              	.LVL318:
 3175 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3176              	.LCFI56:
 3177              		.cfi_def_cfa_offset 24
 3178              		.cfi_offset 4, -24
 3179              		.cfi_offset 5, -20
 3180              		.cfi_offset 6, -16
 3181              		.cfi_offset 7, -12
 3182              		.cfi_offset 8, -8
 3183              		.cfi_offset 14, -4
 3184 0004 8CB0     		sub	sp, sp, #48
 3185              	.LCFI57:
 3186              		.cfi_def_cfa_offset 72
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3187              		.loc 1 1023 0
 3188 0006 D0F800E0 		ldr	lr, [r0]
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 3189              		.loc 1 1017 0
 3190 000a 139D     		ldr	r5, [sp, #76]
 3191 000c 129E     		ldr	r6, [sp, #72]
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3192              		.loc 1 1056 0
 3193 000e DFF870C1 		ldr	ip, .L426+8
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 3194              		.loc 1 1017 0
 3195 0012 0446     		mov	r4, r0
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3196              		.loc 1 1031 0
 3197 0014 012D     		cmp	r5, #1
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3198              		.loc 1 1023 0
 3199 0016 4FF00000 		mov	r0, #0
 3200              	.LVL319:
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 3201              		.loc 1 1017 0
 3202 001a 9846     		mov	r8, r3
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3203              		.loc 1 1033 0
 3204 001c 8CBF     		ite	hi
 3205 001e 0323     		movhi	r3, #3
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 3206              		.loc 1 1037 0
 3207 0020 0223     		movls	r3, #2
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3208              		.loc 1 1023 0
 3209 0022 CEF82C00 		str	r0, [lr, #44]
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
 3210              		.loc 1 1026 0
 3211 0026 A064     		str	r0, [r4, #72]
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK;
 3212              		.loc 1 1027 0
ARM GAS  /tmp/cc228lSu.s 			page 130


 3213 0028 2065     		str	r0, [r4, #80]
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3214              		.loc 1 1028 0
 3215 002a E064     		str	r0, [r4, #76]
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 3216              		.loc 1 1037 0
 3217 002c 6365     		str	r3, [r4, #84]
 3218              	.LVL320:
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 3219              		.loc 1 1042 0
 3220 002e DEF83C30 		ldr	r3, [lr, #60]
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
 3221              		.loc 1 1055 0
 3222 0032 E06D     		ldr	r0, [r4, #92]
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 3223              		.loc 1 1042 0
 3224 0034 43F44673 		orr	r3, r3, #792
 3225 0038 43F00203 		orr	r3, r3, #2
 3226 003c CEF83C30 		str	r3, [lr, #60]
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 3227              		.loc 1 1017 0
 3228 0040 1746     		mov	r7, r2
 3229              	.LVL321:
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3230              		.loc 1 1059 0
 3231 0042 06FB05F3 		mul	r3, r6, r5
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
 3232              		.loc 1 1055 0
 3233 0046 4C4A     		ldr	r2, .L426
 3234              	.LVL322:
 3235 0048 C263     		str	r2, [r0, #60]
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3236              		.loc 1 1059 0
 3237 004a 9B08     		lsrs	r3, r3, #2
 3238 004c 0EF18002 		add	r2, lr, #128
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3239              		.loc 1 1056 0
 3240 0050 C0F84CC0 		str	ip, [r0, #76]
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3241              		.loc 1 1059 0
 3242 0054 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3243              	.LVL323:
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3244              		.loc 1 1062 0
 3245 0058 484B     		ldr	r3, .L426+4
 3246 005a 0122     		movs	r2, #1
 3247 005c 1A60     		str	r2, [r3]
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3248              		.loc 1 1064 0
 3249 005e 236A     		ldr	r3, [r4, #32]
 3250 0060 022B     		cmp	r3, #2
 3251 0062 27D0     		beq	.L422
 3252              	.LVL324:
 3253              	.L396:
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3254              		.loc 1 1072 0
 3255 0064 1022     		movs	r2, #16
ARM GAS  /tmp/cc228lSu.s 			page 131


1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3256              		.loc 1 1073 0
 3257 0066 4023     		movs	r3, #64
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3258              		.loc 1 1072 0
 3259 0068 0292     		str	r2, [sp, #8]
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3260              		.loc 1 1073 0
 3261 006a 0393     		str	r3, [sp, #12]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3262              		.loc 1 1074 0
 3263 006c 0022     		movs	r2, #0
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3264              		.loc 1 1075 0
 3265 006e 4FF48063 		mov	r3, #1024
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3266              		.loc 1 1076 0
 3267 0072 01A9     		add	r1, sp, #4
 3268 0074 2068     		ldr	r0, [r4]
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 3269              		.loc 1 1071 0
 3270 0076 0196     		str	r6, [sp, #4]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3271              		.loc 1 1074 0
 3272 0078 0492     		str	r2, [sp, #16]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3273              		.loc 1 1075 0
 3274 007a 0593     		str	r3, [sp, #20]
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3275              		.loc 1 1076 0
 3276 007c FFF7FEFF 		bl	SDIO_SendCommand
 3277              	.LVL325:
 3278 0080 2068     		ldr	r0, [r4]
 3279              	.L397:
 3280              	.LBB170:
 3281              	.LBB171:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3282              		.loc 1 2780 0
 3283 0082 436B     		ldr	r3, [r0, #52]
 3284 0084 13F0450F 		tst	r3, #69
 3285 0088 FBD0     		beq	.L397
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3286              		.loc 1 2784 0
 3287 008a 436B     		ldr	r3, [r0, #52]
 3288 008c 5A07     		lsls	r2, r3, #29
 3289 008e 07D5     		bpl	.L423
 3290              	.LVL326:
 3291              	.L421:
 3292              	.LBE171:
 3293              	.LBE170:
 3294              	.LBB175:
 3295              	.LBB176:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3296              		.loc 1 2788 0
 3297 0090 0423     		movs	r3, #4
 3298 0092 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 132


 3299              		.loc 1 2790 0
 3300 0094 4FF00308 		mov	r8, #3
 3301              	.LVL327:
 3302              	.L399:
 3303              	.LBE176:
 3304              	.LBE175:
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3305              		.loc 1 1128 0
 3306 0098 4046     		mov	r0, r8
 3307 009a 0CB0     		add	sp, sp, #48
 3308              	.LCFI58:
 3309              		.cfi_remember_state
 3310              		.cfi_def_cfa_offset 24
 3311              		@ sp needed
 3312 009c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3313              	.LVL328:
 3314              	.L423:
 3315              	.LCFI59:
 3316              		.cfi_restore_state
 3317              	.LBB180:
 3318              	.LBB172:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3319              		.loc 1 2792 0
 3320 00a0 436B     		ldr	r3, [r0, #52]
 3321 00a2 DB07     		lsls	r3, r3, #31
 3322 00a4 0CD5     		bpl	.L424
 3323              	.LVL329:
 3324              	.L420:
 3325              	.LBE172:
 3326              	.LBE180:
 3327              	.LBB181:
 3328              	.LBB177:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3329              		.loc 1 2796 0
 3330 00a6 0123     		movs	r3, #1
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3331              		.loc 1 2798 0
 3332 00a8 9846     		mov	r8, r3
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3333              		.loc 1 2796 0
 3334 00aa 8363     		str	r3, [r0, #56]
 3335              	.LBE177:
 3336              	.LBE181:
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3337              		.loc 1 1128 0
 3338 00ac 4046     		mov	r0, r8
 3339 00ae 0CB0     		add	sp, sp, #48
 3340              	.LCFI60:
 3341              		.cfi_remember_state
 3342              		.cfi_def_cfa_offset 24
 3343              		@ sp needed
 3344 00b0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3345              	.LVL330:
 3346              	.L422:
 3347              	.LCFI61:
 3348              		.cfi_restore_state
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 133


 3349              		.loc 1 1067 0
 3350 00b4 7F0A     		lsrs	r7, r7, #9
 3351 00b6 47EAC857 		orr	r7, r7, r8, lsl #23
 3352              	.LVL331:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
 3353              		.loc 1 1066 0
 3354 00ba 4FF40076 		mov	r6, #512
 3355 00be D1E7     		b	.L396
 3356              	.LVL332:
 3357              	.L424:
 3358              	.LBB182:
 3359              	.LBB173:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3360              		.loc 1 2802 0
 3361 00c0 FFF7FEFF 		bl	SDIO_GetCommandResponse
 3362              	.LVL333:
 3363 00c4 1028     		cmp	r0, #16
 3364 00c6 05D0     		beq	.L401
 3365              	.LVL334:
 3366              	.L407:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3367              		.loc 1 2806 0
 3368 00c8 4FF01008 		mov	r8, #16
 3369              	.LBE173:
 3370              	.LBE182:
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3371              		.loc 1 1128 0
 3372 00cc 4046     		mov	r0, r8
 3373 00ce 0CB0     		add	sp, sp, #48
 3374              	.LCFI62:
 3375              		.cfi_remember_state
 3376              		.cfi_def_cfa_offset 24
 3377              		@ sp needed
 3378 00d0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3379              	.LVL335:
 3380              	.L401:
 3381              	.LCFI63:
 3382              		.cfi_restore_state
 3383              	.LBB183:
 3384              	.LBB174:
 3385 00d4 2046     		mov	r0, r4
 3386 00d6 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 3387              	.LVL336:
 3388              	.LBE174:
 3389              	.LBE183:
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3390              		.loc 1 1081 0
 3391 00da 8046     		mov	r8, r0
 3392 00dc 0028     		cmp	r0, #0
 3393 00de DBD1     		bne	.L399
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3394              		.loc 1 1087 0
 3395 00e0 012D     		cmp	r5, #1
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3396              		.loc 1 1099 0
 3397 00e2 01A9     		add	r1, sp, #4
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 134


 3398              		.loc 1 1087 0
 3399 00e4 32D9     		bls	.L425
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3400              		.loc 1 1095 0
 3401 00e6 1923     		movs	r3, #25
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3402              		.loc 1 1099 0
 3403 00e8 2068     		ldr	r0, [r4]
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3404              		.loc 1 1098 0
 3405 00ea 0197     		str	r7, [sp, #4]
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3406              		.loc 1 1095 0
 3407 00ec 0293     		str	r3, [sp, #8]
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3408              		.loc 1 1099 0
 3409 00ee FFF7FEFF 		bl	SDIO_SendCommand
 3410              	.LVL337:
 3411 00f2 2068     		ldr	r0, [r4]
 3412              	.L404:
 3413              	.LBB184:
 3414              	.LBB185:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3415              		.loc 1 2780 0
 3416 00f4 436B     		ldr	r3, [r0, #52]
 3417 00f6 13F0450F 		tst	r3, #69
 3418 00fa FBD0     		beq	.L404
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3419              		.loc 1 2784 0
 3420 00fc 436B     		ldr	r3, [r0, #52]
 3421 00fe 5F07     		lsls	r7, r3, #29
 3422 0100 C6D4     		bmi	.L421
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3423              		.loc 1 2792 0
 3424 0102 436B     		ldr	r3, [r0, #52]
 3425 0104 D907     		lsls	r1, r3, #31
 3426 0106 CED4     		bmi	.L420
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3427              		.loc 1 2802 0
 3428 0108 FFF7FEFF 		bl	SDIO_GetCommandResponse
 3429              	.LVL338:
 3430 010c 1928     		cmp	r0, #25
 3431 010e DBD1     		bne	.L407
 3432              	.L418:
 3433              	.LBE185:
 3434              	.LBE184:
 3435              	.LBB186:
 3436              	.LBB178:
 3437 0110 2046     		mov	r0, r4
 3438 0112 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 3439              	.LVL339:
 3440 0116 8046     		mov	r8, r0
 3441              	.LBE178:
 3442              	.LBE186:
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3443              		.loc 1 1111 0
 3444 0118 0028     		cmp	r0, #0
ARM GAS  /tmp/cc228lSu.s 			page 135


 3445 011a BDD1     		bne	.L399
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3446              		.loc 1 1118 0
 3447 011c 05FB06F5 		mul	r5, r5, r6
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3448              		.loc 1 1119 0
 3449 0120 9022     		movs	r2, #144
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3450              		.loc 1 1122 0
 3451 0122 0123     		movs	r3, #1
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 3452              		.loc 1 1117 0
 3453 0124 4FF0FF36 		mov	r6, #-1
 3454              	.LVL340:
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3455              		.loc 1 1123 0
 3456 0128 06A9     		add	r1, sp, #24
 3457 012a 2068     		ldr	r0, [r4]
 3458              	.LVL341:
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3459              		.loc 1 1118 0
 3460 012c 0795     		str	r5, [sp, #28]
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3461              		.loc 1 1120 0
 3462 012e CDF82480 		str	r8, [sp, #36]
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 3463              		.loc 1 1121 0
 3464 0132 CDF82880 		str	r8, [sp, #40]
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 3465              		.loc 1 1117 0
 3466 0136 0696     		str	r6, [sp, #24]
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3467              		.loc 1 1119 0
 3468 0138 0892     		str	r2, [sp, #32]
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3469              		.loc 1 1122 0
 3470 013a 0B93     		str	r3, [sp, #44]
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3471              		.loc 1 1123 0
 3472 013c FFF7FEFF 		bl	SDIO_DataConfig
 3473              	.LVL342:
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3474              		.loc 1 1128 0
 3475 0140 4046     		mov	r0, r8
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3476              		.loc 1 1125 0
 3477 0142 C4F84C80 		str	r8, [r4, #76]
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3478              		.loc 1 1128 0
 3479 0146 0CB0     		add	sp, sp, #48
 3480              	.LCFI64:
 3481              		.cfi_remember_state
 3482              		.cfi_def_cfa_offset 24
 3483              		@ sp needed
 3484 0148 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3485              	.LVL343:
 3486              	.L425:
ARM GAS  /tmp/cc228lSu.s 			page 136


 3487              	.LCFI65:
 3488              		.cfi_restore_state
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3489              		.loc 1 1090 0
 3490 014c 1823     		movs	r3, #24
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3491              		.loc 1 1099 0
 3492 014e 2068     		ldr	r0, [r4]
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3493              		.loc 1 1098 0
 3494 0150 0197     		str	r7, [sp, #4]
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3495              		.loc 1 1090 0
 3496 0152 0293     		str	r3, [sp, #8]
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3497              		.loc 1 1099 0
 3498 0154 FFF7FEFF 		bl	SDIO_SendCommand
 3499              	.LVL344:
 3500 0158 2068     		ldr	r0, [r4]
 3501              	.L403:
 3502              	.LBB187:
 3503              	.LBB179:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3504              		.loc 1 2780 0
 3505 015a 436B     		ldr	r3, [r0, #52]
 3506 015c 13F0450F 		tst	r3, #69
 3507 0160 FBD0     		beq	.L403
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3508              		.loc 1 2784 0
 3509 0162 436B     		ldr	r3, [r0, #52]
 3510 0164 5A07     		lsls	r2, r3, #29
 3511 0166 93D4     		bmi	.L421
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3512              		.loc 1 2792 0
 3513 0168 436B     		ldr	r3, [r0, #52]
 3514 016a DB07     		lsls	r3, r3, #31
 3515 016c 9BD4     		bmi	.L420
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3516              		.loc 1 2802 0
 3517 016e FFF7FEFF 		bl	SDIO_GetCommandResponse
 3518              	.LVL345:
 3519 0172 1828     		cmp	r0, #24
 3520 0174 A8D1     		bne	.L407
 3521 0176 CBE7     		b	.L418
 3522              	.L427:
 3523              		.align	2
 3524              	.L426:
 3525 0178 00000000 		.word	SD_DMA_TxCplt
 3526 017c 8C852542 		.word	1109755276
 3527 0180 00000000 		.word	SD_DMA_TxError
 3528              	.LBE179:
 3529              	.LBE187:
 3530              		.cfi_endproc
 3531              	.LFE133:
 3533              		.section	.text.HAL_SD_CheckReadOperation,"ax",%progbits
 3534              		.align	1
 3535              		.p2align 2,,3
ARM GAS  /tmp/cc228lSu.s 			page 137


 3536              		.global	HAL_SD_CheckReadOperation
 3537              		.syntax unified
 3538              		.thumb
 3539              		.thumb_func
 3540              		.fpu fpv4-sp-d16
 3542              	HAL_SD_CheckReadOperation:
 3543              	.LFB134:
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3544              		.loc 1 1140 0
 3545              		.cfi_startproc
 3546              		@ args = 0, pretend = 0, frame = 24
 3547              		@ frame_needed = 0, uses_anonymous_args = 0
 3548              	.LVL346:
 3549 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3550              	.LCFI66:
 3551              		.cfi_def_cfa_offset 20
 3552              		.cfi_offset 4, -20
 3553              		.cfi_offset 5, -16
 3554              		.cfi_offset 6, -12
 3555              		.cfi_offset 7, -8
 3556              		.cfi_offset 14, -4
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
 3557              		.loc 1 1147 0
 3558 0002 036D     		ldr	r3, [r0, #80]
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 3559              		.loc 1 1148 0
 3560 0004 826C     		ldr	r2, [r0, #72]
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3561              		.loc 1 1140 0
 3562 0006 0446     		mov	r4, r0
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3563              		.loc 1 1149 0
 3564 0008 C06C     		ldr	r0, [r0, #76]
 3565              	.LVL347:
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3566              		.loc 1 1140 0
 3567 000a 87B0     		sub	sp, sp, #28
 3568              	.LCFI67:
 3569              		.cfi_def_cfa_offset 48
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3570              		.loc 1 1140 0
 3571 000c 0D46     		mov	r5, r1
 3572              	.LVL348:
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3573              		.loc 1 1149 0
 3574 000e C0B2     		uxtb	r0, r0
 3575              	.LVL349:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3576              		.loc 1 1151 0
 3577 0010 002B     		cmp	r3, #0
 3578 0012 3AD1     		bne	.L429
 3579 0014 002A     		cmp	r2, #0
 3580 0016 38D1     		bne	.L429
 3581 0018 0028     		cmp	r0, #0
 3582 001a 36D1     		bne	.L429
 3583 001c 0029     		cmp	r1, #0
 3584 001e 5CD0     		beq	.L430
ARM GAS  /tmp/cc228lSu.s 			page 138


 3585 0020 0A46     		mov	r2, r1
 3586              	.LVL350:
 3587 0022 02E0     		b	.L436
 3588              	.LVL351:
 3589              	.L479:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3590              		.loc 1 1151 0 is_stmt 0 discriminator 1
 3591 0024 46B9     		cbnz	r6, .L431
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3592              		.loc 1 1151 0 discriminator 2
 3593 0026 3BB9     		cbnz	r3, .L431
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3594              		.loc 1 1151 0 discriminator 3
 3595 0028 32B1     		cbz	r2, .L431
 3596              	.LVL352:
 3597              	.L436:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
 3598              		.loc 1 1153 0 is_stmt 1
 3599 002a 216D     		ldr	r1, [r4, #80]
 3600              	.LVL353:
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;    
 3601              		.loc 1 1154 0
 3602 002c A66C     		ldr	r6, [r4, #72]
 3603              	.LVL354:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 3604              		.loc 1 1155 0
 3605 002e E36C     		ldr	r3, [r4, #76]
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3606              		.loc 1 1156 0
 3607 0030 013A     		subs	r2, r2, #1
 3608              	.LVL355:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 3609              		.loc 1 1155 0
 3610 0032 DBB2     		uxtb	r3, r3
 3611              	.LVL356:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3612              		.loc 1 1151 0
 3613 0034 0029     		cmp	r1, #0
 3614 0036 F5D0     		beq	.L479
 3615              	.L431:
 3616              	.LVL357:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3617              		.loc 1 1162 0
 3618 0038 2268     		ldr	r2, [r4]
 3619 003a 536B     		ldr	r3, [r2, #52]
 3620              	.LVL358:
 3621 003c 9904     		lsls	r1, r3, #18
 3622              	.LVL359:
 3623 003e 48D5     		bpl	.L480
 3624              	.LVL360:
 3625              	.L437:
 3626 0040 536B     		ldr	r3, [r2, #52]
 3627 0042 9F04     		lsls	r7, r3, #18
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3628              		.loc 1 1164 0
 3629 0044 05F1FF35 		add	r5, r5, #-1
 3630              	.LVL361:
ARM GAS  /tmp/cc228lSu.s 			page 139


1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3631              		.loc 1 1162 0
 3632 0048 23D5     		bpl	.L433
 3633              	.L476:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3634              		.loc 1 1162 0 is_stmt 0 discriminator 1
 3635 004a 002D     		cmp	r5, #0
 3636 004c F8D1     		bne	.L437
 3637              	.LVL362:
 3638              	.L435:
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3639              		.loc 1 1168 0 is_stmt 1
 3640 004e 636D     		ldr	r3, [r4, #84]
 3641 0050 012B     		cmp	r3, #1
 3642 0052 36D1     		bne	.L446
 3643 0054 0025     		movs	r5, #0
 3644              	.L449:
 3645              	.LVL363:
 3646              	.LBB192:
 3647              	.LBB193:
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3648              		.loc 1 1832 0
 3649 0056 0023     		movs	r3, #0
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3650              		.loc 1 1837 0
 3651 0058 1046     		mov	r0, r2
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3652              		.loc 1 1833 0
 3653 005a 0C27     		movs	r7, #12
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3654              		.loc 1 1836 0
 3655 005c 4FF48062 		mov	r2, #1024
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3656              		.loc 1 1834 0
 3657 0060 4026     		movs	r6, #64
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3658              		.loc 1 1837 0
 3659 0062 01A9     		add	r1, sp, #4
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3660              		.loc 1 1836 0
 3661 0064 0592     		str	r2, [sp, #20]
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3662              		.loc 1 1832 0
 3663 0066 0193     		str	r3, [sp, #4]
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3664              		.loc 1 1835 0
 3665 0068 0493     		str	r3, [sp, #16]
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3666              		.loc 1 1833 0
 3667 006a 0297     		str	r7, [sp, #8]
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3668              		.loc 1 1834 0
 3669 006c 0396     		str	r6, [sp, #12]
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3670              		.loc 1 1837 0
 3671 006e FFF7FEFF 		bl	SDIO_SendCommand
 3672              	.LVL364:
ARM GAS  /tmp/cc228lSu.s 			page 140


 3673 0072 2268     		ldr	r2, [r4]
 3674              	.L439:
 3675              	.LBB194:
 3676              	.LBB195:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3677              		.loc 1 2780 0
 3678 0074 536B     		ldr	r3, [r2, #52]
 3679 0076 13F0450F 		tst	r3, #69
 3680 007a FBD0     		beq	.L439
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3681              		.loc 1 2784 0
 3682 007c 536B     		ldr	r3, [r2, #52]
 3683 007e 5E07     		lsls	r6, r3, #29
 3684 0080 21D5     		bpl	.L440
 3685              	.LVL365:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3686              		.loc 1 2788 0
 3687 0082 0423     		movs	r3, #4
 3688 0084 9363     		str	r3, [r2, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3689              		.loc 1 2790 0
 3690 0086 0320     		movs	r0, #3
 3691 0088 0AE0     		b	.L445
 3692              	.LVL366:
 3693              	.L429:
 3694              	.LBE195:
 3695              	.LBE194:
 3696              	.LBE193:
 3697              	.LBE192:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3698              		.loc 1 1162 0
 3699 008a 2268     		ldr	r2, [r4]
 3700              	.LVL367:
 3701 008c 536B     		ldr	r3, [r2, #52]
 3702              	.LVL368:
 3703 008e 9B04     		lsls	r3, r3, #18
 3704 0090 DBD4     		bmi	.L476
 3705              	.LVL369:
 3706              	.L433:
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3707              		.loc 1 1168 0
 3708 0092 636D     		ldr	r3, [r4, #84]
 3709 0094 012B     		cmp	r3, #1
 3710 0096 DED0     		beq	.L449
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
 3711              		.loc 1 1141 0
 3712 0098 002D     		cmp	r5, #0
 3713 009a 0CBF     		ite	eq
 3714 009c 0420     		moveq	r0, #4
 3715 009e 0020     		movne	r0, #0
 3716              	.LVL370:
 3717              	.L445:
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3718              		.loc 1 1179 0
 3719 00a0 40F2FF53 		movw	r3, #1535
 3720 00a4 9363     		str	r3, [r2, #56]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 141


 3721              		.loc 1 1182 0
 3722 00a6 E36C     		ldr	r3, [r4, #76]
 3723 00a8 0BB1     		cbz	r3, .L453
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3724              		.loc 1 1184 0
 3725 00aa E06C     		ldr	r0, [r4, #76]
 3726              	.LVL371:
 3727 00ac C0B2     		uxtb	r0, r0
 3728              	.L453:
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3729              		.loc 1 1188 0
 3730 00ae 07B0     		add	sp, sp, #28
 3731              	.LCFI68:
 3732              		.cfi_remember_state
 3733              		.cfi_def_cfa_offset 20
 3734              		@ sp needed
 3735 00b0 F0BD     		pop	{r4, r5, r6, r7, pc}
 3736              	.LVL372:
 3737              	.L481:
 3738              	.LCFI69:
 3739              		.cfi_restore_state
 3740              	.LBB205:
 3741              	.LBB202:
 3742              	.LBB199:
 3743              	.LBB196:
 3744 00b2 2046     		mov	r0, r4
 3745 00b4 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 3746              	.LVL373:
 3747 00b8 2268     		ldr	r2, [r4]
 3748              	.LBE196:
 3749              	.LBE199:
 3750              	.LBE202:
 3751              	.LBE205:
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3752              		.loc 1 1173 0
 3753 00ba 002D     		cmp	r5, #0
 3754 00bc F0D1     		bne	.L445
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3755              		.loc 1 1173 0 is_stmt 0 discriminator 1
 3756 00be 0028     		cmp	r0, #0
 3757 00c0 EED1     		bne	.L445
 3758              	.LVL374:
 3759              	.L446:
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3760              		.loc 1 1175 0 is_stmt 1
 3761 00c2 0420     		movs	r0, #4
 3762 00c4 ECE7     		b	.L445
 3763              	.LVL375:
 3764              	.L440:
 3765              	.LBB206:
 3766              	.LBB203:
 3767              	.LBB200:
 3768              	.LBB197:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3769              		.loc 1 2792 0
 3770 00c6 536B     		ldr	r3, [r2, #52]
 3771 00c8 D807     		lsls	r0, r3, #31
ARM GAS  /tmp/cc228lSu.s 			page 142


 3772 00ca 0ED5     		bpl	.L442
 3773              	.LVL376:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3774              		.loc 1 2796 0
 3775 00cc 0120     		movs	r0, #1
 3776 00ce 9063     		str	r0, [r2, #56]
 3777 00d0 E6E7     		b	.L445
 3778              	.LVL377:
 3779              	.L480:
 3780              	.LBE197:
 3781              	.LBE200:
 3782              	.LBE203:
 3783              	.LBE206:
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3784              		.loc 1 1168 0
 3785 00d2 636D     		ldr	r3, [r4, #84]
 3786 00d4 012B     		cmp	r3, #1
 3787 00d6 E3D1     		bne	.L445
 3788 00d8 BDE7     		b	.L449
 3789              	.LVL378:
 3790              	.L430:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3791              		.loc 1 1162 0
 3792 00da 2268     		ldr	r2, [r4]
 3793              	.LVL379:
 3794 00dc 536B     		ldr	r3, [r2, #52]
 3795              	.LVL380:
 3796 00de 9B04     		lsls	r3, r3, #18
 3797 00e0 B5D4     		bmi	.L435
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3798              		.loc 1 1168 0
 3799 00e2 636D     		ldr	r3, [r4, #84]
 3800 00e4 012B     		cmp	r3, #1
 3801 00e6 B6D0     		beq	.L449
 3802 00e8 EBE7     		b	.L446
 3803              	.LVL381:
 3804              	.L442:
 3805              	.LBB207:
 3806              	.LBB204:
 3807              	.LBB201:
 3808              	.LBB198:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3809              		.loc 1 2802 0
 3810 00ea 1046     		mov	r0, r2
 3811 00ec FFF7FEFF 		bl	SDIO_GetCommandResponse
 3812              	.LVL382:
 3813 00f0 0C28     		cmp	r0, #12
 3814 00f2 DED0     		beq	.L481
 3815 00f4 2268     		ldr	r2, [r4]
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3816              		.loc 1 2806 0
 3817 00f6 1020     		movs	r0, #16
 3818              	.LVL383:
 3819 00f8 D2E7     		b	.L445
 3820              	.LBE198:
 3821              	.LBE201:
 3822              	.LBE204:
ARM GAS  /tmp/cc228lSu.s 			page 143


 3823              	.LBE207:
 3824              		.cfi_endproc
 3825              	.LFE134:
 3827 00fa 00BF     		.section	.text.HAL_SD_CheckWriteOperation,"ax",%progbits
 3828              		.align	1
 3829              		.p2align 2,,3
 3830              		.global	HAL_SD_CheckWriteOperation
 3831              		.syntax unified
 3832              		.thumb
 3833              		.thumb_func
 3834              		.fpu fpv4-sp-d16
 3836              	HAL_SD_CheckWriteOperation:
 3837              	.LFB135:
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3838              		.loc 1 1200 0
 3839              		.cfi_startproc
 3840              		@ args = 0, pretend = 0, frame = 24
 3841              		@ frame_needed = 0, uses_anonymous_args = 0
 3842              	.LVL384:
 3843 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3844              	.LCFI70:
 3845              		.cfi_def_cfa_offset 24
 3846              		.cfi_offset 4, -24
 3847              		.cfi_offset 5, -20
 3848              		.cfi_offset 6, -16
 3849              		.cfi_offset 7, -12
 3850              		.cfi_offset 8, -8
 3851              		.cfi_offset 14, -4
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
 3852              		.loc 1 1207 0
 3853 0004 026D     		ldr	r2, [r0, #80]
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 3854              		.loc 1 1208 0
 3855 0006 836C     		ldr	r3, [r0, #72]
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3856              		.loc 1 1209 0
 3857 0008 C66C     		ldr	r6, [r0, #76]
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3858              		.loc 1 1200 0
 3859 000a 86B0     		sub	sp, sp, #24
 3860              	.LCFI71:
 3861              		.cfi_def_cfa_offset 48
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3862              		.loc 1 1200 0
 3863 000c 0446     		mov	r4, r0
 3864 000e 0D46     		mov	r5, r1
 3865              	.LVL385:
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3866              		.loc 1 1209 0
 3867 0010 F6B2     		uxtb	r6, r6
 3868              	.LVL386:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3869              		.loc 1 1211 0
 3870 0012 002A     		cmp	r2, #0
 3871 0014 3BD1     		bne	.L483
 3872 0016 002B     		cmp	r3, #0
 3873 0018 39D1     		bne	.L483
ARM GAS  /tmp/cc228lSu.s 			page 144


 3874 001a 002E     		cmp	r6, #0
 3875 001c 37D1     		bne	.L483
 3876 001e 0029     		cmp	r1, #0
 3877 0020 00F09D80 		beq	.L484
 3878 0024 0A46     		mov	r2, r1
 3879              	.LVL387:
 3880 0026 02E0     		b	.L490
 3881              	.LVL388:
 3882              	.L542:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3883              		.loc 1 1211 0 is_stmt 0 discriminator 1
 3884 0028 40B9     		cbnz	r0, .L485
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3885              		.loc 1 1211 0 discriminator 2
 3886 002a 3BB9     		cbnz	r3, .L485
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3887              		.loc 1 1211 0 discriminator 3
 3888 002c 32B1     		cbz	r2, .L485
 3889              	.LVL389:
 3890              	.L490:
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
 3891              		.loc 1 1213 0 is_stmt 1
 3892 002e 216D     		ldr	r1, [r4, #80]
 3893              	.LVL390:
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 3894              		.loc 1 1214 0
 3895 0030 A06C     		ldr	r0, [r4, #72]
 3896              	.LVL391:
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 3897              		.loc 1 1215 0
 3898 0032 E36C     		ldr	r3, [r4, #76]
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3899              		.loc 1 1216 0
 3900 0034 013A     		subs	r2, r2, #1
 3901              	.LVL392:
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 3902              		.loc 1 1215 0
 3903 0036 DBB2     		uxtb	r3, r3
 3904              	.LVL393:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3905              		.loc 1 1211 0
 3906 0038 0029     		cmp	r1, #0
 3907 003a F5D0     		beq	.L542
 3908              	.L485:
 3909              	.LVL394:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3910              		.loc 1 1222 0
 3911 003c 2068     		ldr	r0, [r4]
 3912              	.LVL395:
 3913 003e 436B     		ldr	r3, [r0, #52]
 3914              	.LVL396:
 3915 0040 DA04     		lsls	r2, r3, #19
 3916 0042 40F18880 		bpl	.L543
 3917              	.LVL397:
 3918              	.L491:
 3919 0046 436B     		ldr	r3, [r0, #52]
 3920 0048 DF04     		lsls	r7, r3, #19
ARM GAS  /tmp/cc228lSu.s 			page 145


1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3921              		.loc 1 1224 0
 3922 004a 05F1FF35 		add	r5, r5, #-1
 3923              	.LVL398:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3924              		.loc 1 1222 0
 3925 004e 22D5     		bpl	.L487
 3926              	.L539:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3927              		.loc 1 1222 0 is_stmt 0 discriminator 1
 3928 0050 002D     		cmp	r5, #0
 3929 0052 F8D1     		bne	.L491
 3930              	.LVL399:
 3931              	.L489:
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3932              		.loc 1 1228 0 is_stmt 1
 3933 0054 636D     		ldr	r3, [r4, #84]
 3934 0056 032B     		cmp	r3, #3
 3935 0058 5FD1     		bne	.L500
 3936 005a 0025     		movs	r5, #0
 3937              	.L513:
 3938              	.LVL400:
 3939              	.LBB220:
 3940              	.LBB221:
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3941              		.loc 1 1832 0
 3942 005c 0023     		movs	r3, #0
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3943              		.loc 1 1836 0
 3944 005e 4FF48062 		mov	r2, #1024
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3945              		.loc 1 1833 0
 3946 0062 0C27     		movs	r7, #12
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3947              		.loc 1 1834 0
 3948 0064 4026     		movs	r6, #64
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3949              		.loc 1 1837 0
 3950 0066 01A9     		add	r1, sp, #4
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3951              		.loc 1 1832 0
 3952 0068 0193     		str	r3, [sp, #4]
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3953              		.loc 1 1835 0
 3954 006a 0493     		str	r3, [sp, #16]
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3955              		.loc 1 1833 0
 3956 006c 0297     		str	r7, [sp, #8]
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3957              		.loc 1 1834 0
 3958 006e 0396     		str	r6, [sp, #12]
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3959              		.loc 1 1836 0
 3960 0070 0592     		str	r2, [sp, #20]
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3961              		.loc 1 1837 0
 3962 0072 FFF7FEFF 		bl	SDIO_SendCommand
ARM GAS  /tmp/cc228lSu.s 			page 146


 3963              	.LVL401:
 3964 0076 2068     		ldr	r0, [r4]
 3965              	.L493:
 3966              	.LBB222:
 3967              	.LBB223:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3968              		.loc 1 2780 0
 3969 0078 436B     		ldr	r3, [r0, #52]
 3970 007a 13F0450F 		tst	r3, #69
 3971 007e FBD0     		beq	.L493
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3972              		.loc 1 2784 0
 3973 0080 436B     		ldr	r3, [r0, #52]
 3974 0082 5907     		lsls	r1, r3, #29
 3975 0084 5AD5     		bpl	.L494
 3976              	.LVL402:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3977              		.loc 1 2788 0
 3978 0086 0423     		movs	r3, #4
 3979 0088 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3980              		.loc 1 2790 0
 3981 008a 0326     		movs	r6, #3
 3982 008c 0AE0     		b	.L499
 3983              	.LVL403:
 3984              	.L483:
 3985              	.LBE223:
 3986              	.LBE222:
 3987              	.LBE221:
 3988              	.LBE220:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3989              		.loc 1 1222 0
 3990 008e 2068     		ldr	r0, [r4]
 3991              	.LVL404:
 3992 0090 436B     		ldr	r3, [r0, #52]
 3993              	.LVL405:
 3994 0092 DB04     		lsls	r3, r3, #19
 3995 0094 DCD4     		bmi	.L539
 3996              	.LVL406:
 3997              	.L487:
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3998              		.loc 1 1228 0
 3999 0096 636D     		ldr	r3, [r4, #84]
 4000 0098 032B     		cmp	r3, #3
 4001 009a DFD0     		beq	.L513
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
 4002              		.loc 1 1201 0
 4003 009c 002D     		cmp	r5, #0
 4004 009e 0CBF     		ite	eq
 4005 00a0 0426     		moveq	r6, #4
 4006 00a2 0026     		movne	r6, #0
 4007              	.LVL407:
 4008              	.L499:
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4009              		.loc 1 1239 0
 4010 00a4 40F2FF53 		movw	r3, #1535
 4011 00a8 8363     		str	r3, [r0, #56]
ARM GAS  /tmp/cc228lSu.s 			page 147


1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4012              		.loc 1 1242 0
 4013 00aa E56C     		ldr	r5, [r4, #76]
 4014 00ac 35BB     		cbnz	r5, .L501
 4015              	.LBB230:
 4016              	.LBB231:
 4017              	.LBB232:
 4018              	.LBB233:
 4019              	.LBB234:
 4020              	.LBB235:
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4021              		.loc 1 2674 0 discriminator 1
 4022 00ae 4FF00D08 		mov	r8, #13
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4023              		.loc 1 2675 0 discriminator 1
 4024 00b2 4027     		movs	r7, #64
 4025              	.L502:
 4026              	.LVL408:
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4027              		.loc 1 2673 0 discriminator 1
 4028 00b4 636A     		ldr	r3, [r4, #36]
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4029              		.loc 1 2674 0 discriminator 1
 4030 00b6 CDF80880 		str	r8, [sp, #8]
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4031              		.loc 1 2673 0 discriminator 1
 4032 00ba 1B04     		lsls	r3, r3, #16
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4033              		.loc 1 2677 0 discriminator 1
 4034 00bc 4FF48062 		mov	r2, #1024
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4035              		.loc 1 2678 0 discriminator 1
 4036 00c0 01A9     		add	r1, sp, #4
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4037              		.loc 1 2675 0 discriminator 1
 4038 00c2 0397     		str	r7, [sp, #12]
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4039              		.loc 1 2676 0 discriminator 1
 4040 00c4 0495     		str	r5, [sp, #16]
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4041              		.loc 1 2673 0 discriminator 1
 4042 00c6 0193     		str	r3, [sp, #4]
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4043              		.loc 1 2677 0 discriminator 1
 4044 00c8 0592     		str	r2, [sp, #20]
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4045              		.loc 1 2678 0 discriminator 1
 4046 00ca FFF7FEFF 		bl	SDIO_SendCommand
 4047              	.LVL409:
 4048 00ce 2068     		ldr	r0, [r4]
 4049              	.L504:
 4050              	.LBB236:
 4051              	.LBB237:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4052              		.loc 1 2780 0
 4053 00d0 436B     		ldr	r3, [r0, #52]
 4054 00d2 13F0450F 		tst	r3, #69
ARM GAS  /tmp/cc228lSu.s 			page 148


 4055 00d6 FBD0     		beq	.L504
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4056              		.loc 1 2784 0
 4057 00d8 436B     		ldr	r3, [r0, #52]
 4058 00da 5B07     		lsls	r3, r3, #29
 4059 00dc 02D5     		bpl	.L505
 4060              	.LVL410:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4061              		.loc 1 2788 0
 4062 00de 0423     		movs	r3, #4
 4063 00e0 8363     		str	r3, [r0, #56]
 4064              	.LVL411:
 4065 00e2 E7E7     		b	.L502
 4066              	.LVL412:
 4067              	.L505:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4068              		.loc 1 2792 0
 4069 00e4 436B     		ldr	r3, [r0, #52]
 4070 00e6 D907     		lsls	r1, r3, #31
 4071 00e8 02D5     		bpl	.L507
 4072              	.LVL413:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4073              		.loc 1 2796 0
 4074 00ea 0123     		movs	r3, #1
 4075 00ec 8363     		str	r3, [r0, #56]
 4076              	.LVL414:
 4077 00ee E1E7     		b	.L502
 4078              	.LVL415:
 4079              	.L507:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4080              		.loc 1 2802 0
 4081 00f0 FFF7FEFF 		bl	SDIO_GetCommandResponse
 4082              	.LVL416:
 4083 00f4 0D28     		cmp	r0, #13
 4084 00f6 12D0     		beq	.L544
 4085              	.LVL417:
 4086              	.L510:
 4087 00f8 2068     		ldr	r0, [r4]
 4088 00fa DBE7     		b	.L502
 4089              	.LVL418:
 4090              	.L501:
 4091              	.LBE237:
 4092              	.LBE236:
 4093              	.LBE235:
 4094              	.LBE234:
 4095              	.LBE233:
 4096              	.LBE232:
 4097              	.LBE231:
 4098              	.LBE230:
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4099              		.loc 1 1244 0
 4100 00fc E66C     		ldr	r6, [r4, #76]
 4101              	.LVL419:
 4102 00fe F6B2     		uxtb	r6, r6
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4103              		.loc 1 1253 0
 4104 0100 3046     		mov	r0, r6
ARM GAS  /tmp/cc228lSu.s 			page 149


 4105 0102 06B0     		add	sp, sp, #24
 4106              	.LCFI72:
 4107              		.cfi_remember_state
 4108              		.cfi_def_cfa_offset 24
 4109              		@ sp needed
 4110 0104 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4111              	.LVL420:
 4112              	.L545:
 4113              	.LCFI73:
 4114              		.cfi_restore_state
 4115              	.LBB245:
 4116              	.LBB228:
 4117              	.LBB226:
 4118              	.LBB224:
 4119 0108 2046     		mov	r0, r4
 4120 010a FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 4121              	.LVL421:
 4122 010e 0646     		mov	r6, r0
 4123              	.LVL422:
 4124 0110 2068     		ldr	r0, [r4]
 4125              	.LBE224:
 4126              	.LBE226:
 4127              	.LBE228:
 4128              	.LBE245:
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4129              		.loc 1 1233 0
 4130 0112 002D     		cmp	r5, #0
 4131 0114 C6D1     		bne	.L499
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4132              		.loc 1 1233 0 is_stmt 0 discriminator 1
 4133 0116 002E     		cmp	r6, #0
 4134 0118 C4D1     		bne	.L499
 4135              	.LVL423:
 4136              	.L500:
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4137              		.loc 1 1235 0 is_stmt 1
 4138 011a 0426     		movs	r6, #4
 4139 011c C2E7     		b	.L499
 4140              	.LVL424:
 4141              	.L544:
 4142              	.LBB246:
 4143              	.LBB244:
 4144              	.LBB243:
 4145              	.LBB242:
 4146              	.LBB241:
 4147              	.LBB240:
 4148              	.LBB239:
 4149              	.LBB238:
 4150 011e 2046     		mov	r0, r4
 4151 0120 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 4152              	.LVL425:
 4153              	.LBE238:
 4154              	.LBE239:
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4155              		.loc 1 2683 0
 4156 0124 0028     		cmp	r0, #0
 4157 0126 E7D1     		bne	.L510
ARM GAS  /tmp/cc228lSu.s 			page 150


2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4158              		.loc 1 2689 0
 4159 0128 FFF7FEFF 		bl	SDIO_GetResponse
 4160              	.LVL426:
 4161              	.LBE240:
 4162              	.LBE241:
 4163              	.LBE242:
 4164              	.LBE243:
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4165              		.loc 1 2171 0
 4166 012c C0F34320 		ubfx	r0, r0, #9, #4
 4167 0130 0428     		cmp	r0, #4
 4168 0132 E1D1     		bne	.L510
 4169              	.LBE244:
 4170              	.LBE246:
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4171              		.loc 1 1253 0
 4172 0134 3046     		mov	r0, r6
 4173 0136 06B0     		add	sp, sp, #24
 4174              	.LCFI74:
 4175              		.cfi_remember_state
 4176              		.cfi_def_cfa_offset 24
 4177              		@ sp needed
 4178 0138 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4179              	.LVL427:
 4180              	.L494:
 4181              	.LCFI75:
 4182              		.cfi_restore_state
 4183              	.LBB247:
 4184              	.LBB229:
 4185              	.LBB227:
 4186              	.LBB225:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4187              		.loc 1 2792 0
 4188 013c 436B     		ldr	r3, [r0, #52]
 4189 013e DA07     		lsls	r2, r3, #31
 4190 0140 02D5     		bpl	.L496
 4191              	.LVL428:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4192              		.loc 1 2796 0
 4193 0142 0126     		movs	r6, #1
 4194 0144 8663     		str	r6, [r0, #56]
 4195 0146 ADE7     		b	.L499
 4196              	.LVL429:
 4197              	.L496:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4198              		.loc 1 2802 0
 4199 0148 FFF7FEFF 		bl	SDIO_GetCommandResponse
 4200              	.LVL430:
 4201 014c 0C28     		cmp	r0, #12
 4202 014e DBD0     		beq	.L545
 4203 0150 2068     		ldr	r0, [r4]
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4204              		.loc 1 2806 0
 4205 0152 1026     		movs	r6, #16
 4206              	.LVL431:
 4207 0154 A6E7     		b	.L499
ARM GAS  /tmp/cc228lSu.s 			page 151


 4208              	.LVL432:
 4209              	.L543:
 4210              	.LBE225:
 4211              	.LBE227:
 4212              	.LBE229:
 4213              	.LBE247:
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4214              		.loc 1 1228 0
 4215 0156 636D     		ldr	r3, [r4, #84]
 4216 0158 032B     		cmp	r3, #3
 4217 015a A3D1     		bne	.L499
 4218 015c 7EE7     		b	.L513
 4219              	.LVL433:
 4220              	.L484:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4221              		.loc 1 1222 0
 4222 015e 0068     		ldr	r0, [r0]
 4223              	.LVL434:
 4224 0160 436B     		ldr	r3, [r0, #52]
 4225              	.LVL435:
 4226 0162 DB04     		lsls	r3, r3, #19
 4227 0164 3FF576AF 		bmi	.L489
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4228              		.loc 1 1228 0
 4229 0168 636D     		ldr	r3, [r4, #84]
 4230 016a 032B     		cmp	r3, #3
 4231 016c 3FF476AF 		beq	.L513
 4232 0170 D3E7     		b	.L500
 4233              		.cfi_endproc
 4234              	.LFE135:
 4236 0172 00BF     		.section	.text.HAL_SD_Erase,"ax",%progbits
 4237              		.align	1
 4238              		.p2align 2,,3
 4239              		.global	HAL_SD_Erase
 4240              		.syntax unified
 4241              		.thumb
 4242              		.thumb_func
 4243              		.fpu fpv4-sp-d16
 4245              	HAL_SD_Erase:
 4246              	.LFB136:
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 4247              		.loc 1 1263 0
 4248              		.cfi_startproc
 4249              		@ args = 8, pretend = 0, frame = 64
 4250              		@ frame_needed = 0, uses_anonymous_args = 0
 4251              	.LVL436:
 4252 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4253              	.LCFI76:
 4254              		.cfi_def_cfa_offset 32
 4255              		.cfi_offset 4, -32
 4256              		.cfi_offset 5, -28
 4257              		.cfi_offset 6, -24
 4258              		.cfi_offset 7, -20
 4259              		.cfi_offset 8, -16
 4260              		.cfi_offset 9, -12
 4261              		.cfi_offset 10, -8
 4262              		.cfi_offset 14, -4
ARM GAS  /tmp/cc228lSu.s 			page 152


 4263 0004 0546     		mov	r5, r0
 4264 0006 90B0     		sub	sp, sp, #64
 4265              	.LCFI77:
 4266              		.cfi_def_cfa_offset 96
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4267              		.loc 1 1272 0
 4268 0008 E96A     		ldr	r1, [r5, #44]
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 4269              		.loc 1 1263 0
 4270 000a 189E     		ldr	r6, [sp, #96]
 4271 000c 199C     		ldr	r4, [sp, #100]
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0U;
 4272              		.loc 1 1268 0
 4273 000e 0020     		movs	r0, #0
 4274              	.LVL437:
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4275              		.loc 1 1272 0
 4276 0010 8901     		lsls	r1, r1, #6
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0U;
 4277              		.loc 1 1268 0
 4278 0012 0490     		str	r0, [sp, #16]
 4279              	.LVL438:
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4280              		.loc 1 1269 0
 4281 0014 8DF80F00 		strb	r0, [sp, #15]
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4282              		.loc 1 1272 0
 4283 0018 04D4     		bmi	.L613
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4284              		.loc 1 1276 0
 4285 001a 2524     		movs	r4, #37
 4286              	.LVL439:
 4287              	.L547:
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4288              		.loc 1 1359 0
 4289 001c 2046     		mov	r0, r4
 4290 001e 10B0     		add	sp, sp, #64
 4291              	.LCFI78:
 4292              		.cfi_remember_state
 4293              		.cfi_def_cfa_offset 32
 4294              		@ sp needed
 4295 0020 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4296              	.LVL440:
 4297              	.L613:
 4298              	.LCFI79:
 4299              		.cfi_restore_state
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4300              		.loc 1 1280 0
 4301 0024 2968     		ldr	r1, [r5]
 4302 0026 9E4F     		ldr	r7, .L634
 4303 0028 4968     		ldr	r1, [r1, #4]
 4304 002a C9B2     		uxtb	r1, r1
 4305 002c 8DE80C00 		stm	sp, {r2, r3}
 4306 0030 0231     		adds	r1, r1, #2
 4307 0032 B7FBF1F1 		udiv	r1, r7, r1
 4308 0036 0491     		str	r1, [sp, #16]
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 153


 4309              		.loc 1 1282 0
 4310 0038 FFF7FEFF 		bl	SDIO_GetResponse
 4311              	.LVL441:
 4312 003c 10F0007F 		tst	r0, #33554432
 4313 0040 9DE80C00 		ldm	sp, {r2, r3}
 4314 0044 04D0     		beq	.L614
 4315              	.LVL442:
 4316              	.L592:
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4317              		.loc 1 1286 0
 4318 0046 0E24     		movs	r4, #14
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4319              		.loc 1 1359 0
 4320 0048 2046     		mov	r0, r4
 4321 004a 10B0     		add	sp, sp, #64
 4322              	.LCFI80:
 4323              		.cfi_remember_state
 4324              		.cfi_def_cfa_offset 32
 4325              		@ sp needed
 4326 004c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4327              	.LVL443:
 4328              	.L614:
 4329              	.LCFI81:
 4330              		.cfi_restore_state
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4331              		.loc 1 1290 0
 4332 0050 296A     		ldr	r1, [r5, #32]
 4333 0052 0229     		cmp	r1, #2
 4334 0054 18D0     		beq	.L615
 4335              	.LVL444:
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 4336              		.loc 1 1297 0
 4337 0056 1DD9     		bls	.L549
 4338 0058 06AF     		add	r7, sp, #24
 4339              	.LVL445:
 4340              	.L559:
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
 4341              		.loc 1 1331 0
 4342 005a 0022     		movs	r2, #0
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4343              		.loc 1 1332 0
 4344 005c 2623     		movs	r3, #38
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4345              		.loc 1 1333 0
 4346 005e 3946     		mov	r1, r7
 4347 0060 2868     		ldr	r0, [r5]
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
 4348              		.loc 1 1331 0
 4349 0062 0692     		str	r2, [sp, #24]
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4350              		.loc 1 1332 0
 4351 0064 0793     		str	r3, [sp, #28]
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4352              		.loc 1 1333 0
 4353 0066 FFF7FEFF 		bl	SDIO_SendCommand
 4354              	.LVL446:
 4355 006a 2868     		ldr	r0, [r5]
ARM GAS  /tmp/cc228lSu.s 			page 154


 4356              	.L550:
 4357              	.LBB256:
 4358              	.LBB257:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4359              		.loc 1 2780 0
 4360 006c 436B     		ldr	r3, [r0, #52]
 4361 006e 13F0450F 		tst	r3, #69
 4362 0072 FBD0     		beq	.L550
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4363              		.loc 1 2784 0
 4364 0074 436B     		ldr	r3, [r0, #52]
 4365 0076 5907     		lsls	r1, r3, #29
 4366 0078 2BD5     		bpl	.L616
 4367              	.LVL447:
 4368              	.L611:
 4369              	.LBE257:
 4370              	.LBE256:
 4371              	.LBB260:
 4372              	.LBB261:
3356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4373              		.loc 1 3356 0
 4374 007a 0423     		movs	r3, #4
3358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4375              		.loc 1 3358 0
 4376 007c 0324     		movs	r4, #3
3356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4377              		.loc 1 3356 0
 4378 007e 8363     		str	r3, [r0, #56]
 4379              	.LVL448:
 4380              	.LBE261:
 4381              	.LBE260:
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4382              		.loc 1 1359 0
 4383 0080 2046     		mov	r0, r4
 4384 0082 10B0     		add	sp, sp, #64
 4385              	.LCFI82:
 4386              		.cfi_remember_state
 4387              		.cfi_def_cfa_offset 32
 4388              		@ sp needed
 4389 0084 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4390              	.LVL449:
 4391              	.L615:
 4392              	.LCFI83:
 4393              		.cfi_restore_state
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512U;
 4394              		.loc 1 1292 0
 4395 0088 520A     		lsrs	r2, r2, #9
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4396              		.loc 1 1293 0
 4397 008a 760A     		lsrs	r6, r6, #9
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512U;
 4398              		.loc 1 1292 0
 4399 008c 42EAC352 		orr	r2, r2, r3, lsl #23
 4400              	.LVL450:
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4401              		.loc 1 1293 0
 4402 0090 46EAC456 		orr	r6, r6, r4, lsl #23
ARM GAS  /tmp/cc228lSu.s 			page 155


 4403              	.LVL451:
 4404              	.L549:
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4405              		.loc 1 1302 0
 4406 0094 2020     		movs	r0, #32
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4407              		.loc 1 1306 0
 4408 0096 06AF     		add	r7, sp, #24
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4409              		.loc 1 1303 0
 4410 0098 4FF0400E 		mov	lr, #64
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4411              		.loc 1 1305 0
 4412 009c 4FF48063 		mov	r3, #1024
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4413              		.loc 1 1302 0
 4414 00a0 0790     		str	r0, [sp, #28]
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4415              		.loc 1 1306 0
 4416 00a2 3946     		mov	r1, r7
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4417              		.loc 1 1304 0
 4418 00a4 0024     		movs	r4, #0
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4419              		.loc 1 1306 0
 4420 00a6 2868     		ldr	r0, [r5]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_START;
 4421              		.loc 1 1301 0
 4422 00a8 0692     		str	r2, [sp, #24]
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4423              		.loc 1 1303 0
 4424 00aa CDF820E0 		str	lr, [sp, #32]
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4425              		.loc 1 1304 0
 4426 00ae 0994     		str	r4, [sp, #36]
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4427              		.loc 1 1305 0
 4428 00b0 0A93     		str	r3, [sp, #40]
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4429              		.loc 1 1306 0
 4430 00b2 FFF7FEFF 		bl	SDIO_SendCommand
 4431              	.LVL452:
 4432 00b6 2868     		ldr	r0, [r5]
 4433              	.L551:
 4434              	.LBB268:
 4435              	.LBB269:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4436              		.loc 1 2780 0
 4437 00b8 436B     		ldr	r3, [r0, #52]
 4438 00ba 13F0450F 		tst	r3, #69
 4439 00be FBD0     		beq	.L551
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4440              		.loc 1 2784 0
 4441 00c0 436B     		ldr	r3, [r0, #52]
 4442 00c2 5A07     		lsls	r2, r3, #29
 4443 00c4 D9D4     		bmi	.L611
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 156


 4444              		.loc 1 2792 0
 4445 00c6 436B     		ldr	r3, [r0, #52]
 4446 00c8 DB07     		lsls	r3, r3, #31
 4447 00ca 0BD5     		bpl	.L617
 4448              	.LVL453:
 4449              	.L612:
 4450              	.LBE269:
 4451              	.LBE268:
 4452              	.LBB271:
 4453              	.LBB262:
3364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4454              		.loc 1 3364 0
 4455 00cc 0124     		movs	r4, #1
 4456 00ce 8463     		str	r4, [r0, #56]
 4457              	.LVL454:
 4458 00d0 A4E7     		b	.L547
 4459              	.LVL455:
 4460              	.L616:
 4461              	.LBE262:
 4462              	.LBE271:
 4463              	.LBB272:
 4464              	.LBB258:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4465              		.loc 1 2792 0
 4466 00d2 436B     		ldr	r3, [r0, #52]
 4467 00d4 DA07     		lsls	r2, r3, #31
 4468 00d6 F9D4     		bmi	.L612
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4469              		.loc 1 2802 0
 4470 00d8 FFF7FEFF 		bl	SDIO_GetCommandResponse
 4471              	.LVL456:
 4472 00dc 2628     		cmp	r0, #38
 4473 00de 28D0     		beq	.L618
 4474              	.LVL457:
 4475              	.L568:
 4476              	.LBE258:
 4477              	.LBE272:
 4478              	.LBB273:
 4479              	.LBB263:
3438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4480              		.loc 1 3438 0
 4481 00e0 1024     		movs	r4, #16
 4482 00e2 9BE7     		b	.L547
 4483              	.LVL458:
 4484              	.L617:
 4485              	.LBE263:
 4486              	.LBE273:
 4487              	.LBB274:
 4488              	.LBB270:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4489              		.loc 1 2802 0
 4490 00e4 FFF7FEFF 		bl	SDIO_GetCommandResponse
 4491              	.LVL459:
 4492 00e8 2028     		cmp	r0, #32
 4493 00ea F9D1     		bne	.L568
 4494 00ec 2846     		mov	r0, r5
 4495 00ee FFF7FEFF 		bl	SD_CmdResp1Error.part.0
ARM GAS  /tmp/cc228lSu.s 			page 157


 4496              	.LVL460:
 4497              	.LBE270:
 4498              	.LBE274:
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4499              		.loc 1 1311 0
 4500 00f2 0446     		mov	r4, r0
 4501 00f4 0028     		cmp	r0, #0
 4502 00f6 91D1     		bne	.L547
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4503              		.loc 1 1318 0
 4504 00f8 2123     		movs	r3, #33
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4505              		.loc 1 1319 0
 4506 00fa 3946     		mov	r1, r7
 4507 00fc 2868     		ldr	r0, [r5]
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_END;
 4508              		.loc 1 1317 0
 4509 00fe 0696     		str	r6, [sp, #24]
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4510              		.loc 1 1318 0
 4511 0100 0793     		str	r3, [sp, #28]
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4512              		.loc 1 1319 0
 4513 0102 FFF7FEFF 		bl	SDIO_SendCommand
 4514              	.LVL461:
 4515 0106 2868     		ldr	r0, [r5]
 4516              	.L555:
 4517              	.LBB275:
 4518              	.LBB276:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4519              		.loc 1 2780 0
 4520 0108 436B     		ldr	r3, [r0, #52]
 4521 010a 13F0450F 		tst	r3, #69
 4522 010e FBD0     		beq	.L555
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4523              		.loc 1 2784 0
 4524 0110 436B     		ldr	r3, [r0, #52]
 4525 0112 5E07     		lsls	r6, r3, #29
 4526 0114 B1D4     		bmi	.L611
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4527              		.loc 1 2792 0
 4528 0116 436B     		ldr	r3, [r0, #52]
 4529 0118 DC07     		lsls	r4, r3, #31
 4530 011a D7D4     		bmi	.L612
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4531              		.loc 1 2802 0
 4532 011c FFF7FEFF 		bl	SDIO_GetCommandResponse
 4533              	.LVL462:
 4534 0120 2128     		cmp	r0, #33
 4535 0122 DDD1     		bne	.L568
 4536 0124 2846     		mov	r0, r5
 4537 0126 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 4538              	.LVL463:
 4539              	.LBE276:
 4540              	.LBE275:
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4541              		.loc 1 1324 0
ARM GAS  /tmp/cc228lSu.s 			page 158


 4542 012a 0446     		mov	r4, r0
 4543 012c 0028     		cmp	r0, #0
 4544 012e 94D0     		beq	.L559
 4545 0130 74E7     		b	.L547
 4546              	.LVL464:
 4547              	.L618:
 4548              	.LBB277:
 4549              	.LBB259:
 4550 0132 2846     		mov	r0, r5
 4551 0134 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 4552              	.LVL465:
 4553              	.LBE259:
 4554              	.LBE277:
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4555              		.loc 1 1338 0
 4556 0138 0446     		mov	r4, r0
 4557 013a 0028     		cmp	r0, #0
 4558 013c 7FF46EAF 		bne	.L547
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4559              		.loc 1 1343 0 discriminator 1
 4560 0140 049B     		ldr	r3, [sp, #16]
 4561 0142 1BB1     		cbz	r3, .L562
 4562              	.LVL466:
 4563              	.L563:
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4564              		.loc 1 1343 0 is_stmt 0 discriminator 2
 4565 0144 049B     		ldr	r3, [sp, #16]
 4566 0146 0134     		adds	r4, r4, #1
 4567              	.LVL467:
 4568 0148 A342     		cmp	r3, r4
 4569 014a FBD8     		bhi	.L563
 4570              	.LVL468:
 4571              	.L562:
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4572              		.loc 1 1348 0 is_stmt 1
 4573 014c 0DF10F01 		add	r1, sp, #15
 4574 0150 2846     		mov	r0, r5
 4575 0152 FFF7FEFF 		bl	SD_IsCardProgramming
 4576              	.LVL469:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4577              		.loc 1 1352 0
 4578 0156 0446     		mov	r4, r0
 4579 0158 0028     		cmp	r0, #0
 4580 015a 7FF45FAF 		bne	.L547
 4581 015e 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4582              	.LBB278:
 4583              	.LBB264:
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4584              		.loc 1 3391 0
 4585 0162 DFF84091 		ldr	r9, .L634+4
 4586              	.LBE264:
 4587              	.LBE278:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4588              		.loc 1 1352 0
 4589 0166 6FF00108 		mvn	r8, #1
 4590              	.LBB279:
 4591              	.LBB265:
ARM GAS  /tmp/cc228lSu.s 			page 159


3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4592              		.loc 1 3339 0
 4593 016a 0646     		mov	r6, r0
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4594              		.loc 1 3342 0
 4595 016c 0D27     		movs	r7, #13
 4596              	.LVL470:
 4597              	.L564:
 4598              	.LBE265:
 4599              	.LBE279:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4600              		.loc 1 1352 0 discriminator 2
 4601 016e 063B     		subs	r3, r3, #6
 4602 0170 012B     		cmp	r3, #1
 4603 0172 3FF653AF 		bhi	.L547
 4604              	.LVL471:
 4605              	.LBB280:
 4606              	.LBB266:
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4607              		.loc 1 3341 0
 4608 0176 6B6A     		ldr	r3, [r5, #36]
3346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4609              		.loc 1 3346 0
 4610 0178 2868     		ldr	r0, [r5]
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4611              		.loc 1 3339 0
 4612 017a 0596     		str	r6, [sp, #20]
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4613              		.loc 1 3341 0
 4614 017c 1B04     		lsls	r3, r3, #16
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4615              		.loc 1 3343 0
 4616 017e 4022     		movs	r2, #64
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 4617              		.loc 1 3341 0
 4618 0180 0B93     		str	r3, [sp, #44]
3346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4619              		.loc 1 3346 0
 4620 0182 0BA9     		add	r1, sp, #44
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4621              		.loc 1 3345 0
 4622 0184 4FF48063 		mov	r3, #1024
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4623              		.loc 1 3342 0
 4624 0188 0C97     		str	r7, [sp, #48]
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4625              		.loc 1 3344 0
 4626 018a 0E96     		str	r6, [sp, #56]
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4627              		.loc 1 3343 0
 4628 018c 0D92     		str	r2, [sp, #52]
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4629              		.loc 1 3345 0
 4630 018e 0F93     		str	r3, [sp, #60]
3346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4631              		.loc 1 3346 0
 4632 0190 FFF7FEFF 		bl	SDIO_SendCommand
ARM GAS  /tmp/cc228lSu.s 			page 160


 4633              	.LVL472:
 4634 0194 2868     		ldr	r0, [r5]
 4635              	.L565:
3348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4636              		.loc 1 3348 0
 4637 0196 436B     		ldr	r3, [r0, #52]
 4638 0198 13F0450F 		tst	r3, #69
 4639 019c FBD0     		beq	.L565
3352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4640              		.loc 1 3352 0
 4641 019e 436B     		ldr	r3, [r0, #52]
 4642 01a0 5B07     		lsls	r3, r3, #29
 4643 01a2 3FF56AAF 		bmi	.L611
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4644              		.loc 1 3360 0
 4645 01a6 436B     		ldr	r3, [r0, #52]
 4646 01a8 13F0010A 		ands	r10, r3, #1
 4647 01ac 8ED1     		bne	.L612
3374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4648              		.loc 1 3374 0
 4649 01ae FFF7FEFF 		bl	SDIO_GetCommandResponse
 4650              	.LVL473:
 4651 01b2 0D28     		cmp	r0, #13
 4652 01b4 94D1     		bne	.L568
3382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4653              		.loc 1 3382 0
 4654 01b6 2B68     		ldr	r3, [r5]
 4655 01b8 40F2FF52 		movw	r2, #1535
 4656 01bc 9A63     		str	r2, [r3, #56]
3386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4657              		.loc 1 3386 0
 4658 01be 5046     		mov	r0, r10
 4659 01c0 FFF7FEFF 		bl	SDIO_GetResponse
 4660              	.LVL474:
 4661 01c4 0590     		str	r0, [sp, #20]
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4662              		.loc 1 3389 0
 4663 01c6 059B     		ldr	r3, [sp, #20]
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4664              		.loc 1 3391 0
 4665 01c8 059A     		ldr	r2, [sp, #20]
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4666              		.loc 1 3389 0
 4667 01ca C3F34323 		ubfx	r3, r3, #9, #4
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4668              		.loc 1 3391 0
 4669 01ce 12EA090F 		tst	r2, r9
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4670              		.loc 1 3389 0
 4671 01d2 8DF80F30 		strb	r3, [sp, #15]
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4672              		.loc 1 3391 0
 4673 01d6 07D0     		beq	.L569
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4674              		.loc 1 3396 0
 4675 01d8 059A     		ldr	r2, [sp, #20]
 4676 01da 002A     		cmp	r2, #0
ARM GAS  /tmp/cc228lSu.s 			page 161


 4677 01dc 0BDB     		blt	.L570
3401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4678              		.loc 1 3401 0
 4679 01de 059A     		ldr	r2, [sp, #20]
 4680 01e0 5000     		lsls	r0, r2, #1
 4681 01e2 0AD5     		bpl	.L619
 4682              	.LVL475:
3403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4683              		.loc 1 3403 0
 4684 01e4 0924     		movs	r4, #9
 4685 01e6 19E7     		b	.L547
 4686              	.LVL476:
 4687              	.L569:
 4688              	.LBE266:
 4689              	.LBE280:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4690              		.loc 1 1352 0
 4691 01e8 B8F1000F 		cmp	r8, #0
 4692 01ec 3FF416AF 		beq	.L547
 4693 01f0 08F1FF38 		add	r8, r8, #-1
 4694              	.LVL477:
 4695 01f4 BBE7     		b	.L564
 4696              	.LVL478:
 4697              	.L570:
 4698              	.LBB281:
 4699              	.LBB267:
3398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4700              		.loc 1 3398 0
 4701 01f6 1C24     		movs	r4, #28
 4702 01f8 10E7     		b	.L547
 4703              	.LVL479:
 4704              	.L619:
3406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4705              		.loc 1 3406 0
 4706 01fa 059A     		ldr	r2, [sp, #20]
 4707 01fc 9100     		lsls	r1, r2, #2
 4708 01fe 01D5     		bpl	.L620
 4709              	.LVL480:
3408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4710              		.loc 1 3408 0
 4711 0200 0A24     		movs	r4, #10
 4712 0202 0BE7     		b	.L547
 4713              	.LVL481:
 4714              	.L620:
3411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4715              		.loc 1 3411 0
 4716 0204 059A     		ldr	r2, [sp, #20]
 4717 0206 D200     		lsls	r2, r2, #3
 4718 0208 01D5     		bpl	.L621
 4719              	.LVL482:
3413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4720              		.loc 1 3413 0
 4721 020a 0B24     		movs	r4, #11
 4722 020c 06E7     		b	.L547
 4723              	.LVL483:
 4724              	.L621:
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cc228lSu.s 			page 162


 4725              		.loc 1 3416 0
 4726 020e 059A     		ldr	r2, [sp, #20]
 4727 0210 1001     		lsls	r0, r2, #4
 4728 0212 01D5     		bpl	.L622
 4729              	.LVL484:
3418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4730              		.loc 1 3418 0
 4731 0214 0C24     		movs	r4, #12
 4732 0216 01E7     		b	.L547
 4733              	.LVL485:
 4734              	.L622:
3421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4735              		.loc 1 3421 0
 4736 0218 059A     		ldr	r2, [sp, #20]
 4737 021a 5101     		lsls	r1, r2, #5
 4738 021c 01D5     		bpl	.L623
 4739              	.LVL486:
3423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4740              		.loc 1 3423 0
 4741 021e 0D24     		movs	r4, #13
 4742 0220 FCE6     		b	.L547
 4743              	.LVL487:
 4744              	.L623:
3426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4745              		.loc 1 3426 0
 4746 0222 059A     		ldr	r2, [sp, #20]
 4747 0224 D201     		lsls	r2, r2, #7
 4748 0226 3FF50EAF 		bmi	.L592
3431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4749              		.loc 1 3431 0
 4750 022a 059A     		ldr	r2, [sp, #20]
 4751 022c 1002     		lsls	r0, r2, #8
 4752 022e 01D5     		bpl	.L624
 4753              	.LVL488:
3433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4754              		.loc 1 3433 0
 4755 0230 0F24     		movs	r4, #15
 4756 0232 F3E6     		b	.L547
 4757              	.LVL489:
 4758              	.L624:
3436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4759              		.loc 1 3436 0
 4760 0234 059A     		ldr	r2, [sp, #20]
 4761 0236 5102     		lsls	r1, r2, #9
 4762 0238 3FF552AF 		bmi	.L568
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4763              		.loc 1 3441 0
 4764 023c 059A     		ldr	r2, [sp, #20]
 4765 023e 9202     		lsls	r2, r2, #10
 4766 0240 01D5     		bpl	.L625
 4767              	.LVL490:
3443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4768              		.loc 1 3443 0
 4769 0242 1124     		movs	r4, #17
 4770 0244 EAE6     		b	.L547
 4771              	.LVL491:
 4772              	.L625:
ARM GAS  /tmp/cc228lSu.s 			page 163


3446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4773              		.loc 1 3446 0
 4774 0246 059A     		ldr	r2, [sp, #20]
 4775 0248 D002     		lsls	r0, r2, #11
 4776 024a 01D5     		bpl	.L626
 4777              	.LVL492:
3448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4778              		.loc 1 3448 0
 4779 024c 1224     		movs	r4, #18
 4780 024e E5E6     		b	.L547
 4781              	.LVL493:
 4782              	.L626:
3451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4783              		.loc 1 3451 0
 4784 0250 059A     		ldr	r2, [sp, #20]
 4785 0252 1103     		lsls	r1, r2, #12
 4786 0254 01D5     		bpl	.L627
 4787              	.LVL494:
3453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4788              		.loc 1 3453 0
 4789 0256 1324     		movs	r4, #19
 4790 0258 E0E6     		b	.L547
 4791              	.LVL495:
 4792              	.L627:
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4793              		.loc 1 3456 0
 4794 025a 059A     		ldr	r2, [sp, #20]
 4795 025c 5203     		lsls	r2, r2, #13
 4796 025e 01D5     		bpl	.L628
 4797              	.LVL496:
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4798              		.loc 1 3458 0
 4799 0260 1424     		movs	r4, #20
 4800 0262 DBE6     		b	.L547
 4801              	.LVL497:
 4802              	.L628:
3461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4803              		.loc 1 3461 0
 4804 0264 059A     		ldr	r2, [sp, #20]
 4805 0266 9003     		lsls	r0, r2, #14
 4806 0268 01D5     		bpl	.L629
 4807              	.LVL498:
3463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4808              		.loc 1 3463 0
 4809 026a 1524     		movs	r4, #21
 4810 026c D6E6     		b	.L547
 4811              	.LVL499:
 4812              	.L629:
3466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4813              		.loc 1 3466 0
 4814 026e 059A     		ldr	r2, [sp, #20]
 4815 0270 D103     		lsls	r1, r2, #15
 4816 0272 01D5     		bpl	.L630
 4817              	.LVL500:
3468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4818              		.loc 1 3468 0
 4819 0274 1624     		movs	r4, #22
ARM GAS  /tmp/cc228lSu.s 			page 164


 4820 0276 D1E6     		b	.L547
 4821              	.LVL501:
 4822              	.L630:
3471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4823              		.loc 1 3471 0
 4824 0278 059A     		ldr	r2, [sp, #20]
 4825 027a 1204     		lsls	r2, r2, #16
 4826 027c 01D5     		bpl	.L631
 4827              	.LVL502:
3473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4828              		.loc 1 3473 0
 4829 027e 1724     		movs	r4, #23
 4830 0280 CCE6     		b	.L547
 4831              	.LVL503:
 4832              	.L631:
3476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4833              		.loc 1 3476 0
 4834 0282 059A     		ldr	r2, [sp, #20]
 4835 0284 5004     		lsls	r0, r2, #17
 4836 0286 01D5     		bpl	.L632
 4837              	.LVL504:
3478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4838              		.loc 1 3478 0
 4839 0288 1824     		movs	r4, #24
 4840 028a C7E6     		b	.L547
 4841              	.LVL505:
 4842              	.L632:
3481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4843              		.loc 1 3481 0
 4844 028c 059A     		ldr	r2, [sp, #20]
 4845 028e 9104     		lsls	r1, r2, #18
 4846 0290 01D5     		bpl	.L633
 4847              	.LVL506:
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4848              		.loc 1 3483 0
 4849 0292 1924     		movs	r4, #25
 4850 0294 C2E6     		b	.L547
 4851              	.LVL507:
 4852              	.L633:
3486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4853              		.loc 1 3486 0
 4854 0296 059A     		ldr	r2, [sp, #20]
 4855 0298 1207     		lsls	r2, r2, #28
 4856 029a A5D5     		bpl	.L569
 4857              	.LVL508:
3488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4858              		.loc 1 3488 0
 4859 029c 1A24     		movs	r4, #26
 4860 029e BDE6     		b	.L547
 4861              	.L635:
 4862              		.align	2
 4863              	.L634:
 4864 02a0 C0D40100 		.word	120000
 4865 02a4 08E0FFFD 		.word	-33562616
 4866              	.LBE267:
 4867              	.LBE281:
 4868              		.cfi_endproc
ARM GAS  /tmp/cc228lSu.s 			page 165


 4869              	.LFE136:
 4871              		.section	.text.HAL_SD_XferCpltCallback,"ax",%progbits
 4872              		.align	1
 4873              		.p2align 2,,3
 4874              		.weak	HAL_SD_XferCpltCallback
 4875              		.syntax unified
 4876              		.thumb
 4877              		.thumb_func
 4878              		.fpu fpv4-sp-d16
 4880              	HAL_SD_XferCpltCallback:
 4881              	.LFB182:
 4882              		.cfi_startproc
 4883              		@ args = 0, pretend = 0, frame = 0
 4884              		@ frame_needed = 0, uses_anonymous_args = 0
 4885              		@ link register save eliminated.
 4886 0000 7047     		bx	lr
 4887              		.cfi_endproc
 4888              	.LFE182:
 4890 0002 00BF     		.section	.text.HAL_SD_XferErrorCallback,"ax",%progbits
 4891              		.align	1
 4892              		.p2align 2,,3
 4893              		.weak	HAL_SD_XferErrorCallback
 4894              		.syntax unified
 4895              		.thumb
 4896              		.thumb_func
 4897              		.fpu fpv4-sp-d16
 4899              	HAL_SD_XferErrorCallback:
 4900              	.LFB180:
 4901              		.cfi_startproc
 4902              		@ args = 0, pretend = 0, frame = 0
 4903              		@ frame_needed = 0, uses_anonymous_args = 0
 4904              		@ link register save eliminated.
 4905 0000 7047     		bx	lr
 4906              		.cfi_endproc
 4907              	.LFE180:
 4909 0002 00BF     		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 4910              		.align	1
 4911              		.p2align 2,,3
 4912              		.global	HAL_SD_IRQHandler
 4913              		.syntax unified
 4914              		.thumb
 4915              		.thumb_func
 4916              		.fpu fpv4-sp-d16
 4918              	HAL_SD_IRQHandler:
 4919              	.LFB137:
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
 4920              		.loc 1 1367 0
 4921              		.cfi_startproc
 4922              		@ args = 0, pretend = 0, frame = 0
 4923              		@ frame_needed = 0, uses_anonymous_args = 0
 4924              	.LVL509:
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
 4925              		.loc 1 1367 0
 4926 0000 38B5     		push	{r3, r4, r5, lr}
 4927              	.LCFI84:
 4928              		.cfi_def_cfa_offset 16
 4929              		.cfi_offset 3, -16
ARM GAS  /tmp/cc228lSu.s 			page 166


 4930              		.cfi_offset 4, -12
 4931              		.cfi_offset 5, -8
 4932              		.cfi_offset 14, -4
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4933              		.loc 1 1369 0
 4934 0002 0368     		ldr	r3, [r0]
 4935 0004 5A6B     		ldr	r2, [r3, #52]
 4936 0006 D505     		lsls	r5, r2, #23
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
 4937              		.loc 1 1367 0
 4938 0008 0446     		mov	r4, r0
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4939              		.loc 1 1369 0
 4940 000a 15D4     		bmi	.L649
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4941              		.loc 1 1381 0
 4942 000c 5A6B     		ldr	r2, [r3, #52]
 4943 000e 9107     		lsls	r1, r2, #30
 4944 0010 2ED4     		bmi	.L650
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4945              		.loc 1 1390 0
 4946 0012 5A6B     		ldr	r2, [r3, #52]
 4947 0014 1207     		lsls	r2, r2, #28
 4948 0016 1AD4     		bmi	.L651
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4949              		.loc 1 1398 0
 4950 0018 5A6B     		ldr	r2, [r3, #52]
 4951 001a 9506     		lsls	r5, r2, #26
 4952 001c 2FD4     		bmi	.L652
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4953              		.loc 1 1406 0
 4954 001e 5A6B     		ldr	r2, [r3, #52]
 4955 0020 D106     		lsls	r1, r2, #27
 4956 0022 34D4     		bmi	.L653
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4957              		.loc 1 1415 0
 4958 0024 5A6B     		ldr	r2, [r3, #52]
 4959 0026 9205     		lsls	r2, r2, #22
 4960 0028 19D4     		bmi	.L654
 4961              	.LVL510:
 4962              	.L640:
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
 4963              		.loc 1 1431 0
 4964 002a DA6B     		ldr	r2, [r3, #60]
 4965 002c 22F44342 		bic	r2, r2, #49920
 4966 0030 22F03A02 		bic	r2, r2, #58
 4967 0034 DA63     		str	r2, [r3, #60]
 4968 0036 38BD     		pop	{r3, r4, r5, pc}
 4969              	.LVL511:
 4970              	.L649:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4971              		.loc 1 1374 0
 4972 0038 0121     		movs	r1, #1
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4973              		.loc 1 1377 0
 4974 003a 0022     		movs	r2, #0
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
ARM GAS  /tmp/cc228lSu.s 			page 167


 4975              		.loc 1 1371 0
 4976 003c 4FF48075 		mov	r5, #256
 4977 0040 9D63     		str	r5, [r3, #56]
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4978              		.loc 1 1374 0
 4979 0042 8164     		str	r1, [r0, #72]
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4980              		.loc 1 1377 0
 4981 0044 C264     		str	r2, [r0, #76]
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 4982              		.loc 1 1379 0
 4983 0046 FFF7FEFF 		bl	HAL_SD_XferCpltCallback
 4984              	.LVL512:
 4985 004a 2368     		ldr	r3, [r4]
 4986 004c EDE7     		b	.L640
 4987              	.LVL513:
 4988              	.L651:
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4989              		.loc 1 1392 0
 4990 004e 0821     		movs	r1, #8
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4991              		.loc 1 1394 0
 4992 0050 0422     		movs	r2, #4
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4993              		.loc 1 1392 0
 4994 0052 9963     		str	r1, [r3, #56]
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4995              		.loc 1 1394 0
 4996 0054 C264     		str	r2, [r0, #76]
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4997              		.loc 1 1396 0
 4998 0056 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 4999              	.LVL514:
 5000 005a 2368     		ldr	r3, [r4]
 5001 005c E5E7     		b	.L640
 5002              	.LVL515:
 5003              	.L654:
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5004              		.loc 1 1417 0
 5005 005e 4FF40071 		mov	r1, #512
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5006              		.loc 1 1419 0
 5007 0062 0722     		movs	r2, #7
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5008              		.loc 1 1417 0
 5009 0064 9963     		str	r1, [r3, #56]
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5010              		.loc 1 1419 0
 5011 0066 C264     		str	r2, [r0, #76]
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5012              		.loc 1 1421 0
 5013 0068 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 5014              	.LVL516:
 5015 006c 2368     		ldr	r3, [r4]
 5016 006e DCE7     		b	.L640
 5017              	.LVL517:
 5018              	.L650:
ARM GAS  /tmp/cc228lSu.s 			page 168


1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5019              		.loc 1 1383 0
 5020 0070 0222     		movs	r2, #2
 5021 0072 9A63     		str	r2, [r3, #56]
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5022              		.loc 1 1385 0
 5023 0074 C264     		str	r2, [r0, #76]
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5024              		.loc 1 1387 0
 5025 0076 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 5026              	.LVL518:
 5027 007a 2368     		ldr	r3, [r4]
 5028 007c D5E7     		b	.L640
 5029              	.LVL519:
 5030              	.L652:
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5031              		.loc 1 1400 0
 5032 007e 2021     		movs	r1, #32
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5033              		.loc 1 1402 0
 5034 0080 0622     		movs	r2, #6
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5035              		.loc 1 1400 0
 5036 0082 9963     		str	r1, [r3, #56]
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5037              		.loc 1 1402 0
 5038 0084 C264     		str	r2, [r0, #76]
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5039              		.loc 1 1404 0
 5040 0086 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 5041              	.LVL520:
 5042 008a 2368     		ldr	r3, [r4]
 5043 008c CDE7     		b	.L640
 5044              	.LVL521:
 5045              	.L653:
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5046              		.loc 1 1408 0
 5047 008e 1021     		movs	r1, #16
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5048              		.loc 1 1410 0
 5049 0090 0522     		movs	r2, #5
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5050              		.loc 1 1408 0
 5051 0092 9963     		str	r1, [r3, #56]
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5052              		.loc 1 1410 0
 5053 0094 C264     		str	r2, [r0, #76]
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5054              		.loc 1 1412 0
 5055 0096 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 5056              	.LVL522:
 5057 009a 2368     		ldr	r3, [r4]
 5058 009c C5E7     		b	.L640
 5059              		.cfi_endproc
 5060              	.LFE137:
 5062 009e 00BF     		.section	.text.HAL_SD_DMA_RxCpltCallback,"ax",%progbits
 5063              		.align	1
ARM GAS  /tmp/cc228lSu.s 			page 169


 5064              		.p2align 2,,3
 5065              		.weak	HAL_SD_DMA_RxCpltCallback
 5066              		.syntax unified
 5067              		.thumb
 5068              		.thumb_func
 5069              		.fpu fpv4-sp-d16
 5071              	HAL_SD_DMA_RxCpltCallback:
 5072              	.LFB178:
 5073              		.cfi_startproc
 5074              		@ args = 0, pretend = 0, frame = 0
 5075              		@ frame_needed = 0, uses_anonymous_args = 0
 5076              		@ link register save eliminated.
 5077 0000 7047     		bx	lr
 5078              		.cfi_endproc
 5079              	.LFE178:
 5081 0002 00BF     		.section	.text.SD_DMA_RxCplt,"ax",%progbits
 5082              		.align	1
 5083              		.p2align 2,,3
 5084              		.syntax unified
 5085              		.thumb
 5086              		.thumb_func
 5087              		.fpu fpv4-sp-d16
 5089              	SD_DMA_RxCplt:
 5090              	.LFB151:
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 5091              		.loc 1 2288 0
 5092              		.cfi_startproc
 5093              		@ args = 0, pretend = 0, frame = 0
 5094              		@ frame_needed = 0, uses_anonymous_args = 0
 5095              	.LVL523:
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 5096              		.loc 1 2288 0
 5097 0000 10B5     		push	{r4, lr}
 5098              	.LCFI85:
 5099              		.cfi_def_cfa_offset 8
 5100              		.cfi_offset 4, -8
 5101              		.cfi_offset 14, -4
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5102              		.loc 1 2289 0
 5103 0002 846B     		ldr	r4, [r0, #56]
 5104              	.LVL524:
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5105              		.loc 1 2292 0
 5106 0004 0123     		movs	r3, #1
 5107 0006 2365     		str	r3, [r4, #80]
 5108              	.L657:
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5109              		.loc 1 2295 0 discriminator 1
 5110 0008 A36C     		ldr	r3, [r4, #72]
 5111 000a 002B     		cmp	r3, #0
 5112 000c FCD0     		beq	.L657
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5113              		.loc 1 2300 0
 5114 000e FFF7FEFF 		bl	HAL_DMA_Abort
 5115              	.LVL525:
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5116              		.loc 1 2303 0
ARM GAS  /tmp/cc228lSu.s 			page 170


 5117 0012 A06D     		ldr	r0, [r4, #88]
 5118 0014 FFF7FEFF 		bl	HAL_SD_DMA_RxCpltCallback
 5119              	.LVL526:
 5120 0018 10BD     		pop	{r4, pc}
 5121              		.cfi_endproc
 5122              	.LFE151:
 5124 001a 00BF     		.section	.text.HAL_SD_DMA_RxErrorCallback,"ax",%progbits
 5125              		.align	1
 5126              		.p2align 2,,3
 5127              		.weak	HAL_SD_DMA_RxErrorCallback
 5128              		.syntax unified
 5129              		.thumb
 5130              		.thumb_func
 5131              		.fpu fpv4-sp-d16
 5133              	HAL_SD_DMA_RxErrorCallback:
 5134              	.LFB176:
 5135              		.cfi_startproc
 5136              		@ args = 0, pretend = 0, frame = 0
 5137              		@ frame_needed = 0, uses_anonymous_args = 0
 5138              		@ link register save eliminated.
 5139 0000 7047     		bx	lr
 5140              		.cfi_endproc
 5141              	.LFE176:
 5143 0002 00BF     		.section	.text.SD_DMA_RxError,"ax",%progbits
 5144              		.align	1
 5145              		.p2align 2,,3
 5146              		.syntax unified
 5147              		.thumb
 5148              		.thumb_func
 5149              		.fpu fpv4-sp-d16
 5151              	SD_DMA_RxError:
 5152              	.LFB152:
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 5153              		.loc 1 2313 0
 5154              		.cfi_startproc
 5155              		@ args = 0, pretend = 0, frame = 0
 5156              		@ frame_needed = 0, uses_anonymous_args = 0
 5157              	.LVL527:
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 5158              		.loc 1 2313 0
 5159 0000 08B5     		push	{r3, lr}
 5160              	.LCFI86:
 5161              		.cfi_def_cfa_offset 8
 5162              		.cfi_offset 3, -8
 5163              		.cfi_offset 14, -4
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5164              		.loc 1 2317 0
 5165 0002 836B     		ldr	r3, [r0, #56]
 5166 0004 986D     		ldr	r0, [r3, #88]
 5167              	.LVL528:
 5168 0006 FFF7FEFF 		bl	HAL_SD_DMA_RxErrorCallback
 5169              	.LVL529:
 5170 000a 08BD     		pop	{r3, pc}
 5171              		.cfi_endproc
 5172              	.LFE152:
 5174              		.section	.text.HAL_SD_DMA_TxCpltCallback,"ax",%progbits
 5175              		.align	1
ARM GAS  /tmp/cc228lSu.s 			page 171


 5176              		.p2align 2,,3
 5177              		.weak	HAL_SD_DMA_TxCpltCallback
 5178              		.syntax unified
 5179              		.thumb
 5180              		.thumb_func
 5181              		.fpu fpv4-sp-d16
 5183              	HAL_SD_DMA_TxCpltCallback:
 5184              	.LFB174:
 5185              		.cfi_startproc
 5186              		@ args = 0, pretend = 0, frame = 0
 5187              		@ frame_needed = 0, uses_anonymous_args = 0
 5188              		@ link register save eliminated.
 5189 0000 7047     		bx	lr
 5190              		.cfi_endproc
 5191              	.LFE174:
 5193 0002 00BF     		.section	.text.SD_DMA_TxCplt,"ax",%progbits
 5194              		.align	1
 5195              		.p2align 2,,3
 5196              		.syntax unified
 5197              		.thumb
 5198              		.thumb_func
 5199              		.fpu fpv4-sp-d16
 5201              	SD_DMA_TxCplt:
 5202              	.LFB153:
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 5203              		.loc 1 2327 0
 5204              		.cfi_startproc
 5205              		@ args = 0, pretend = 0, frame = 0
 5206              		@ frame_needed = 0, uses_anonymous_args = 0
 5207              	.LVL530:
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 5208              		.loc 1 2327 0
 5209 0000 10B5     		push	{r4, lr}
 5210              	.LCFI87:
 5211              		.cfi_def_cfa_offset 8
 5212              		.cfi_offset 4, -8
 5213              		.cfi_offset 14, -4
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5214              		.loc 1 2328 0
 5215 0002 846B     		ldr	r4, [r0, #56]
 5216              	.LVL531:
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5217              		.loc 1 2331 0
 5218 0004 0123     		movs	r3, #1
 5219 0006 2365     		str	r3, [r4, #80]
 5220              	.L666:
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5221              		.loc 1 2334 0 discriminator 1
 5222 0008 A36C     		ldr	r3, [r4, #72]
 5223 000a 002B     		cmp	r3, #0
 5224 000c FCD0     		beq	.L666
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5225              		.loc 1 2339 0
 5226 000e FFF7FEFF 		bl	HAL_DMA_Abort
 5227              	.LVL532:
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5228              		.loc 1 2342 0
ARM GAS  /tmp/cc228lSu.s 			page 172


 5229 0012 E06D     		ldr	r0, [r4, #92]
 5230 0014 FFF7FEFF 		bl	HAL_SD_DMA_TxCpltCallback
 5231              	.LVL533:
 5232 0018 10BD     		pop	{r4, pc}
 5233              		.cfi_endproc
 5234              	.LFE153:
 5236 001a 00BF     		.section	.text.HAL_SD_DMA_TxErrorCallback,"ax",%progbits
 5237              		.align	1
 5238              		.p2align 2,,3
 5239              		.weak	HAL_SD_DMA_TxErrorCallback
 5240              		.syntax unified
 5241              		.thumb
 5242              		.thumb_func
 5243              		.fpu fpv4-sp-d16
 5245              	HAL_SD_DMA_TxErrorCallback:
 5246              	.LFB143:
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 5247              		.loc 1 1522 0
 5248              		.cfi_startproc
 5249              		@ args = 0, pretend = 0, frame = 0
 5250              		@ frame_needed = 0, uses_anonymous_args = 0
 5251              		@ link register save eliminated.
 5252              	.LVL534:
 5253 0000 7047     		bx	lr
 5254              		.cfi_endproc
 5255              	.LFE143:
 5257 0002 00BF     		.section	.text.SD_DMA_TxError,"ax",%progbits
 5258              		.align	1
 5259              		.p2align 2,,3
 5260              		.syntax unified
 5261              		.thumb
 5262              		.thumb_func
 5263              		.fpu fpv4-sp-d16
 5265              	SD_DMA_TxError:
 5266              	.LFB154:
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = ( SD_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 5267              		.loc 1 2352 0
 5268              		.cfi_startproc
 5269              		@ args = 0, pretend = 0, frame = 0
 5270              		@ frame_needed = 0, uses_anonymous_args = 0
 5271              	.LVL535:
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = ( SD_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 5272              		.loc 1 2352 0
 5273 0000 08B5     		push	{r3, lr}
 5274              	.LCFI88:
 5275              		.cfi_def_cfa_offset 8
 5276              		.cfi_offset 3, -8
 5277              		.cfi_offset 14, -4
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5278              		.loc 1 2356 0
 5279 0002 836B     		ldr	r3, [r0, #56]
 5280 0004 D86D     		ldr	r0, [r3, #92]
 5281              	.LVL536:
 5282 0006 FFF7FEFF 		bl	HAL_SD_DMA_TxErrorCallback
 5283              	.LVL537:
 5284 000a 08BD     		pop	{r3, pc}
 5285              		.cfi_endproc
ARM GAS  /tmp/cc228lSu.s 			page 173


 5286              	.LFE154:
 5288              		.section	.text.HAL_SD_Get_CardInfo,"ax",%progbits
 5289              		.align	1
 5290              		.p2align 2,,3
 5291              		.global	HAL_SD_Get_CardInfo
 5292              		.syntax unified
 5293              		.thumb
 5294              		.thumb_func
 5295              		.fpu fpv4-sp-d16
 5297              	HAL_SD_Get_CardInfo:
 5298              	.LFB144:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 5299              		.loc 1 1557 0
 5300              		.cfi_startproc
 5301              		@ args = 0, pretend = 0, frame = 0
 5302              		@ frame_needed = 0, uses_anonymous_args = 0
 5303              	.LVL538:
 5304 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5305              	.LCFI89:
 5306              		.cfi_def_cfa_offset 28
 5307              		.cfi_offset 4, -28
 5308              		.cfi_offset 5, -24
 5309              		.cfi_offset 6, -20
 5310              		.cfi_offset 7, -16
 5311              		.cfi_offset 8, -12
 5312              		.cfi_offset 9, -8
 5313              		.cfi_offset 14, -4
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RCA      = (uint16_t)(hsd->RCA);
 5314              		.loc 1 1561 0
 5315 0004 056A     		ldr	r5, [r0, #32]
 5316 0006 81F85650 		strb	r5, [r1, #86]
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSDStruct      = (uint8_t)((tmp & 0xC0U) >> 6U);
 5317              		.loc 1 1565 0
 5318 000a 836A     		ldr	r3, [r0, #40]
 5319              	.LVL539:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 5320              		.loc 1 1557 0
 5321 000c 0246     		mov	r2, r0
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5322              		.loc 1 1562 0
 5323 000e 406A     		ldr	r0, [r0, #36]
 5324              	.LVL540:
 5325 0010 A1F85400 		strh	r0, [r1, #84]	@ movhi
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.SysSpecVersion = (uint8_t)((tmp & 0x3CU) >> 2U);
 5326              		.loc 1 1566 0
 5327 0014 980F     		lsrs	r0, r3, #30
 5328 0016 0870     		strb	r0, [r1]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03U;
 5329              		.loc 1 1567 0
 5330 0018 C3F38367 		ubfx	r7, r3, #26, #4
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5331              		.loc 1 1568 0
 5332 001c C3F30166 		ubfx	r6, r3, #24, #2
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5333              		.loc 1 1572 0
 5334 0020 C3F30744 		ubfx	r4, r3, #16, #8
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 174


 5335              		.loc 1 1576 0
 5336 0024 C3F30720 		ubfx	r0, r3, #8, #8
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5337              		.loc 1 1580 0
 5338 0028 DBB2     		uxtb	r3, r3
 5339              	.LVL541:
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03U;
 5340              		.loc 1 1567 0
 5341 002a 4F70     		strb	r7, [r1, #1]
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5342              		.loc 1 1568 0
 5343 002c 8E70     		strb	r6, [r1, #2]
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5344              		.loc 1 1572 0
 5345 002e CC70     		strb	r4, [r1, #3]
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5346              		.loc 1 1576 0
 5347 0030 0871     		strb	r0, [r1, #4]
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5348              		.loc 1 1580 0
 5349 0032 4B71     		strb	r3, [r1, #5]
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses = (uint16_t)(tmp << 4U);
 5350              		.loc 1 1583 0
 5351 0034 D46A     		ldr	r4, [r2, #44]
 5352              	.LVL542:
 5353 0036 230E     		lsrs	r3, r4, #24
 5354              	.LVL543:
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5355              		.loc 1 1584 0
 5356 0038 1B01     		lsls	r3, r3, #4
 5357              	.LVL544:
 5358 003a CB80     		strh	r3, [r1, #6]	@ movhi
 5359              	.LVL545:
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
 5360              		.loc 1 1588 0
 5361 003c C888     		ldrh	r0, [r1, #6]
 5362 003e C4F30356 		ubfx	r6, r4, #20, #4
 5363 0042 80B2     		uxth	r0, r0
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PartBlockRead   = (uint8_t)((tmp & 0x80U) >> 7U);
 5364              		.loc 1 1592 0
 5365 0044 C4F30723 		ubfx	r3, r4, #8, #8
 5366              	.LVL546:
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
 5367              		.loc 1 1588 0
 5368 0048 3043     		orrs	r0, r0, r6
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5369              		.loc 1 1589 0
 5370 004a C4F30346 		ubfx	r6, r4, #16, #4
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
 5371              		.loc 1 1588 0
 5372 004e C880     		strh	r0, [r1, #6]	@ movhi
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40U) >> 6U);
 5373              		.loc 1 1593 0
 5374 0050 DF09     		lsrs	r7, r3, #7
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5375              		.loc 1 1589 0
 5376 0052 0E72     		strb	r6, [r1, #8]
ARM GAS  /tmp/cc228lSu.s 			page 175


1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10U) >> 4U);
 5377              		.loc 1 1595 0
 5378 0054 C3F34010 		ubfx	r0, r3, #5, #1
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20U) >> 5U);
 5379              		.loc 1 1594 0
 5380 0058 C3F38016 		ubfx	r6, r3, #6, #1
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40U) >> 6U);
 5381              		.loc 1 1593 0
 5382 005c 4F72     		strb	r7, [r1, #9]
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5383              		.loc 1 1599 0
 5384 005e 012D     		cmp	r5, #1
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20U) >> 5U);
 5385              		.loc 1 1594 0
 5386 0060 8E72     		strb	r6, [r1, #10]
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0U; /*!< Reserved */
 5387              		.loc 1 1596 0
 5388 0062 C3F30017 		ubfx	r7, r3, #4, #1
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10U) >> 4U);
 5389              		.loc 1 1595 0
 5390 0066 C872     		strb	r0, [r1, #11]
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5391              		.loc 1 1597 0
 5392 0068 4FF00000 		mov	r0, #0
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0U; /*!< Reserved */
 5393              		.loc 1 1596 0
 5394 006c 0F73     		strb	r7, [r1, #12]
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5395              		.loc 1 1597 0
 5396 006e 4873     		strb	r0, [r1, #13]
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5397              		.loc 1 1599 0
 5398 0070 40F2A280 		bls	.L678
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5399              		.loc 1 1628 0
 5400 0074 022D     		cmp	r5, #2
 5401 0076 00F0DD80 		beq	.L676
 5402 007a 156B     		ldr	r5, [r2, #48]
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5403              		.loc 1 1653 0
 5404 007c 2920     		movs	r0, #41
 5405              	.L675:
 5406              	.LVL547:
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5407              		.loc 1 1657 0
 5408 007e 5B00     		lsls	r3, r3, #1
 5409              	.LVL548:
 5410 0080 03F07E03 		and	r3, r3, #126
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul  = (tmp & 0x3FU) << 1U;
 5411              		.loc 1 1656 0
 5412 0084 4E76     		strb	r6, [r1, #25]
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5413              		.loc 1 1657 0
 5414 0086 8B76     		strb	r3, [r1, #26]
 5415              	.LVL549:
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7FU);
 5416              		.loc 1 1661 0
ARM GAS  /tmp/cc228lSu.s 			page 176


 5417 0088 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 5418 008a C5F3C014 		ubfx	r4, r5, #7, #1
 5419 008e 2343     		orrs	r3, r3, r4
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5420              		.loc 1 1662 0
 5421 0090 05F07F05 		and	r5, r5, #127
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7FU);
 5422              		.loc 1 1661 0
 5423 0094 8B76     		strb	r3, [r1, #26]
 5424              	.LVL550:
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5425              		.loc 1 1662 0
 5426 0096 CD76     		strb	r5, [r1, #27]
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrEnable = (tmp & 0x80U) >> 7U;
 5427              		.loc 1 1665 0
 5428 0098 536B     		ldr	r3, [r2, #52]
 5429              	.LVL551:
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5430              		.loc 1 1669 0
 5431 009a 9C0D     		lsrs	r4, r3, #22
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60U) >> 5U;
 5432              		.loc 1 1666 0
 5433 009c DF0F     		lsrs	r7, r3, #31
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1CU) >> 2U;
 5434              		.loc 1 1667 0
 5435 009e C3F34176 		ubfx	r6, r3, #29, #2
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03U) << 2U;
 5436              		.loc 1 1668 0
 5437 00a2 C3F38265 		ubfx	r5, r3, #26, #3
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5438              		.loc 1 1669 0
 5439 00a6 04F00C04 		and	r4, r4, #12
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60U) >> 5U;
 5440              		.loc 1 1666 0
 5441 00aa 0F77     		strb	r7, [r1, #28]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1CU) >> 2U;
 5442              		.loc 1 1667 0
 5443 00ac 4E77     		strb	r6, [r1, #29]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03U) << 2U;
 5444              		.loc 1 1668 0
 5445 00ae 8D77     		strb	r5, [r1, #30]
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5446              		.loc 1 1669 0
 5447 00b0 CC77     		strb	r4, [r1, #31]
 5448              	.LVL552:
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20U) >> 5U;
 5449              		.loc 1 1673 0
 5450 00b2 CC7F     		ldrb	r4, [r1, #31]	@ zero_extendqisi2
 5451 00b4 C3F38155 		ubfx	r5, r3, #22, #2
 5452 00b8 2C43     		orrs	r4, r4, r5
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0U;
 5453              		.loc 1 1674 0
 5454 00ba C3F34057 		ubfx	r7, r3, #21, #1
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5455              		.loc 1 1676 0
 5456 00be C3F30045 		ubfx	r5, r3, #16, #1
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01U);
ARM GAS  /tmp/cc228lSu.s 			page 177


 5457              		.loc 1 1675 0
 5458 00c2 0026     		movs	r6, #0
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20U) >> 5U;
 5459              		.loc 1 1673 0
 5460 00c4 CC77     		strb	r4, [r1, #31]
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40U) >> 6U;
 5461              		.loc 1 1680 0
 5462 00c6 C3F3C038 		ubfx	r8, r3, #15, #1
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0U;
 5463              		.loc 1 1674 0
 5464 00ca 81F82070 		strb	r7, [r1, #32]
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20U) >> 5U;
 5465              		.loc 1 1681 0
 5466 00ce C3F3803C 		ubfx	ip, r3, #14, #1
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01U);
 5467              		.loc 1 1675 0
 5468 00d2 81F82160 		strb	r6, [r1, #33]
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10U) >> 4U;
 5469              		.loc 1 1682 0
 5470 00d6 C3F3403E 		ubfx	lr, r3, #13, #1
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5471              		.loc 1 1676 0
 5472 00da 81F82250 		strb	r5, [r1, #34]
 5473              	.LVL553:
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0CU) >> 2U;
 5474              		.loc 1 1683 0
 5475 00de C3F30037 		ubfx	r7, r3, #12, #1
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03U);
 5476              		.loc 1 1684 0
 5477 00e2 C3F38126 		ubfx	r6, r3, #10, #2
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5478              		.loc 1 1685 0
 5479 00e6 C3F30125 		ubfx	r5, r3, #8, #2
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5480              		.loc 1 1690 0
 5481 00ea 0124     		movs	r4, #1
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1U;
 5482              		.loc 1 1689 0
 5483 00ec C3F34603 		ubfx	r3, r3, #1, #7
 5484              	.LVL554:
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40U) >> 6U;
 5485              		.loc 1 1680 0
 5486 00f0 81F82380 		strb	r8, [r1, #35]
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20U) >> 5U;
 5487              		.loc 1 1681 0
 5488 00f4 81F824C0 		strb	ip, [r1, #36]
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10U) >> 4U;
 5489              		.loc 1 1682 0
 5490 00f8 81F825E0 		strb	lr, [r1, #37]
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0CU) >> 2U;
 5491              		.loc 1 1683 0
 5492 00fc 81F82670 		strb	r7, [r1, #38]
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03U);
 5493              		.loc 1 1684 0
 5494 0100 81F82760 		strb	r6, [r1, #39]
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5495              		.loc 1 1685 0
ARM GAS  /tmp/cc228lSu.s 			page 178


 5496 0104 81F82850 		strb	r5, [r1, #40]
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1U;
 5497              		.loc 1 1689 0
 5498 0108 81F82930 		strb	r3, [r1, #41]
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5499              		.loc 1 1690 0
 5500 010c 81F82A40 		strb	r4, [r1, #42]
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
 5501              		.loc 1 1693 0
 5502 0110 956B     		ldr	r5, [r2, #56]
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5503              		.loc 1 1698 0
 5504 0112 C5F30743 		ubfx	r3, r5, #16, #8
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
 5505              		.loc 1 1693 0
 5506 0116 2E0E     		lsrs	r6, r5, #24
 5507              	.LVL555:
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5508              		.loc 1 1698 0
 5509 0118 1B02     		lsls	r3, r3, #8
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5510              		.loc 1 1694 0
 5511 011a 81F82C60 		strb	r6, [r1, #44]
 5512              	.LVL556:
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5513              		.loc 1 1698 0
 5514 011e CB85     		strh	r3, [r1, #46]	@ movhi
 5515              	.LVL557:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5516              		.loc 1 1702 0
 5517 0120 CE8D     		ldrh	r6, [r1, #46]
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16U;
 5518              		.loc 1 1709 0
 5519 0122 D36B     		ldr	r3, [r2, #60]
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5520              		.loc 1 1702 0
 5521 0124 C5F30727 		ubfx	r7, r5, #8, #8
 5522 0128 B6B2     		uxth	r6, r6
 5523 012a 3E43     		orrs	r6, r6, r7
 5524 012c 2D06     		lsls	r5, r5, #24
 5525              	.LVL558:
 5526 012e CE85     		strh	r6, [r1, #46]	@ movhi
 5527              	.LVL559:
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5528              		.loc 1 1706 0
 5529 0130 0D63     		str	r5, [r1, #48]
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5530              		.loc 1 1710 0
 5531 0132 0D6B     		ldr	r5, [r1, #48]
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16U;
 5532              		.loc 1 1709 0
 5533 0134 1E0E     		lsrs	r6, r3, #24
 5534              	.LVL560:
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5535              		.loc 1 1710 0
 5536 0136 45EA0645 		orr	r5, r5, r6, lsl #16
 5537 013a 0D63     		str	r5, [r1, #48]
ARM GAS  /tmp/cc228lSu.s 			page 179


 5538              	.LVL561:
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5539              		.loc 1 1714 0
 5540 013c 0E6B     		ldr	r6, [r1, #48]
 5541 013e 1D0A     		lsrs	r5, r3, #8
 5542 0140 05F47F45 		and	r5, r5, #65280
 5543 0144 3543     		orrs	r5, r5, r6
 5544 0146 0D63     		str	r5, [r1, #48]
 5545              	.LVL562:
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5546              		.loc 1 1718 0
 5547 0148 0E6B     		ldr	r6, [r1, #48]
 5548 014a C3F30725 		ubfx	r5, r3, #8, #8
 5549 014e 3543     		orrs	r5, r5, r6
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName2 = tmp;
 5550              		.loc 1 1721 0
 5551 0150 DBB2     		uxtb	r3, r3
 5552              	.LVL563:
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5553              		.loc 1 1718 0
 5554 0152 0D63     		str	r5, [r1, #48]
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5555              		.loc 1 1722 0
 5556 0154 81F83430 		strb	r3, [r1, #52]
 5557              	.LVL564:
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
 5558              		.loc 1 1725 0
 5559 0158 136C     		ldr	r3, [r2, #64]
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN = tmp << 24U;
 5560              		.loc 1 1729 0
 5561 015a 1D0C     		lsrs	r5, r3, #16
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
 5562              		.loc 1 1725 0
 5563 015c 1E0E     		lsrs	r6, r3, #24
 5564              	.LVL565:
 5565 015e 2D06     		lsls	r5, r5, #24
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5566              		.loc 1 1726 0
 5567 0160 81F83560 		strb	r6, [r1, #53]
 5568              	.LVL566:
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5569              		.loc 1 1730 0
 5570 0164 8D63     		str	r5, [r1, #56]
 5571              	.LVL567:
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5572              		.loc 1 1734 0
 5573 0166 8E6B     		ldr	r6, [r1, #56]
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp;
 5574              		.loc 1 1741 0
 5575 0168 526C     		ldr	r2, [r2, #68]
 5576              	.LVL568:
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5577              		.loc 1 1734 0
 5578 016a 1D02     		lsls	r5, r3, #8
 5579 016c 05F47F05 		and	r5, r5, #16711680
 5580 0170 3543     		orrs	r5, r5, r6
 5581 0172 8D63     		str	r5, [r1, #56]
ARM GAS  /tmp/cc228lSu.s 			page 180


 5582              	.LVL569:
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5583              		.loc 1 1738 0
 5584 0174 8D6B     		ldr	r5, [r1, #56]
 5585 0176 1B02     		lsls	r3, r3, #8
 5586 0178 9BB2     		uxth	r3, r3
 5587 017a 2B43     		orrs	r3, r3, r5
 5588 017c 8B63     		str	r3, [r1, #56]
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5589              		.loc 1 1742 0
 5590 017e 8B6B     		ldr	r3, [r1, #56]
 5591 0180 43EA1263 		orr	r3, r3, r2, lsr #24
 5592 0184 8B63     		str	r3, [r1, #56]
 5593              	.LVL570:
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
 5594              		.loc 1 1746 0
 5595 0186 91F83C50 		ldrb	r5, [r1, #60]	@ zero_extendqisi2
 5596 018a C2F30356 		ubfx	r6, r2, #20, #4
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5597              		.loc 1 1747 0
 5598 018e 130A     		lsrs	r3, r2, #8
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
 5599              		.loc 1 1746 0
 5600 0190 3543     		orrs	r5, r5, r6
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5601              		.loc 1 1747 0
 5602 0192 03F47063 		and	r3, r3, #3840
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
 5603              		.loc 1 1746 0
 5604 0196 81F83C50 		strb	r5, [r1, #60]
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5605              		.loc 1 1747 0
 5606 019a CB87     		strh	r3, [r1, #62]	@ movhi
 5607              	.LVL571:
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5608              		.loc 1 1751 0
 5609 019c CB8F     		ldrh	r3, [r1, #62]
 5610 019e C2F30725 		ubfx	r5, r2, #8, #8
 5611 01a2 9BB2     		uxth	r3, r3
 5612 01a4 2B43     		orrs	r3, r3, r5
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1U;
 5613              		.loc 1 1755 0
 5614 01a6 C2F34602 		ubfx	r2, r2, #1, #7
 5615              	.LVL572:
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5616              		.loc 1 1751 0
 5617 01aa CB87     		strh	r3, [r1, #62]	@ movhi
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1U;
 5618              		.loc 1 1755 0
 5619 01ac 81F84020 		strb	r2, [r1, #64]
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5620              		.loc 1 1756 0
 5621 01b0 81F84140 		strb	r4, [r1, #65]
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5622              		.loc 1 1759 0
 5623 01b4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5624              	.LVL573:
ARM GAS  /tmp/cc228lSu.s 			page 181


 5625              	.L678:
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5626              		.loc 1 1601 0
 5627 01b8 9B02     		lsls	r3, r3, #10
 5628              	.LVL574:
 5629 01ba 03F44063 		and	r3, r3, #3072
 5630 01be 0B61     		str	r3, [r1, #16]
 5631              	.LVL575:
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5632              		.loc 1 1605 0
 5633 01c0 0B69     		ldr	r3, [r1, #16]
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp & 0xC0U) >> 6U;
 5634              		.loc 1 1608 0
 5635 01c2 156B     		ldr	r5, [r2, #48]
 5636              	.LVL576:
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5637              		.loc 1 1605 0
 5638 01c4 A400     		lsls	r4, r4, #2
 5639 01c6 04F47F74 		and	r4, r4, #1020
 5640 01ca 1C43     		orrs	r4, r4, r3
 5641 01cc 0C61     		str	r4, [r1, #16]
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5642              		.loc 1 1609 0
 5643 01ce 0C69     		ldr	r4, [r1, #16]
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
 5644              		.loc 1 1618 0
 5645 01d0 EB0B     		lsrs	r3, r5, #15
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5646              		.loc 1 1609 0
 5647 01d2 44EA9574 		orr	r4, r4, r5, lsr #30
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1CU) >> 2U;
 5648              		.loc 1 1616 0
 5649 01d6 C5F34257 		ubfx	r7, r5, #21, #3
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
 5650              		.loc 1 1618 0
 5651 01da 03F00603 		and	r3, r3, #6
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03U) << 1U;
 5652              		.loc 1 1617 0
 5653 01de C5F38246 		ubfx	r6, r5, #18, #3
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07U);
 5654              		.loc 1 1611 0
 5655 01e2 C5F3C26C 		ubfx	ip, r5, #27, #3
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5656              		.loc 1 1612 0
 5657 01e6 C5F3026E 		ubfx	lr, r5, #24, #3
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5658              		.loc 1 1609 0
 5659 01ea 0C61     		str	r4, [r1, #16]
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07U);
 5660              		.loc 1 1611 0
 5661 01ec 81F814C0 		strb	ip, [r1, #20]
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5662              		.loc 1 1612 0
 5663 01f0 81F815E0 		strb	lr, [r1, #21]
 5664              	.LVL577:
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1CU) >> 2U;
 5665              		.loc 1 1616 0
ARM GAS  /tmp/cc228lSu.s 			page 182


 5666 01f4 8F75     		strb	r7, [r1, #22]
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03U) << 1U;
 5667              		.loc 1 1617 0
 5668 01f6 CE75     		strb	r6, [r1, #23]
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
 5669              		.loc 1 1618 0
 5670 01f8 0B76     		strb	r3, [r1, #24]
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5671              		.loc 1 1621 0
 5672 01fa 0B7E     		ldrb	r3, [r1, #24]	@ zero_extendqisi2
 5673 01fc C5F3C034 		ubfx	r4, r5, #15, #1
 5674 0200 2343     		orrs	r3, r3, r4
 5675 0202 0B76     		strb	r3, [r1, #24]
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1U << (pCardInfo->SD_csd.DeviceSizeMul + 2U));
 5676              		.loc 1 1623 0
 5677 0204 0E69     		ldr	r6, [r1, #16]
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1U << (pCardInfo->SD_csd.RdBlockLen);
 5678              		.loc 1 1624 0
 5679 0206 0F7E     		ldrb	r7, [r1, #24]	@ zero_extendqisi2
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
 5680              		.loc 1 1625 0
 5681 0208 0C7A     		ldrb	r4, [r1, #8]	@ zero_extendqisi2
 5682 020a 0123     		movs	r3, #1
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1U << (pCardInfo->SD_csd.DeviceSizeMul + 2U));
 5683              		.loc 1 1623 0
 5684 020c 06EB0308 		add	r8, r6, r3
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
 5685              		.loc 1 1625 0
 5686 0210 03FA04F4 		lsl	r4, r3, r4
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1U << (pCardInfo->SD_csd.RdBlockLen);
 5687              		.loc 1 1624 0
 5688 0214 BE1C     		adds	r6, r7, #2
 5689 0216 B340     		lsls	r3, r3, r6
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5690              		.loc 1 1626 0
 5691 0218 A8FB0489 		umull	r8, r9, r8, r4
 5692 021c A8FB0367 		umull	r6, r7, r8, r3
 5693 0220 03FB0977 		mla	r7, r3, r9, r7
 5694 0224 C5F30723 		ubfx	r3, r5, #8, #8
 5695              	.LVL578:
 5696 0228 C1E91267 		strd	r6, [r1, #72]
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
 5697              		.loc 1 1625 0
 5698 022c 0C65     		str	r4, [r1, #80]
 5699 022e C3F38016 		ubfx	r6, r3, #6, #1
 5700 0232 24E7     		b	.L675
 5701              	.L676:
 5702              	.LVL579:
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5703              		.loc 1 1632 0
 5704 0234 2404     		lsls	r4, r4, #16
 5705              	.LVL580:
 5706 0236 04F47C14 		and	r4, r4, #4128768
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5707              		.loc 1 1635 0
 5708 023a 156B     		ldr	r5, [r2, #48]
 5709              	.LVL581:
ARM GAS  /tmp/cc228lSu.s 			page 183


1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5710              		.loc 1 1632 0
 5711 023c 0C61     		str	r4, [r1, #16]
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5712              		.loc 1 1637 0
 5713 023e 0B69     		ldr	r3, [r1, #16]
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5714              		.loc 1 1635 0
 5715 0240 2C0E     		lsrs	r4, r5, #24
 5716              	.LVL582:
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5717              		.loc 1 1637 0
 5718 0242 43EA0423 		orr	r3, r3, r4, lsl #8
 5719 0246 0B61     		str	r3, [r1, #16]
 5720              	.LVL583:
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5721              		.loc 1 1642 0
 5722 0248 0C69     		ldr	r4, [r1, #16]
 5723 024a C5F30743 		ubfx	r3, r5, #16, #8
 5724 024e 2343     		orrs	r3, r3, r4
 5725 0250 0B61     		str	r3, [r1, #16]
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512U;    
 5726              		.loc 1 1647 0
 5727 0252 0E69     		ldr	r6, [r1, #16]
 5728 0254 0027     		movs	r7, #0
 5729 0256 0136     		adds	r6, r6, #1
 5730 0258 47F10007 		adc	r7, r7, #0
 5731 025c FC04     		lsls	r4, r7, #19
 5732 025e 44EA5634 		orr	r4, r4, r6, lsr #13
 5733 0262 C5F30723 		ubfx	r3, r5, #8, #8
 5734              	.LVL584:
 5735 0266 F604     		lsls	r6, r6, #19
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5736              		.loc 1 1648 0
 5737 0268 4FF40077 		mov	r7, #512
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512U;    
 5738              		.loc 1 1647 0
 5739 026c 8E64     		str	r6, [r1, #72]
 5740 026e CC64     		str	r4, [r1, #76]
 5741 0270 C3F38016 		ubfx	r6, r3, #6, #1
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5742              		.loc 1 1648 0
 5743 0274 0F65     		str	r7, [r1, #80]
 5744 0276 02E7     		b	.L675
 5745              		.cfi_endproc
 5746              	.LFE144:
 5748              		.section	.text.HAL_SD_Init,"ax",%progbits
 5749              		.align	1
 5750              		.p2align 2,,3
 5751              		.global	HAL_SD_Init
 5752              		.syntax unified
 5753              		.thumb
 5754              		.thumb_func
 5755              		.fpu fpv4-sp-d16
 5757              	HAL_SD_Init:
 5758              	.LFB126:
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
ARM GAS  /tmp/cc228lSu.s 			page 184


 5759              		.loc 1 343 0
 5760              		.cfi_startproc
 5761              		@ args = 0, pretend = 0, frame = 48
 5762              		@ frame_needed = 0, uses_anonymous_args = 0
 5763              	.LVL585:
 5764 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5765              	.LCFI90:
 5766              		.cfi_def_cfa_offset 28
 5767              		.cfi_offset 4, -28
 5768              		.cfi_offset 5, -24
 5769              		.cfi_offset 6, -20
 5770              		.cfi_offset 7, -16
 5771              		.cfi_offset 8, -12
 5772              		.cfi_offset 9, -8
 5773              		.cfi_offset 14, -4
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef tmpinit;
 5774              		.loc 1 344 0
 5775 0004 0026     		movs	r6, #0
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 5776              		.loc 1 343 0
 5777 0006 91B0     		sub	sp, sp, #68
 5778              	.LCFI91:
 5779              		.cfi_def_cfa_offset 96
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the low level hardware (MSP) */
 5780              		.loc 1 348 0
 5781 0008 0677     		strb	r6, [r0, #28]
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 5782              		.loc 1 343 0
 5783 000a 0446     		mov	r4, r0
 5784 000c 0D46     		mov	r5, r1
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef tmpinit;
 5785              		.loc 1 344 0
 5786 000e 8DF81260 		strb	r6, [sp, #18]
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5787              		.loc 1 350 0
 5788 0012 FFF7FEFF 		bl	HAL_SD_MspInit
 5789              	.LVL586:
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5790              		.loc 1 358 0
 5791 0016 7623     		movs	r3, #118
 5792 0018 0F93     		str	r3, [sp, #60]
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 5793              		.loc 1 356 0
 5794 001a 0D96     		str	r6, [sp, #52]
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockDiv            = SDIO_INIT_CLK_DIV;
 5795              		.loc 1 357 0
 5796 001c 0E96     		str	r6, [sp, #56]
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5797              		.loc 1 361 0
 5798 001e 10AB     		add	r3, sp, #64
 5799 0020 13E90700 		ldmdb	r3, {r0, r1, r2}
 5800 0024 D4F800E0 		ldr	lr, [r4]
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 5801              		.loc 1 353 0
 5802 0028 0A96     		str	r6, [sp, #40]
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5803              		.loc 1 361 0
ARM GAS  /tmp/cc228lSu.s 			page 185


 5804 002a 8DE80700 		stm	sp, {r0, r1, r2}
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 5805              		.loc 1 354 0
 5806 002e 0B96     		str	r6, [sp, #44]
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.BusWide             = SDIO_BUS_WIDE_1B;
 5807              		.loc 1 355 0
 5808 0030 0C96     		str	r6, [sp, #48]
 5809              	.LBB306:
 5810              	.LBB307:
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5811              		.loc 1 2511 0
 5812 0032 AB4F     		ldr	r7, .L793
 5813              	.LBE307:
 5814              	.LBE306:
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5815              		.loc 1 361 0
 5816 0034 0AAB     		add	r3, sp, #40
 5817 0036 0ECB     		ldm	r3, {r1, r2, r3}
 5818 0038 7046     		mov	r0, lr
 5819 003a FFF7FEFF 		bl	SDIO_Init
 5820              	.LVL587:
 5821              	.LBB342:
 5822              	.LBB338:
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response = 0U, count = 0U, validvoltage = 0U;
 5823              		.loc 1 2505 0
 5824 003e 8DF81360 		strb	r6, [sp, #19]
 5825              	.LVL588:
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5826              		.loc 1 2514 0
 5827 0042 2068     		ldr	r0, [r4]
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5828              		.loc 1 2511 0
 5829 0044 3E60     		str	r6, [r7]
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5830              		.loc 1 2514 0
 5831 0046 FFF7FEFF 		bl	SDIO_PowerState_ON
 5832              	.LVL589:
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5833              		.loc 1 2518 0
 5834 004a 0120     		movs	r0, #1
 5835 004c FFF7FEFF 		bl	HAL_Delay
 5836              	.LVL590:
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5837              		.loc 1 2521 0
 5838 0050 0123     		movs	r3, #1
 5839 0052 3B60     		str	r3, [r7]
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5840              		.loc 1 2530 0
 5841 0054 2068     		ldr	r0, [r4]
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_GO_IDLE_STATE;
 5842              		.loc 1 2525 0
 5843 0056 0596     		str	r6, [sp, #20]
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5844              		.loc 1 2529 0
 5845 0058 4FF48063 		mov	r3, #1024
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5846              		.loc 1 2530 0
ARM GAS  /tmp/cc228lSu.s 			page 186


 5847 005c 05A9     		add	r1, sp, #20
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5848              		.loc 1 2529 0
 5849 005e 0993     		str	r3, [sp, #36]
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_NO;
 5850              		.loc 1 2526 0
 5851 0060 0696     		str	r6, [sp, #24]
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 5852              		.loc 1 2527 0
 5853 0062 0796     		str	r6, [sp, #28]
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 5854              		.loc 1 2528 0
 5855 0064 0896     		str	r6, [sp, #32]
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5856              		.loc 1 2530 0
 5857 0066 FFF7FEFF 		bl	SDIO_SendCommand
 5858              	.LVL591:
 5859              	.LBB308:
 5860              	.LBB309:
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5861              		.loc 1 2706 0
 5862 006a 2068     		ldr	r0, [r4]
 5863 006c 436B     		ldr	r3, [r0, #52]
 5864              	.LVL592:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5865              		.loc 1 2708 0
 5866 006e 1B06     		lsls	r3, r3, #24
 5867              	.LVL593:
 5868 0070 00F1B780 		bmi	.L680
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 5869              		.loc 1 2710 0
 5870 0074 436B     		ldr	r3, [r0, #52]
 5871 0076 4FF6FF72 		movw	r2, #65535
 5872 007a C3F3C013 		ubfx	r3, r3, #7, #1
 5873              	.LVL594:
 5874              	.L681:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5875              		.loc 1 2708 0
 5876 007e 002B     		cmp	r3, #0
 5877 0080 40F0AF80 		bne	.L680
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 5878              		.loc 1 2710 0
 5879 0084 436B     		ldr	r3, [r0, #52]
 5880              	.LVL595:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5881              		.loc 1 2708 0
 5882 0086 013A     		subs	r2, r2, #1
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 5883              		.loc 1 2710 0
 5884 0088 C3F3C013 		ubfx	r3, r3, #7, #1
 5885              	.LVL596:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5886              		.loc 1 2708 0
 5887 008c F7D1     		bne	.L681
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5888              		.loc 1 2717 0
 5889 008e 0323     		movs	r3, #3
ARM GAS  /tmp/cc228lSu.s 			page 187


 5890              	.LVL597:
 5891              	.LBE309:
 5892              	.LBE308:
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5893              		.loc 1 2533 0
 5894 0090 8DF81330 		strb	r3, [sp, #19]
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5895              		.loc 1 2535 0
 5896 0094 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 5897 0098 002B     		cmp	r3, #0
 5898 009a 40F0AD80 		bne	.L699
 5899              	.L787:
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5900              		.loc 1 2549 0
 5901 009e 4023     		movs	r3, #64
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 5902              		.loc 1 2548 0
 5903 00a0 0822     		movs	r2, #8
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
 5904              		.loc 1 2547 0
 5905 00a2 4FF4D576 		mov	r6, #426
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5906              		.loc 1 2550 0
 5907 00a6 05A9     		add	r1, sp, #20
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5908              		.loc 1 2549 0
 5909 00a8 0793     		str	r3, [sp, #28]
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
 5910              		.loc 1 2547 0
 5911 00aa 0596     		str	r6, [sp, #20]
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 5912              		.loc 1 2548 0
 5913 00ac 0692     		str	r2, [sp, #24]
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5914              		.loc 1 2550 0
 5915 00ae FFF7FEFF 		bl	SDIO_SendCommand
 5916              	.LVL598:
 5917              	.LBB311:
 5918              	.LBB312:
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5919              		.loc 1 2736 0
 5920 00b2 2068     		ldr	r0, [r4]
 5921 00b4 436B     		ldr	r3, [r0, #52]
 5922              	.LVL599:
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5923              		.loc 1 2738 0
 5924 00b6 13F0450F 		tst	r3, #69
 5925 00ba 40F09081 		bne	.L686
 5926 00be 4FF48033 		mov	r3, #65536
 5927              	.LVL600:
 5928 00c2 02E0     		b	.L688
 5929              	.LVL601:
 5930              	.L783:
 5931 00c4 002B     		cmp	r3, #0
 5932 00c6 00F05C81 		beq	.L782
 5933              	.LVL602:
 5934              	.L688:
ARM GAS  /tmp/cc228lSu.s 			page 188


2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 5935              		.loc 1 2740 0
 5936 00ca 426B     		ldr	r2, [r0, #52]
 5937              	.LVL603:
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5938              		.loc 1 2738 0
 5939 00cc 12F0450F 		tst	r2, #69
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5940              		.loc 1 2741 0
 5941 00d0 03F1FF33 		add	r3, r3, #-1
 5942              	.LVL604:
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5943              		.loc 1 2738 0
 5944 00d4 F6D0     		beq	.L783
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5945              		.loc 1 2744 0
 5946 00d6 426B     		ldr	r2, [r0, #52]
 5947              	.LVL605:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5948              		.loc 1 2746 0
 5949 00d8 002B     		cmp	r3, #0
 5950 00da 40F0CE80 		bne	.L784
 5951              	.LVL606:
 5952              	.L690:
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5953              		.loc 1 2751 0
 5954 00de 0423     		movs	r3, #4
 5955 00e0 8363     		str	r3, [r0, #56]
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5956              		.loc 1 2753 0
 5957 00e2 0323     		movs	r3, #3
 5958              	.LVL607:
 5959              	.L692:
 5960              	.LBE312:
 5961              	.LBE311:
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5962              		.loc 1 2553 0
 5963 00e4 8DF81330 		strb	r3, [sp, #19]
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5964              		.loc 1 2555 0
 5965 00e8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 5966 00ec 002B     		cmp	r3, #0
 5967 00ee 00F0BF80 		beq	.L785
 5968 00f2 DFF8F081 		ldr	r8, .L793+4
 5969              	.LVL608:
 5970              	.L693:
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 5971              		.loc 1 2563 0
 5972 00f6 0022     		movs	r2, #0
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5973              		.loc 1 2564 0
 5974 00f8 3723     		movs	r3, #55
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5975              		.loc 1 2565 0
 5976 00fa 05A9     		add	r1, sp, #20
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 5977              		.loc 1 2563 0
ARM GAS  /tmp/cc228lSu.s 			page 189


 5978 00fc 0592     		str	r2, [sp, #20]
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5979              		.loc 1 2564 0
 5980 00fe 0693     		str	r3, [sp, #24]
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5981              		.loc 1 2565 0
 5982 0100 FFF7FEFF 		bl	SDIO_SendCommand
 5983              	.LVL609:
 5984 0104 2068     		ldr	r0, [r4]
 5985              	.L694:
 5986              	.LBB316:
 5987              	.LBB317:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5988              		.loc 1 2780 0
 5989 0106 436B     		ldr	r3, [r0, #52]
 5990 0108 13F0450F 		tst	r3, #69
 5991 010c FBD0     		beq	.L694
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5992              		.loc 1 2784 0
 5993 010e 436B     		ldr	r3, [r0, #52]
 5994 0110 5E07     		lsls	r6, r3, #29
 5995 0112 40F1DD80 		bpl	.L695
 5996              	.LVL610:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5997              		.loc 1 2788 0
 5998 0116 0423     		movs	r3, #4
 5999 0118 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6000              		.loc 1 2790 0
 6001 011a 0320     		movs	r0, #3
 6002              	.LVL611:
 6003              	.L696:
 6004              	.LBE317:
 6005              	.LBE316:
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6006              		.loc 1 2568 0
 6007 011c 8DF81300 		strb	r0, [sp, #19]
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6008              		.loc 1 2573 0
 6009 0120 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 6010 0124 03F0FF06 		and	r6, r3, #255
 6011 0128 002B     		cmp	r3, #0
 6012 012a 65D1     		bne	.L699
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 6013              		.loc 1 2581 0
 6014 012c 3746     		mov	r7, r6
 6015              	.LBB320:
 6016              	.LBB321:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6017              		.loc 1 2796 0
 6018 012e 4FF00109 		mov	r9, #1
 6019              	.LVL612:
 6020              	.L712:
 6021              	.LBE321:
 6022              	.LBE320:
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6023              		.loc 1 2582 0
ARM GAS  /tmp/cc228lSu.s 			page 190


 6024 0132 4FF0370E 		mov	lr, #55
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6025              		.loc 1 2583 0
 6026 0136 4022     		movs	r2, #64
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6027              		.loc 1 2585 0
 6028 0138 4FF48063 		mov	r3, #1024
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6029              		.loc 1 2586 0
 6030 013c 05A9     		add	r1, sp, #20
 6031 013e 2068     		ldr	r0, [r4]
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 6032              		.loc 1 2581 0
 6033 0140 0597     		str	r7, [sp, #20]
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 6034              		.loc 1 2584 0
 6035 0142 0897     		str	r7, [sp, #32]
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6036              		.loc 1 2582 0
 6037 0144 CDF818E0 		str	lr, [sp, #24]
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6038              		.loc 1 2583 0
 6039 0148 0792     		str	r2, [sp, #28]
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6040              		.loc 1 2585 0
 6041 014a 0993     		str	r3, [sp, #36]
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6042              		.loc 1 2586 0
 6043 014c FFF7FEFF 		bl	SDIO_SendCommand
 6044              	.LVL613:
 6045 0150 2068     		ldr	r0, [r4]
 6046              	.L700:
 6047              	.LBB325:
 6048              	.LBB322:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6049              		.loc 1 2780 0
 6050 0152 436B     		ldr	r3, [r0, #52]
 6051 0154 13F0450F 		tst	r3, #69
 6052 0158 FBD0     		beq	.L700
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6053              		.loc 1 2784 0
 6054 015a 436B     		ldr	r3, [r0, #52]
 6055 015c 5A07     		lsls	r2, r3, #29
 6056 015e 40F19C80 		bpl	.L701
 6057              	.LVL614:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6058              		.loc 1 2788 0
 6059 0162 0423     		movs	r3, #4
 6060 0164 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6061              		.loc 1 2790 0
 6062 0166 0320     		movs	r0, #3
 6063              	.LVL615:
 6064              	.L702:
 6065              	.LBE322:
 6066              	.LBE325:
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
ARM GAS  /tmp/cc228lSu.s 			page 191


 6067              		.loc 1 2589 0
 6068 0168 8DF81300 		strb	r0, [sp, #19]
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6069              		.loc 1 2591 0
 6070 016c 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 6071 0170 03F0FF02 		and	r2, r3, #255
 6072 0174 002B     		cmp	r3, #0
 6073 0176 3FD1     		bne	.L699
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6074              		.loc 1 2598 0
 6075 0178 4FF0290C 		mov	ip, #41
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6076              		.loc 1 2599 0
 6077 017c 4FF0400E 		mov	lr, #64
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6078              		.loc 1 2601 0
 6079 0180 4FF48063 		mov	r3, #1024
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6080              		.loc 1 2602 0
 6081 0184 05A9     		add	r1, sp, #20
 6082 0186 2068     		ldr	r0, [r4]
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 6083              		.loc 1 2600 0
 6084 0188 0892     		str	r2, [sp, #32]
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
 6085              		.loc 1 2597 0
 6086 018a CDF81480 		str	r8, [sp, #20]
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6087              		.loc 1 2598 0
 6088 018e CDF818C0 		str	ip, [sp, #24]
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6089              		.loc 1 2599 0
 6090 0192 CDF81CE0 		str	lr, [sp, #28]
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6091              		.loc 1 2601 0
 6092 0196 0993     		str	r3, [sp, #36]
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6093              		.loc 1 2602 0
 6094 0198 FFF7FEFF 		bl	SDIO_SendCommand
 6095              	.LVL616:
 6096 019c 2268     		ldr	r2, [r4]
 6097              	.L705:
 6098              	.LBB326:
 6099              	.LBB327:
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6100              		.loc 1 2927 0
 6101 019e 536B     		ldr	r3, [r2, #52]
 6102 01a0 13F0450F 		tst	r3, #69
 6103 01a4 FBD0     		beq	.L705
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6104              		.loc 1 2931 0
 6105 01a6 536B     		ldr	r3, [r2, #52]
 6106 01a8 13F00403 		ands	r3, r3, #4
 6107 01ac 71D0     		beq	.L706
 6108              	.LVL617:
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6109              		.loc 1 2935 0
ARM GAS  /tmp/cc228lSu.s 			page 192


 6110 01ae 0423     		movs	r3, #4
 6111 01b0 9363     		str	r3, [r2, #56]
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6112              		.loc 1 2937 0
 6113 01b2 0323     		movs	r3, #3
 6114              	.LVL618:
 6115              	.L707:
 6116              	.LBE327:
 6117              	.LBE326:
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6118              		.loc 1 2605 0
 6119 01b4 8DF81330 		strb	r3, [sp, #19]
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6120              		.loc 1 2607 0
 6121 01b8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 6122 01bc 03F0FF00 		and	r0, r3, #255
 6123 01c0 D3B9     		cbnz	r3, .L699
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6124              		.loc 1 2613 0
 6125 01c2 FFF7FEFF 		bl	SDIO_GetResponse
 6126              	.LVL619:
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6127              		.loc 1 2616 0
 6128 01c6 0028     		cmp	r0, #0
 6129 01c8 6EDB     		blt	.L786
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6130              		.loc 1 2618 0
 6131 01ca 0136     		adds	r6, r6, #1
 6132              	.LVL620:
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6133              		.loc 1 2577 0
 6134 01cc 4FF6FF73 		movw	r3, #65535
 6135 01d0 9E42     		cmp	r6, r3
 6136 01d2 AED1     		bne	.L712
 6137              	.LVL621:
 6138              	.L710:
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 6139              		.loc 1 2623 0
 6140 01d4 1B23     		movs	r3, #27
 6141 01d6 8DF81330 		strb	r3, [sp, #19]
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6142              		.loc 1 2625 0
 6143 01da 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 6144 01de DBB2     		uxtb	r3, r3
 6145 01e0 0DE0     		b	.L685
 6146              	.LVL622:
 6147              	.L680:
 6148              	.LBB329:
 6149              	.LBB310:
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6150              		.loc 1 2721 0
 6151 01e2 40F2FF53 		movw	r3, #1535
 6152 01e6 8363     		str	r3, [r0, #56]
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6153              		.loc 1 2723 0
 6154 01e8 0023     		movs	r3, #0
 6155              	.LBE310:
ARM GAS  /tmp/cc228lSu.s 			page 193


 6156              	.LBE329:
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6157              		.loc 1 2533 0
 6158 01ea 8DF81330 		strb	r3, [sp, #19]
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6159              		.loc 1 2535 0
 6160 01ee 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 6161 01f2 002B     		cmp	r3, #0
 6162 01f4 3FF453AF 		beq	.L787
 6163              	.LVL623:
 6164              	.L699:
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6165              		.loc 1 2635 0
 6166 01f8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 6167 01fc DBB2     		uxtb	r3, r3
 6168              	.L685:
 6169              	.LVL624:
 6170              	.LBE338:
 6171              	.LBE342:
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6172              		.loc 1 364 0
 6173 01fe 8DF81230 		strb	r3, [sp, #18]
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6174              		.loc 1 366 0
 6175 0202 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 6176 0206 03F0FF06 		and	r6, r3, #255
 6177 020a 2BB1     		cbz	r3, .L788
 6178              	.L780:
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6179              		.loc 1 391 0
 6180 020c 9DF81200 		ldrb	r0, [sp, #18]	@ zero_extendqisi2
 6181 0210 C0B2     		uxtb	r0, r0
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6182              		.loc 1 392 0
 6183 0212 11B0     		add	sp, sp, #68
 6184              	.LCFI92:
 6185              		.cfi_remember_state
 6186              		.cfi_def_cfa_offset 28
 6187              		@ sp needed
 6188 0214 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6189              	.LVL625:
 6190              	.L788:
 6191              	.LCFI93:
 6192              		.cfi_restore_state
 6193              	.LBB343:
 6194              	.LBB344:
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6195              		.loc 1 2390 0
 6196 0218 2068     		ldr	r0, [r4]
 6197 021a FFF7FEFF 		bl	SDIO_GetPowerState
 6198              	.LVL626:
 6199 021e 0028     		cmp	r0, #0
 6200 0220 64D1     		bne	.L789
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6201              		.loc 1 2394 0
 6202 0222 2526     		movs	r6, #37
 6203              	.LVL627:
ARM GAS  /tmp/cc228lSu.s 			page 194


 6204              	.L716:
 6205              	.LBE344:
 6206              	.LBE343:
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6207              		.loc 1 372 0
 6208 0224 8DF81260 		strb	r6, [sp, #18]
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6209              		.loc 1 374 0
 6210 0228 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 6211 022c 002B     		cmp	r3, #0
 6212 022e EDD1     		bne	.L780
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6213              		.loc 1 380 0
 6214 0230 2946     		mov	r1, r5
 6215 0232 2046     		mov	r0, r4
 6216 0234 FFF7FEFF 		bl	HAL_SD_Get_CardInfo
 6217              	.LVL628:
 6218 0238 8DF81200 		strb	r0, [sp, #18]
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6219              		.loc 1 382 0
 6220 023c 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 6221 0240 03F0FF02 		and	r2, r3, #255
 6222 0244 002B     		cmp	r3, #0
 6223 0246 00F0A980 		beq	.L732
 6224              	.LVL629:
 6225 024a 2568     		ldr	r5, [r4]
 6226              	.LVL630:
 6227              	.L733:
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6228              		.loc 1 389 0
 6229 024c 04F11003 		add	r3, r4, #16
 6230 0250 93E80700 		ldm	r3, {r0, r1, r2}
 6231 0254 8DE80700 		stm	sp, {r0, r1, r2}
 6232 0258 0434     		adds	r4, r4, #4
 6233              	.LVL631:
 6234 025a 2846     		mov	r0, r5
 6235 025c 94E80E00 		ldm	r4, {r1, r2, r3}
 6236 0260 FFF7FEFF 		bl	SDIO_Init
 6237              	.LVL632:
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6238              		.loc 1 391 0
 6239 0264 9DF81200 		ldrb	r0, [sp, #18]	@ zero_extendqisi2
 6240 0268 C0B2     		uxtb	r0, r0
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6241              		.loc 1 392 0
 6242 026a 11B0     		add	sp, sp, #68
 6243              	.LCFI94:
 6244              		.cfi_remember_state
 6245              		.cfi_def_cfa_offset 28
 6246              		@ sp needed
 6247 026c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6248              	.LVL633:
 6249              	.L785:
 6250              	.LCFI95:
 6251              		.cfi_restore_state
 6252              	.LBB369:
 6253              	.LBB339:
ARM GAS  /tmp/cc228lSu.s 			page 195


2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdtype        = SD_HIGH_CAPACITY;
 6254              		.loc 1 2558 0
 6255 0270 0123     		movs	r3, #1
 6256 0272 2362     		str	r3, [r4, #32]
 6257              	.LVL634:
 6258 0274 DFF87080 		ldr	r8, .L793+8
 6259 0278 3DE7     		b	.L693
 6260              	.LVL635:
 6261              	.L784:
 6262              	.LBB330:
 6263              	.LBB313:
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6264              		.loc 1 2744 0
 6265 027a 02F00403 		and	r3, r2, #4
 6266              	.LVL636:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6267              		.loc 1 2746 0
 6268 027e 002B     		cmp	r3, #0
 6269 0280 7FF42DAF 		bne	.L690
 6270              	.LVL637:
 6271              	.L691:
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6272              		.loc 1 2756 0
 6273 0284 426B     		ldr	r2, [r0, #52]
 6274 0286 5706     		lsls	r7, r2, #25
 6275              	.LVL638:
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6276              		.loc 1 2761 0
 6277 0288 46BF     		itte	mi
 6278 028a 4022     		movmi	r2, #64
 6279 028c 8263     		strmi	r2, [r0, #56]
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6280              		.loc 1 2766 0
 6281 028e 2923     		movpl	r3, #41
 6282 0290 28E7     		b	.L692
 6283              	.LVL639:
 6284              	.L706:
 6285              	.LBE313:
 6286              	.LBE330:
 6287              	.LBB331:
 6288              	.LBB328:
2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6289              		.loc 1 2941 0
 6290 0292 40F2FF51 		movw	r1, #1535
 6291 0296 9163     		str	r1, [r2, #56]
 6292 0298 8CE7     		b	.L707
 6293              	.LVL640:
 6294              	.L701:
 6295              	.LBE328:
 6296              	.LBE331:
 6297              	.LBB332:
 6298              	.LBB323:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6299              		.loc 1 2792 0
 6300 029a 436B     		ldr	r3, [r0, #52]
 6301 029c DB07     		lsls	r3, r3, #31
 6302 029e 0CD5     		bpl	.L703
ARM GAS  /tmp/cc228lSu.s 			page 196


 6303              	.LVL641:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6304              		.loc 1 2796 0
 6305 02a0 C0F83890 		str	r9, [r0, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6306              		.loc 1 2798 0
 6307 02a4 0120     		movs	r0, #1
 6308 02a6 5FE7     		b	.L702
 6309              	.LVL642:
 6310              	.L786:
 6311              	.LBE323:
 6312              	.LBE332:
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6313              		.loc 1 2621 0
 6314 02a8 4FF6FE73 		movw	r3, #65534
 6315 02ac 9E42     		cmp	r6, r3
 6316 02ae 91D0     		beq	.L710
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6317              		.loc 1 2628 0
 6318 02b0 4000     		lsls	r0, r0, #1
 6319              	.LVL643:
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6320              		.loc 1 2630 0
 6321 02b2 44BF     		itt	mi
 6322 02b4 0223     		movmi	r3, #2
 6323 02b6 2362     		strmi	r3, [r4, #32]
 6324 02b8 9EE7     		b	.L699
 6325              	.LVL644:
 6326              	.L703:
 6327              	.LBB333:
 6328              	.LBB324:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6329              		.loc 1 2802 0
 6330 02ba FFF7FEFF 		bl	SDIO_GetCommandResponse
 6331              	.LVL645:
 6332 02be 3728     		cmp	r0, #55
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6333              		.loc 1 2806 0
 6334 02c0 18BF     		it	ne
 6335 02c2 1020     		movne	r0, #16
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6336              		.loc 1 2802 0
 6337 02c4 7FF450AF 		bne	.L702
 6338 02c8 2046     		mov	r0, r4
 6339 02ca FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 6340              	.LVL646:
 6341 02ce 4BE7     		b	.L702
 6342              	.LVL647:
 6343              	.L695:
 6344              	.LBE324:
 6345              	.LBE333:
 6346              	.LBB334:
 6347              	.LBB318:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6348              		.loc 1 2792 0
 6349 02d0 436B     		ldr	r3, [r0, #52]
 6350 02d2 D907     		lsls	r1, r3, #31
ARM GAS  /tmp/cc228lSu.s 			page 197


 6351 02d4 57D5     		bpl	.L697
 6352              	.LVL648:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6353              		.loc 1 2796 0
 6354 02d6 0123     		movs	r3, #1
 6355 02d8 8363     		str	r3, [r0, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6356              		.loc 1 2798 0
 6357 02da 1846     		mov	r0, r3
 6358 02dc 1EE7     		b	.L696
 6359              	.L794:
 6360 02de 00BF     		.align	2
 6361              	.L793:
 6362 02e0 A0802542 		.word	1109754016
 6363 02e4 00001080 		.word	-2146435072
 6364 02e8 000010C0 		.word	-1072693248
 6365              	.LVL649:
 6366              	.L789:
 6367              	.LBE318:
 6368              	.LBE334:
 6369              	.LBE339:
 6370              	.LBE369:
 6371              	.LBB370:
 6372              	.LBB363:
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6373              		.loc 1 2397 0
 6374 02ec 236A     		ldr	r3, [r4, #32]
 6375 02ee 042B     		cmp	r3, #4
 6376 02f0 98D0     		beq	.L716
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6377              		.loc 1 2402 0
 6378 02f2 C022     		movs	r2, #192
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6379              		.loc 1 2404 0
 6380 02f4 4FF48063 		mov	r3, #1024
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 6381              		.loc 1 2401 0
 6382 02f8 0227     		movs	r7, #2
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6383              		.loc 1 2405 0
 6384 02fa 05A9     		add	r1, sp, #20
 6385 02fc 2068     		ldr	r0, [r4]
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6386              		.loc 1 2402 0
 6387 02fe 0792     		str	r2, [sp, #28]
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_ALL_SEND_CID;
 6388              		.loc 1 2400 0
 6389 0300 0596     		str	r6, [sp, #20]
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 6390              		.loc 1 2403 0
 6391 0302 0896     		str	r6, [sp, #32]
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 6392              		.loc 1 2401 0
 6393 0304 0697     		str	r7, [sp, #24]
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6394              		.loc 1 2404 0
 6395 0306 0993     		str	r3, [sp, #36]
ARM GAS  /tmp/cc228lSu.s 			page 198


2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6396              		.loc 1 2405 0
 6397 0308 FFF7FEFF 		bl	SDIO_SendCommand
 6398              	.LVL650:
 6399 030c 2268     		ldr	r2, [r4]
 6400              	.L717:
 6401              	.LBB345:
 6402              	.LBB346:
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6403              		.loc 1 2955 0
 6404 030e 536B     		ldr	r3, [r2, #52]
 6405 0310 13F0450F 		tst	r3, #69
 6406 0314 FBD0     		beq	.L717
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6407              		.loc 1 2959 0
 6408 0316 536B     		ldr	r3, [r2, #52]
 6409 0318 5907     		lsls	r1, r3, #29
 6410 031a 2ED4     		bmi	.L778
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6411              		.loc 1 2967 0
 6412 031c 506B     		ldr	r0, [r2, #52]
 6413 031e 10F00100 		ands	r0, r0, #1
 6414 0322 59D1     		bne	.L779
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6415              		.loc 1 2981 0
 6416 0324 40F2FF53 		movw	r3, #1535
 6417 0328 9363     		str	r3, [r2, #56]
 6418              	.LVL651:
 6419              	.LBE346:
 6420              	.LBE345:
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[1U] = SDIO_GetResponse(SDIO_RESP2);
 6421              		.loc 1 2416 0
 6422 032a FFF7FEFF 		bl	SDIO_GetResponse
 6423              	.LVL652:
 6424 032e A063     		str	r0, [r4, #56]
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[2U] = SDIO_GetResponse(SDIO_RESP3);
 6425              		.loc 1 2417 0
 6426 0330 0420     		movs	r0, #4
 6427 0332 FFF7FEFF 		bl	SDIO_GetResponse
 6428              	.LVL653:
 6429 0336 E063     		str	r0, [r4, #60]
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[3U] = SDIO_GetResponse(SDIO_RESP4);
 6430              		.loc 1 2418 0
 6431 0338 0820     		movs	r0, #8
 6432 033a FFF7FEFF 		bl	SDIO_GetResponse
 6433              	.LVL654:
 6434 033e 2064     		str	r0, [r4, #64]
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6435              		.loc 1 2419 0
 6436 0340 0C20     		movs	r0, #12
 6437 0342 FFF7FEFF 		bl	SDIO_GetResponse
 6438              	.LVL655:
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      (hsd->CardType == SECURE_DIGITAL_IO_COMBO_CARD) || (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 6439              		.loc 1 2422 0
 6440 0346 236A     		ldr	r3, [r4, #32]
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6441              		.loc 1 2419 0
ARM GAS  /tmp/cc228lSu.s 			page 199


 6442 0348 6064     		str	r0, [r4, #68]
 6443              	.LVL656:
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      (hsd->CardType == SECURE_DIGITAL_IO_COMBO_CARD) || (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 6444              		.loc 1 2422 0
 6445 034a 022B     		cmp	r3, #2
 6446 034c 01D9     		bls	.L720
 6447 034e 062B     		cmp	r3, #6
 6448 0350 59D1     		bne	.L747
 6449              	.L720:
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6450              		.loc 1 2427 0
 6451 0352 0322     		movs	r2, #3
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6452              		.loc 1 2428 0
 6453 0354 4023     		movs	r3, #64
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6454              		.loc 1 2429 0
 6455 0356 05A9     		add	r1, sp, #20
 6456 0358 2068     		ldr	r0, [r4]
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6457              		.loc 1 2427 0
 6458 035a 0692     		str	r2, [sp, #24]
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6459              		.loc 1 2428 0
 6460 035c 0793     		str	r3, [sp, #28]
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6461              		.loc 1 2429 0
 6462 035e FFF7FEFF 		bl	SDIO_SendCommand
 6463              	.LVL657:
 6464 0362 2068     		ldr	r0, [r4]
 6465              	.L722:
 6466              	.LBB347:
 6467              	.LBB348:
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6468              		.loc 1 2999 0
 6469 0364 436B     		ldr	r3, [r0, #52]
 6470 0366 13F0450F 		tst	r3, #69
 6471 036a FBD0     		beq	.L722
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6472              		.loc 1 3003 0
 6473 036c 436B     		ldr	r3, [r0, #52]
 6474 036e 5B07     		lsls	r3, r3, #29
 6475 0370 3CD5     		bpl	.L723
 6476              	.LVL658:
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6477              		.loc 1 3007 0
 6478 0372 0423     		movs	r3, #4
 6479 0374 8363     		str	r3, [r0, #56]
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6480              		.loc 1 3009 0
 6481 0376 0326     		movs	r6, #3
 6482 0378 54E7     		b	.L716
 6483              	.LVL659:
 6484              	.L778:
 6485              	.LBE348:
 6486              	.LBE347:
 6487              	.LBB353:
ARM GAS  /tmp/cc228lSu.s 			page 200


 6488              	.LBB354:
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6489              		.loc 1 2963 0
 6490 037a 0423     		movs	r3, #4
 6491 037c 9363     		str	r3, [r2, #56]
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6492              		.loc 1 2965 0
 6493 037e 0326     		movs	r6, #3
 6494 0380 50E7     		b	.L716
 6495              	.LVL660:
 6496              	.L782:
 6497              	.LBE354:
 6498              	.LBE353:
 6499              	.LBE363:
 6500              	.LBE370:
 6501              	.LBB371:
 6502              	.LBB340:
 6503              	.LBB335:
 6504              	.LBB314:
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6505              		.loc 1 2744 0
 6506 0382 436B     		ldr	r3, [r0, #52]
 6507              	.LVL661:
 6508 0384 ABE6     		b	.L690
 6509              	.LVL662:
 6510              	.L697:
 6511              	.LBE314:
 6512              	.LBE335:
 6513              	.LBB336:
 6514              	.LBB319:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6515              		.loc 1 2802 0
 6516 0386 FFF7FEFF 		bl	SDIO_GetCommandResponse
 6517              	.LVL663:
 6518 038a 3728     		cmp	r0, #55
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6519              		.loc 1 2806 0
 6520 038c 18BF     		it	ne
 6521 038e 1020     		movne	r0, #16
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6522              		.loc 1 2802 0
 6523 0390 7FF4C4AE 		bne	.L696
 6524 0394 2046     		mov	r0, r4
 6525 0396 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 6526              	.LVL664:
 6527 039a BFE6     		b	.L696
 6528              	.LVL665:
 6529              	.L732:
 6530              	.LBE319:
 6531              	.LBE336:
 6532              	.LBE340:
 6533              	.LBE371:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6534              		.loc 1 385 0
 6535 039c B5F85430 		ldrh	r3, [r5, #84]
 6536              	.LBB372:
 6537              	.LBB373:
ARM GAS  /tmp/cc228lSu.s 			page 201


2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 6538              		.loc 1 2485 0
 6539 03a0 0892     		str	r2, [sp, #32]
 6540              	.LBE373:
 6541              	.LBE372:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6542              		.loc 1 385 0
 6543 03a2 1B04     		lsls	r3, r3, #16
 6544              	.LBB386:
 6545              	.LBB382:
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6546              		.loc 1 2484 0
 6547 03a4 4025     		movs	r5, #64
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6548              		.loc 1 2486 0
 6549 03a6 4FF48062 		mov	r2, #1024
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6550              		.loc 1 2487 0
 6551 03aa 2068     		ldr	r0, [r4]
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 6552              		.loc 1 2484 0
 6553 03ac 0795     		str	r5, [sp, #28]
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6554              		.loc 1 2487 0
 6555 03ae 05A9     		add	r1, sp, #20
 6556              	.LVL666:
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6557              		.loc 1 2483 0
 6558 03b0 0726     		movs	r6, #7
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEL_DESEL_CARD;
 6559              		.loc 1 2482 0
 6560 03b2 0593     		str	r3, [sp, #20]
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 6561              		.loc 1 2483 0
 6562 03b4 0696     		str	r6, [sp, #24]
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6563              		.loc 1 2486 0
 6564 03b6 0992     		str	r2, [sp, #36]
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6565              		.loc 1 2487 0
 6566 03b8 FFF7FEFF 		bl	SDIO_SendCommand
 6567              	.LVL667:
 6568 03bc 2568     		ldr	r5, [r4]
 6569              	.L734:
 6570              	.LBB374:
 6571              	.LBB375:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6572              		.loc 1 2780 0
 6573 03be 6B6B     		ldr	r3, [r5, #52]
 6574 03c0 13F0450F 		tst	r3, #69
 6575 03c4 FBD0     		beq	.L734
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6576              		.loc 1 2784 0
 6577 03c6 6B6B     		ldr	r3, [r5, #52]
 6578 03c8 5A07     		lsls	r2, r3, #29
 6579 03ca 16D5     		bpl	.L735
 6580              	.LVL668:
ARM GAS  /tmp/cc228lSu.s 			page 202


2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6581              		.loc 1 2788 0
 6582 03cc 0423     		movs	r3, #4
 6583 03ce AB63     		str	r3, [r5, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6584              		.loc 1 2790 0
 6585 03d0 0320     		movs	r0, #3
 6586              	.LVL669:
 6587              	.L736:
 6588              	.LBE375:
 6589              	.LBE374:
 6590              	.LBE382:
 6591              	.LBE386:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6592              		.loc 1 385 0
 6593 03d2 8DF81200 		strb	r0, [sp, #18]
 6594 03d6 39E7     		b	.L733
 6595              	.LVL670:
 6596              	.L779:
 6597              	.LBB387:
 6598              	.LBB364:
 6599              	.LBB357:
 6600              	.LBB355:
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6601              		.loc 1 2971 0
 6602 03d8 0126     		movs	r6, #1
 6603 03da 9663     		str	r6, [r2, #56]
 6604 03dc 22E7     		b	.L716
 6605              	.LVL671:
 6606              	.L686:
 6607              	.LBE355:
 6608              	.LBE357:
 6609              	.LBE364:
 6610              	.LBE387:
 6611              	.LBB388:
 6612              	.LBB341:
 6613              	.LBB337:
 6614              	.LBB315:
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6615              		.loc 1 2744 0
 6616 03de 436B     		ldr	r3, [r0, #52]
 6617              	.LVL672:
 6618 03e0 03F00403 		and	r3, r3, #4
 6619              	.LVL673:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6620              		.loc 1 2746 0
 6621 03e4 002B     		cmp	r3, #0
 6622 03e6 7FF47AAE 		bne	.L690
 6623 03ea 4BE7     		b	.L691
 6624              	.LVL674:
 6625              	.L723:
 6626              	.LBE315:
 6627              	.LBE337:
 6628              	.LBE341:
 6629              	.LBE388:
 6630              	.LBB389:
 6631              	.LBB365:
ARM GAS  /tmp/cc228lSu.s 			page 203


 6632              	.LBB358:
 6633              	.LBB349:
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6634              		.loc 1 3011 0
 6635 03ec 466B     		ldr	r6, [r0, #52]
 6636 03ee 16F00106 		ands	r6, r6, #1
 6637 03f2 36D0     		beq	.L724
 6638              	.LVL675:
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6639              		.loc 1 3015 0
 6640 03f4 0126     		movs	r6, #1
 6641 03f6 8663     		str	r6, [r0, #56]
 6642 03f8 14E7     		b	.L716
 6643              	.LVL676:
 6644              	.L735:
 6645              	.LBE349:
 6646              	.LBE358:
 6647              	.LBE365:
 6648              	.LBE389:
 6649              	.LBB390:
 6650              	.LBB383:
 6651              	.LBB379:
 6652              	.LBB376:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6653              		.loc 1 2792 0
 6654 03fa 6B6B     		ldr	r3, [r5, #52]
 6655 03fc DB07     		lsls	r3, r3, #31
 6656 03fe 36D5     		bpl	.L737
 6657              	.LVL677:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6658              		.loc 1 2796 0
 6659 0400 0120     		movs	r0, #1
 6660 0402 A863     		str	r0, [r5, #56]
 6661 0404 E5E7     		b	.L736
 6662              	.LVL678:
 6663              	.L747:
 6664              	.LBE376:
 6665              	.LBE379:
 6666              	.LBE383:
 6667              	.LBE390:
 6668              	.LBB391:
 6669              	.LBB366:
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6670              		.loc 1 2388 0
 6671 0406 0120     		movs	r0, #1
 6672              	.LVL679:
 6673              	.L721:
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6674              		.loc 1 2440 0
 6675 0408 042B     		cmp	r3, #4
 6676 040a 38D0     		beq	.L750
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
 6677              		.loc 1 2446 0
 6678 040c 0304     		lsls	r3, r0, #16
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6679              		.loc 1 2448 0
 6680 040e C022     		movs	r2, #192
ARM GAS  /tmp/cc228lSu.s 			page 204


2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6681              		.loc 1 2443 0
 6682 0410 6062     		str	r0, [r4, #36]
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 6683              		.loc 1 2447 0
 6684 0412 0926     		movs	r6, #9
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6685              		.loc 1 2449 0
 6686 0414 05A9     		add	r1, sp, #20
 6687 0416 2068     		ldr	r0, [r4]
 6688              	.LVL680:
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 6689              		.loc 1 2448 0
 6690 0418 0792     		str	r2, [sp, #28]
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
 6691              		.loc 1 2446 0
 6692 041a 0593     		str	r3, [sp, #20]
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 6693              		.loc 1 2447 0
 6694 041c 0696     		str	r6, [sp, #24]
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6695              		.loc 1 2449 0
 6696 041e FFF7FEFF 		bl	SDIO_SendCommand
 6697              	.LVL681:
 6698 0422 2268     		ldr	r2, [r4]
 6699              	.L728:
 6700              	.LBB359:
 6701              	.LBB356:
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6702              		.loc 1 2955 0
 6703 0424 536B     		ldr	r3, [r2, #52]
 6704 0426 13F0450F 		tst	r3, #69
 6705 042a FBD0     		beq	.L728
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6706              		.loc 1 2959 0
 6707 042c 536B     		ldr	r3, [r2, #52]
 6708 042e 5907     		lsls	r1, r3, #29
 6709 0430 A3D4     		bmi	.L778
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6710              		.loc 1 2967 0
 6711 0432 566B     		ldr	r6, [r2, #52]
 6712 0434 16F00106 		ands	r6, r6, #1
 6713 0438 CED1     		bne	.L779
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6714              		.loc 1 2981 0
 6715 043a 40F2FF53 		movw	r3, #1535
 6716 043e 9363     		str	r3, [r2, #56]
 6717              	.LVL682:
 6718              	.LBE356:
 6719              	.LBE359:
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[1U] = SDIO_GetResponse(SDIO_RESP2);
 6720              		.loc 1 2460 0
 6721 0440 3046     		mov	r0, r6
 6722 0442 FFF7FEFF 		bl	SDIO_GetResponse
 6723              	.LVL683:
 6724 0446 A062     		str	r0, [r4, #40]
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[2U] = SDIO_GetResponse(SDIO_RESP3);
ARM GAS  /tmp/cc228lSu.s 			page 205


 6725              		.loc 1 2461 0
 6726 0448 0420     		movs	r0, #4
 6727 044a FFF7FEFF 		bl	SDIO_GetResponse
 6728              	.LVL684:
 6729 044e E062     		str	r0, [r4, #44]
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[3U] = SDIO_GetResponse(SDIO_RESP4);
 6730              		.loc 1 2462 0
 6731 0450 0820     		movs	r0, #8
 6732 0452 FFF7FEFF 		bl	SDIO_GetResponse
 6733              	.LVL685:
 6734 0456 2063     		str	r0, [r4, #48]
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6735              		.loc 1 2463 0
 6736 0458 0C20     		movs	r0, #12
 6737 045a FFF7FEFF 		bl	SDIO_GetResponse
 6738              	.LVL686:
 6739 045e 6063     		str	r0, [r4, #52]
 6740 0460 E0E6     		b	.L716
 6741              	.LVL687:
 6742              	.L724:
 6743              	.LBB360:
 6744              	.LBB350:
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6745              		.loc 1 3025 0
 6746 0462 FFF7FEFF 		bl	SDIO_GetCommandResponse
 6747              	.LVL688:
 6748 0466 0328     		cmp	r0, #3
 6749 0468 0BD0     		beq	.L725
 6750              	.L727:
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6751              		.loc 1 3029 0
 6752 046a 1026     		movs	r6, #16
 6753 046c DAE6     		b	.L716
 6754              	.LVL689:
 6755              	.L737:
 6756              	.LBE350:
 6757              	.LBE360:
 6758              	.LBE366:
 6759              	.LBE391:
 6760              	.LBB392:
 6761              	.LBB384:
 6762              	.LBB380:
 6763              	.LBB377:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6764              		.loc 1 2802 0
 6765 046e 2846     		mov	r0, r5
 6766 0470 FFF7FEFF 		bl	SDIO_GetCommandResponse
 6767              	.LVL690:
 6768 0474 0728     		cmp	r0, #7
 6769 0476 12D0     		beq	.L738
 6770 0478 2568     		ldr	r5, [r4]
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6771              		.loc 1 2806 0
 6772 047a 1020     		movs	r0, #16
 6773 047c A9E7     		b	.L736
 6774              	.LVL691:
 6775              	.L750:
ARM GAS  /tmp/cc228lSu.s 			page 206


 6776              	.LBE377:
 6777              	.LBE380:
 6778              	.LBE384:
 6779              	.LBE392:
 6780              	.LBB393:
 6781              	.LBB367:
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6782              		.loc 1 2440 0
 6783 047e 0026     		movs	r6, #0
 6784 0480 D0E6     		b	.L716
 6785              	.LVL692:
 6786              	.L725:
 6787              	.LBB361:
 6788              	.LBB351:
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6789              		.loc 1 3033 0
 6790 0482 2368     		ldr	r3, [r4]
 6791 0484 40F2FF52 		movw	r2, #1535
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6792              		.loc 1 3036 0
 6793 0488 3046     		mov	r0, r6
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6794              		.loc 1 3033 0
 6795 048a 9A63     		str	r2, [r3, #56]
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6796              		.loc 1 3036 0
 6797 048c FFF7FEFF 		bl	SDIO_GetResponse
 6798              	.LVL693:
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6799              		.loc 1 3038 0
 6800 0490 10F4604F 		tst	r0, #57344
 6801 0494 0ED0     		beq	.L790
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6802              		.loc 1 3045 0
 6803 0496 8704     		lsls	r7, r0, #18
 6804 0498 06D5     		bpl	.L791
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6805              		.loc 1 3047 0
 6806 049a 1326     		movs	r6, #19
 6807 049c C2E6     		b	.L716
 6808              	.LVL694:
 6809              	.L738:
 6810              	.LBE351:
 6811              	.LBE361:
 6812              	.LBE367:
 6813              	.LBE393:
 6814              	.LBB394:
 6815              	.LBB385:
 6816              	.LBB381:
 6817              	.LBB378:
 6818 049e 2046     		mov	r0, r4
 6819 04a0 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 6820              	.LVL695:
 6821 04a4 2568     		ldr	r5, [r4]
 6822 04a6 94E7     		b	.L736
 6823              	.LVL696:
 6824              	.L791:
ARM GAS  /tmp/cc228lSu.s 			page 207


 6825              	.LBE378:
 6826              	.LBE381:
 6827              	.LBE385:
 6828              	.LBE394:
 6829              	.LBB395:
 6830              	.LBB368:
 6831              	.LBB362:
 6832              	.LBB352:
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6833              		.loc 1 3050 0
 6834 04a8 4604     		lsls	r6, r0, #17
 6835 04aa DED4     		bmi	.L727
3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6836              		.loc 1 3055 0
 6837 04ac 0004     		lsls	r0, r0, #16
 6838              	.LVL697:
 6839 04ae 04D5     		bpl	.L792
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6840              		.loc 1 3057 0
 6841 04b0 0F26     		movs	r6, #15
 6842 04b2 B7E6     		b	.L716
 6843              	.LVL698:
 6844              	.L790:
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6845              		.loc 1 3040 0
 6846 04b4 000C     		lsrs	r0, r0, #16
 6847              	.LVL699:
 6848 04b6 236A     		ldr	r3, [r4, #32]
 6849 04b8 A6E7     		b	.L721
 6850              	.LVL700:
 6851              	.L792:
 6852 04ba 236A     		ldr	r3, [r4, #32]
 6853              	.LBE352:
 6854              	.LBE362:
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6855              		.loc 1 2388 0
 6856 04bc 0120     		movs	r0, #1
 6857 04be A3E7     		b	.L721
 6858              	.LBE368:
 6859              	.LBE395:
 6860              		.cfi_endproc
 6861              	.LFE126:
 6863              		.section	.text.HAL_SD_WideBusOperation_Config,"ax",%progbits
 6864              		.align	1
 6865              		.p2align 2,,3
 6866              		.global	HAL_SD_WideBusOperation_Config
 6867              		.syntax unified
 6868              		.thumb
 6869              		.thumb_func
 6870              		.fpu fpv4-sp-d16
 6872              	HAL_SD_WideBusOperation_Config:
 6873              	.LFB145:
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 6874              		.loc 1 1773 0
 6875              		.cfi_startproc
 6876              		@ args = 0, pretend = 0, frame = 32
 6877              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc228lSu.s 			page 208


 6878              	.LVL701:
 6879 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 6880              	.LCFI96:
 6881              		.cfi_def_cfa_offset 24
 6882              		.cfi_offset 4, -24
 6883              		.cfi_offset 5, -20
 6884              		.cfi_offset 6, -16
 6885              		.cfi_offset 7, -12
 6886              		.cfi_offset 8, -8
 6887              		.cfi_offset 14, -4
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6888              		.loc 1 1778 0
 6889 0004 036A     		ldr	r3, [r0, #32]
 6890 0006 032B     		cmp	r3, #3
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 6891              		.loc 1 1773 0
 6892 0008 8CB0     		sub	sp, sp, #48
 6893              	.LCFI97:
 6894              		.cfi_def_cfa_offset 72
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6895              		.loc 1 1778 0
 6896 000a 0FD0     		beq	.L803
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 6897              		.loc 1 1784 0
 6898 000c 022B     		cmp	r3, #2
 6899 000e 12D8     		bhi	.L802
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6900              		.loc 1 1787 0
 6901 0010 B1F5805F 		cmp	r1, #4096
 6902 0014 0AD0     		beq	.L803
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6903              		.loc 1 1791 0
 6904 0016 B1F5006F 		cmp	r1, #2048
 6905 001a 0D46     		mov	r5, r1
 6906 001c 0446     		mov	r4, r0
 6907 001e 18D0     		beq	.L810
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6908              		.loc 1 1795 0
 6909 0020 71B1     		cbz	r1, .L811
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6910              		.loc 1 1802 0
 6911 0022 2626     		movs	r6, #38
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6912              		.loc 1 1819 0
 6913 0024 3046     		mov	r0, r6
 6914              	.LVL702:
 6915 0026 0CB0     		add	sp, sp, #48
 6916              	.LCFI98:
 6917              		.cfi_remember_state
 6918              		.cfi_def_cfa_offset 24
 6919              		@ sp needed
 6920 0028 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 6921              	.LVL703:
 6922              	.L803:
 6923              	.LCFI99:
 6924              		.cfi_restore_state
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cc228lSu.s 			page 209


 6925              		.loc 1 1782 0
 6926 002c 2726     		movs	r6, #39
 6927              	.LVL704:
 6928              	.L796:
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6929              		.loc 1 1819 0
 6930 002e 3046     		mov	r0, r6
 6931 0030 0CB0     		add	sp, sp, #48
 6932              	.LCFI100:
 6933              		.cfi_remember_state
 6934              		.cfi_def_cfa_offset 24
 6935              		@ sp needed
 6936 0032 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 6937              	.LVL705:
 6938              	.L802:
 6939              	.LCFI101:
 6940              		.cfi_restore_state
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef tmpinit;
 6941              		.loc 1 1774 0
 6942 0036 0026     		movs	r6, #0
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6943              		.loc 1 1819 0
 6944 0038 3046     		mov	r0, r6
 6945              	.LVL706:
 6946 003a 0CB0     		add	sp, sp, #48
 6947              	.LCFI102:
 6948              		.cfi_remember_state
 6949              		.cfi_def_cfa_offset 24
 6950              		@ sp needed
 6951 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 6952              	.LVL707:
 6953              	.L811:
 6954              	.LCFI103:
 6955              		.cfi_restore_state
 6956              	.LBB400:
 6957              	.LBB401:
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6958              		.loc 1 3144 0
 6959 0040 0846     		mov	r0, r1
 6960              	.LVL708:
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6961              		.loc 1 3142 0
 6962 0042 0491     		str	r1, [sp, #16]
 6963 0044 0591     		str	r1, [sp, #20]
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6964              		.loc 1 3144 0
 6965 0046 FFF7FEFF 		bl	SDIO_GetResponse
 6966              	.LVL709:
 6967 004a 8201     		lsls	r2, r0, #6
 6968 004c 15D5     		bpl	.L812
 6969              	.LVL710:
 6970              	.L807:
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6971              		.loc 1 3148 0
 6972 004e 0E26     		movs	r6, #14
 6973 0050 EDE7     		b	.L796
 6974              	.LVL711:
ARM GAS  /tmp/cc228lSu.s 			page 210


 6975              	.L810:
 6976              	.LBE401:
 6977              	.LBE400:
 6978              	.LBB403:
 6979              	.LBB404:
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6980              		.loc 1 3073 0
 6981 0052 0023     		movs	r3, #0
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6982              		.loc 1 3075 0
 6983 0054 1846     		mov	r0, r3
 6984              	.LVL712:
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6985              		.loc 1 3073 0
 6986 0056 0493     		str	r3, [sp, #16]
 6987 0058 0593     		str	r3, [sp, #20]
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6988              		.loc 1 3075 0
 6989 005a FFF7FEFF 		bl	SDIO_GetResponse
 6990              	.LVL713:
 6991 005e 8001     		lsls	r0, r0, #6
 6992 0060 F5D4     		bmi	.L807
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6993              		.loc 1 3083 0
 6994 0062 04A9     		add	r1, sp, #16
 6995 0064 2046     		mov	r0, r4
 6996 0066 FFF7FEFF 		bl	SD_FindSCR
 6997              	.LVL714:
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6998              		.loc 1 3085 0
 6999 006a 0646     		mov	r6, r0
 7000 006c 0028     		cmp	r0, #0
 7001 006e DED1     		bne	.L796
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7002              		.loc 1 3091 0
 7003 0070 059B     		ldr	r3, [sp, #20]
 7004 0072 5903     		lsls	r1, r3, #13
 7005 0074 4CD4     		bmi	.L813
 7006              	.LVL715:
 7007              	.L808:
 7008              	.LBE404:
 7009              	.LBE403:
 7010              	.LBB406:
 7011              	.LBB402:
3197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7012              		.loc 1 3197 0
 7013 0076 2526     		movs	r6, #37
 7014              	.LVL716:
 7015 0078 D9E7     		b	.L796
 7016              	.LVL717:
 7017              	.L812:
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7018              		.loc 1 3152 0
 7019 007a 04A9     		add	r1, sp, #16
 7020 007c 2046     		mov	r0, r4
 7021 007e FFF7FEFF 		bl	SD_FindSCR
 7022              	.LVL718:
ARM GAS  /tmp/cc228lSu.s 			page 211


3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7023              		.loc 1 3154 0
 7024 0082 0646     		mov	r6, r0
 7025 0084 0028     		cmp	r0, #0
 7026 0086 D2D1     		bne	.L796
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7027              		.loc 1 3160 0
 7028 0088 059B     		ldr	r3, [sp, #20]
 7029 008a DB03     		lsls	r3, r3, #15
 7030 008c F3D5     		bpl	.L808
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 7031              		.loc 1 3163 0
 7032 008e 636A     		ldr	r3, [r4, #36]
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 7033              		.loc 1 3166 0
 7034 0090 0996     		str	r6, [sp, #36]
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 7035              		.loc 1 3163 0
 7036 0092 1B04     		lsls	r3, r3, #16
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7037              		.loc 1 3168 0
 7038 0094 06AF     		add	r7, sp, #24
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7039              		.loc 1 3164 0
 7040 0096 3726     		movs	r6, #55
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7041              		.loc 1 3165 0
 7042 0098 4022     		movs	r2, #64
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7043              		.loc 1 3168 0
 7044 009a 3946     		mov	r1, r7
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 7045              		.loc 1 3163 0
 7046 009c 0693     		str	r3, [sp, #24]
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7047              		.loc 1 3168 0
 7048 009e 2068     		ldr	r0, [r4]
 7049              	.LVL719:
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7050              		.loc 1 3164 0
 7051 00a0 0796     		str	r6, [sp, #28]
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7052              		.loc 1 3167 0
 7053 00a2 4FF48063 		mov	r3, #1024
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7054              		.loc 1 3165 0
 7055 00a6 0892     		str	r2, [sp, #32]
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7056              		.loc 1 3167 0
 7057 00a8 0A93     		str	r3, [sp, #40]
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7058              		.loc 1 3168 0
 7059 00aa FFF7FEFF 		bl	SDIO_SendCommand
 7060              	.LVL720:
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7061              		.loc 1 3171 0
 7062 00ae 3146     		mov	r1, r6
ARM GAS  /tmp/cc228lSu.s 			page 212


 7063 00b0 2046     		mov	r0, r4
 7064 00b2 FFF7FEFF 		bl	SD_CmdResp1Error
 7065              	.LVL721:
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7066              		.loc 1 3173 0
 7067 00b6 0646     		mov	r6, r0
 7068 00b8 0028     		cmp	r0, #0
 7069 00ba B8D1     		bne	.L796
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7070              		.loc 1 3180 0
 7071 00bc 4FF00608 		mov	r8, #6
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7072              		.loc 1 3181 0
 7073 00c0 3946     		mov	r1, r7
 7074 00c2 2068     		ldr	r0, [r4]
 7075              	.LVL722:
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 7076              		.loc 1 3179 0
 7077 00c4 0696     		str	r6, [sp, #24]
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7078              		.loc 1 3180 0
 7079 00c6 CDF81C80 		str	r8, [sp, #28]
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7080              		.loc 1 3181 0
 7081 00ca FFF7FEFF 		bl	SDIO_SendCommand
 7082              	.LVL723:
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7083              		.loc 1 3184 0
 7084 00ce 4146     		mov	r1, r8
 7085 00d0 2046     		mov	r0, r4
 7086 00d2 FFF7FEFF 		bl	SD_CmdResp1Error
 7087              	.LVL724:
 7088 00d6 0646     		mov	r6, r0
 7089              	.LVL725:
 7090              	.L799:
 7091              	.LBE402:
 7092              	.LBE406:
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7093              		.loc 1 1805 0
 7094 00d8 002E     		cmp	r6, #0
 7095 00da A8D1     		bne	.L796
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
 7096              		.loc 1 1812 0
 7097 00dc 6269     		ldr	r2, [r4, #20]
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
 7098              		.loc 1 1813 0
 7099 00de A369     		ldr	r3, [r4, #24]
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 7100              		.loc 1 1811 0
 7101 00e0 0995     		str	r5, [sp, #36]
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
 7102              		.loc 1 1813 0
 7103 00e2 0B93     		str	r3, [sp, #44]
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
 7104              		.loc 1 1812 0
 7105 00e4 0A92     		str	r2, [sp, #40]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
ARM GAS  /tmp/cc228lSu.s 			page 213


 7106              		.loc 1 1814 0
 7107 00e6 0CAB     		add	r3, sp, #48
 7108 00e8 13E90700 		ldmdb	r3, {r0, r1, r2}
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
 7109              		.loc 1 1808 0
 7110 00ec 6368     		ldr	r3, [r4, #4]
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
 7111              		.loc 1 1809 0
 7112 00ee A568     		ldr	r5, [r4, #8]
 7113              	.LVL726:
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
 7114              		.loc 1 1808 0
 7115 00f0 0693     		str	r3, [sp, #24]
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
 7116              		.loc 1 1810 0
 7117 00f2 E368     		ldr	r3, [r4, #12]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 7118              		.loc 1 1814 0
 7119 00f4 2468     		ldr	r4, [r4]
 7120              	.LVL727:
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
 7121              		.loc 1 1809 0
 7122 00f6 0795     		str	r5, [sp, #28]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 7123              		.loc 1 1814 0
 7124 00f8 8DE80700 		stm	sp, {r0, r1, r2}
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
 7125              		.loc 1 1810 0
 7126 00fc 0893     		str	r3, [sp, #32]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 7127              		.loc 1 1814 0
 7128 00fe 2046     		mov	r0, r4
 7129 0100 97E80E00 		ldm	r7, {r1, r2, r3}
 7130 0104 FFF7FEFF 		bl	SDIO_Init
 7131              	.LVL728:
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7132              		.loc 1 1819 0
 7133 0108 3046     		mov	r0, r6
 7134 010a 0CB0     		add	sp, sp, #48
 7135              	.LCFI104:
 7136              		.cfi_remember_state
 7137              		.cfi_def_cfa_offset 24
 7138              		@ sp needed
 7139 010c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 7140              	.LVL729:
 7141              	.L813:
 7142              	.LCFI105:
 7143              		.cfi_restore_state
 7144              	.LBB407:
 7145              	.LBB405:
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 7146              		.loc 1 3094 0
 7147 0110 636A     		ldr	r3, [r4, #36]
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 7148              		.loc 1 3097 0
 7149 0112 0996     		str	r6, [sp, #36]
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
ARM GAS  /tmp/cc228lSu.s 			page 214


 7150              		.loc 1 3094 0
 7151 0114 1B04     		lsls	r3, r3, #16
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7152              		.loc 1 3099 0
 7153 0116 06AF     		add	r7, sp, #24
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7154              		.loc 1 3095 0
 7155 0118 3726     		movs	r6, #55
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7156              		.loc 1 3096 0
 7157 011a 4022     		movs	r2, #64
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7158              		.loc 1 3099 0
 7159 011c 3946     		mov	r1, r7
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 7160              		.loc 1 3094 0
 7161 011e 0693     		str	r3, [sp, #24]
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7162              		.loc 1 3099 0
 7163 0120 2068     		ldr	r0, [r4]
 7164              	.LVL730:
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7165              		.loc 1 3095 0
 7166 0122 0796     		str	r6, [sp, #28]
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7167              		.loc 1 3098 0
 7168 0124 4FF48063 		mov	r3, #1024
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7169              		.loc 1 3096 0
 7170 0128 0892     		str	r2, [sp, #32]
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7171              		.loc 1 3098 0
 7172 012a 0A93     		str	r3, [sp, #40]
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7173              		.loc 1 3099 0
 7174 012c FFF7FEFF 		bl	SDIO_SendCommand
 7175              	.LVL731:
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7176              		.loc 1 3102 0
 7177 0130 3146     		mov	r1, r6
 7178 0132 2046     		mov	r0, r4
 7179 0134 FFF7FEFF 		bl	SD_CmdResp1Error
 7180              	.LVL732:
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7181              		.loc 1 3104 0
 7182 0138 0646     		mov	r6, r0
 7183 013a 0028     		cmp	r0, #0
 7184 013c 7FF477AF 		bne	.L796
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 7185              		.loc 1 3110 0
 7186 0140 0223     		movs	r3, #2
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7187              		.loc 1 3111 0
 7188 0142 0626     		movs	r6, #6
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7189              		.loc 1 3112 0
 7190 0144 3946     		mov	r1, r7
ARM GAS  /tmp/cc228lSu.s 			page 215


 7191 0146 2068     		ldr	r0, [r4]
 7192              	.LVL733:
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 7193              		.loc 1 3110 0
 7194 0148 0693     		str	r3, [sp, #24]
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7195              		.loc 1 3111 0
 7196 014a 0796     		str	r6, [sp, #28]
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7197              		.loc 1 3112 0
 7198 014c FFF7FEFF 		bl	SDIO_SendCommand
 7199              	.LVL734:
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7200              		.loc 1 3115 0
 7201 0150 3146     		mov	r1, r6
 7202 0152 2046     		mov	r0, r4
 7203 0154 FFF7FEFF 		bl	SD_CmdResp1Error
 7204              	.LVL735:
 7205 0158 0646     		mov	r6, r0
 7206              	.LVL736:
 7207 015a BDE7     		b	.L799
 7208              	.LBE405:
 7209              	.LBE407:
 7210              		.cfi_endproc
 7211              	.LFE145:
 7213              		.section	.text.HAL_SD_StopTransfer,"ax",%progbits
 7214              		.align	1
 7215              		.p2align 2,,3
 7216              		.global	HAL_SD_StopTransfer
 7217              		.syntax unified
 7218              		.thumb
 7219              		.thumb_func
 7220              		.fpu fpv4-sp-d16
 7222              	HAL_SD_StopTransfer:
 7223              	.LFB146:
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 7224              		.loc 1 1827 0
 7225              		.cfi_startproc
 7226              		@ args = 0, pretend = 0, frame = 24
 7227              		@ frame_needed = 0, uses_anonymous_args = 0
 7228              	.LVL737:
 7229 0000 70B5     		push	{r4, r5, r6, lr}
 7230              	.LCFI106:
 7231              		.cfi_def_cfa_offset 16
 7232              		.cfi_offset 4, -16
 7233              		.cfi_offset 5, -12
 7234              		.cfi_offset 6, -8
 7235              		.cfi_offset 14, -4
 7236 0002 0446     		mov	r4, r0
 7237 0004 86B0     		sub	sp, sp, #24
 7238              	.LCFI107:
 7239              		.cfi_def_cfa_offset 40
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 7240              		.loc 1 1832 0
 7241 0006 0023     		movs	r3, #0
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7242              		.loc 1 1836 0
ARM GAS  /tmp/cc228lSu.s 			page 216


 7243 0008 4FF48062 		mov	r2, #1024
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7244              		.loc 1 1837 0
 7245 000c 0068     		ldr	r0, [r0]
 7246              	.LVL738:
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 7247              		.loc 1 1832 0
 7248 000e 0193     		str	r3, [sp, #4]
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7249              		.loc 1 1833 0
 7250 0010 0C26     		movs	r6, #12
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7251              		.loc 1 1834 0
 7252 0012 4025     		movs	r5, #64
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7253              		.loc 1 1837 0
 7254 0014 01A9     		add	r1, sp, #4
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 7255              		.loc 1 1835 0
 7256 0016 0493     		str	r3, [sp, #16]
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7257              		.loc 1 1833 0
 7258 0018 0296     		str	r6, [sp, #8]
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7259              		.loc 1 1834 0
 7260 001a 0395     		str	r5, [sp, #12]
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7261              		.loc 1 1836 0
 7262 001c 0592     		str	r2, [sp, #20]
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7263              		.loc 1 1837 0
 7264 001e FFF7FEFF 		bl	SDIO_SendCommand
 7265              	.LVL739:
 7266 0022 2068     		ldr	r0, [r4]
 7267              	.L815:
 7268              	.LBB410:
 7269              	.LBB411:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7270              		.loc 1 2780 0
 7271 0024 436B     		ldr	r3, [r0, #52]
 7272 0026 13F0450F 		tst	r3, #69
 7273 002a FBD0     		beq	.L815
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7274              		.loc 1 2784 0
 7275 002c 436B     		ldr	r3, [r0, #52]
 7276 002e 5A07     		lsls	r2, r3, #29
 7277 0030 04D5     		bpl	.L816
 7278              	.LVL740:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7279              		.loc 1 2788 0
 7280 0032 0423     		movs	r3, #4
 7281 0034 8363     		str	r3, [r0, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7282              		.loc 1 2790 0
 7283 0036 0320     		movs	r0, #3
 7284              	.LVL741:
 7285              	.L817:
ARM GAS  /tmp/cc228lSu.s 			page 217


 7286              	.LBE411:
 7287              	.LBE410:
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7288              		.loc 1 1843 0
 7289 0038 06B0     		add	sp, sp, #24
 7290              	.LCFI108:
 7291              		.cfi_remember_state
 7292              		.cfi_def_cfa_offset 16
 7293              		@ sp needed
 7294 003a 70BD     		pop	{r4, r5, r6, pc}
 7295              	.LVL742:
 7296              	.L816:
 7297              	.LCFI109:
 7298              		.cfi_restore_state
 7299              	.LBB414:
 7300              	.LBB412:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7301              		.loc 1 2792 0
 7302 003c 436B     		ldr	r3, [r0, #52]
 7303 003e DB07     		lsls	r3, r3, #31
 7304 0040 04D5     		bpl	.L818
 7305              	.LVL743:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7306              		.loc 1 2796 0
 7307 0042 0123     		movs	r3, #1
 7308 0044 8363     		str	r3, [r0, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7309              		.loc 1 2798 0
 7310 0046 1846     		mov	r0, r3
 7311              	.LVL744:
 7312              	.LBE412:
 7313              	.LBE414:
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7314              		.loc 1 1843 0
 7315 0048 06B0     		add	sp, sp, #24
 7316              	.LCFI110:
 7317              		.cfi_remember_state
 7318              		.cfi_def_cfa_offset 16
 7319              		@ sp needed
 7320 004a 70BD     		pop	{r4, r5, r6, pc}
 7321              	.LVL745:
 7322              	.L818:
 7323              	.LCFI111:
 7324              		.cfi_restore_state
 7325              	.LBB415:
 7326              	.LBB413:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7327              		.loc 1 2802 0
 7328 004c FFF7FEFF 		bl	SDIO_GetCommandResponse
 7329              	.LVL746:
 7330 0050 0C28     		cmp	r0, #12
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7331              		.loc 1 2806 0
 7332 0052 18BF     		it	ne
 7333 0054 1020     		movne	r0, #16
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7334              		.loc 1 2802 0
ARM GAS  /tmp/cc228lSu.s 			page 218


 7335 0056 EFD1     		bne	.L817
 7336 0058 2046     		mov	r0, r4
 7337 005a FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 7338              	.LVL747:
 7339 005e EBE7     		b	.L817
 7340              	.LBE413:
 7341              	.LBE415:
 7342              		.cfi_endproc
 7343              	.LFE146:
 7345              		.section	.text.HAL_SD_HighSpeed,"ax",%progbits
 7346              		.align	1
 7347              		.p2align 2,,3
 7348              		.global	HAL_SD_HighSpeed
 7349              		.syntax unified
 7350              		.thumb
 7351              		.thumb_func
 7352              		.fpu fpv4-sp-d16
 7354              	HAL_SD_HighSpeed:
 7355              	.LFB147:
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 7356              		.loc 1 1854 0
 7357              		.cfi_startproc
 7358              		@ args = 0, pretend = 0, frame = 120
 7359              		@ frame_needed = 0, uses_anonymous_args = 0
 7360              	.LVL748:
 7361 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 7362              	.LCFI112:
 7363              		.cfi_def_cfa_offset 28
 7364              		.cfi_offset 4, -28
 7365              		.cfi_offset 5, -24
 7366              		.cfi_offset 6, -20
 7367              		.cfi_offset 7, -16
 7368              		.cfi_offset 8, -12
 7369              		.cfi_offset 9, -8
 7370              		.cfi_offset 14, -4
 7371 0004 0446     		mov	r4, r0
 7372 0006 9FB0     		sub	sp, sp, #124
 7373              	.LCFI113:
 7374              		.cfi_def_cfa_offset 152
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_scr[2U] = {0U, 0U};
 7375              		.loc 1 1859 0
 7376 0008 4026     		movs	r6, #64
 7377 000a 3246     		mov	r2, r6
 7378 000c 0021     		movs	r1, #0
 7379 000e 0EA8     		add	r0, sp, #56
 7380              	.LVL749:
 7381 0010 FFF7FEFF 		bl	memset
 7382              	.LVL750:
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7383              		.loc 1 1865 0
 7384 0014 2268     		ldr	r2, [r4]
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_SPEC    = 0U;
 7385              		.loc 1 1860 0
 7386 0016 0023     		movs	r3, #0
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7387              		.loc 1 1865 0
 7388 0018 D362     		str	r3, [r2, #44]
ARM GAS  /tmp/cc228lSu.s 			page 219


1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7389              		.loc 1 1868 0
 7390 001a 2046     		mov	r0, r4
 7391 001c 01A9     		add	r1, sp, #4
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_SPEC    = 0U;
 7392              		.loc 1 1860 0
 7393 001e 0193     		str	r3, [sp, #4]
 7394 0020 0293     		str	r3, [sp, #8]
 7395              	.LVL751:
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7396              		.loc 1 1868 0
 7397 0022 FFF7FEFF 		bl	SD_FindSCR
 7398              	.LVL752:
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7399              		.loc 1 1870 0
 7400 0026 0546     		mov	r5, r0
 7401 0028 18B9     		cbnz	r0, .L824
 7402              	.LVL753:
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7403              		.loc 1 1876 0
 7404 002a 029B     		ldr	r3, [sp, #8]
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7405              		.loc 1 1878 0
 7406 002c 13F0407F 		tst	r3, #50331648
 7407 0030 03D1     		bne	.L862
 7408              	.LVL754:
 7409              	.L824:
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7410              		.loc 1 1993 0
 7411 0032 2846     		mov	r0, r5
 7412 0034 1FB0     		add	sp, sp, #124
 7413              	.LCFI114:
 7414              		.cfi_remember_state
 7415              		.cfi_def_cfa_offset 28
 7416              		@ sp needed
 7417 0036 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 7418              	.LVL755:
 7419              	.L862:
 7420              	.LCFI115:
 7421              		.cfi_restore_state
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7422              		.loc 1 1882 0
 7423 003a 1022     		movs	r2, #16
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7424              		.loc 1 1885 0
 7425 003c 4FF48063 		mov	r3, #1024
 7426              	.LVL756:
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7427              		.loc 1 1886 0
 7428 0040 03A9     		add	r1, sp, #12
 7429 0042 2068     		ldr	r0, [r4]
 7430              	.LVL757:
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 7431              		.loc 1 1881 0
 7432 0044 0396     		str	r6, [sp, #12]
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7433              		.loc 1 1883 0
ARM GAS  /tmp/cc228lSu.s 			page 220


 7434 0046 0596     		str	r6, [sp, #20]
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 7435              		.loc 1 1884 0
 7436 0048 0695     		str	r5, [sp, #24]
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7437              		.loc 1 1882 0
 7438 004a 0492     		str	r2, [sp, #16]
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7439              		.loc 1 1885 0
 7440 004c 0793     		str	r3, [sp, #28]
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7441              		.loc 1 1886 0
 7442 004e FFF7FEFF 		bl	SDIO_SendCommand
 7443              	.LVL758:
 7444 0052 2068     		ldr	r0, [r4]
 7445              	.L826:
 7446              	.LBB420:
 7447              	.LBB421:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7448              		.loc 1 2780 0
 7449 0054 436B     		ldr	r3, [r0, #52]
 7450 0056 13F0450F 		tst	r3, #69
 7451 005a FBD0     		beq	.L826
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7452              		.loc 1 2784 0
 7453 005c 436B     		ldr	r3, [r0, #52]
 7454 005e 5A07     		lsls	r2, r3, #29
 7455 0060 06D5     		bpl	.L863
 7456              	.LVL759:
 7457              	.L860:
 7458              	.LBE421:
 7459              	.LBE420:
 7460              	.LBB424:
 7461              	.LBB425:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7462              		.loc 1 2788 0
 7463 0062 0423     		movs	r3, #4
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7464              		.loc 1 2790 0
 7465 0064 0325     		movs	r5, #3
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7466              		.loc 1 2788 0
 7467 0066 8363     		str	r3, [r0, #56]
 7468              	.LBE425:
 7469              	.LBE424:
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7470              		.loc 1 1993 0
 7471 0068 2846     		mov	r0, r5
 7472 006a 1FB0     		add	sp, sp, #124
 7473              	.LCFI116:
 7474              		.cfi_remember_state
 7475              		.cfi_def_cfa_offset 28
 7476              		@ sp needed
 7477 006c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 7478              	.LVL760:
 7479              	.L863:
 7480              	.LCFI117:
ARM GAS  /tmp/cc228lSu.s 			page 221


 7481              		.cfi_restore_state
 7482              	.LBB428:
 7483              	.LBB422:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7484              		.loc 1 2792 0
 7485 0070 436B     		ldr	r3, [r0, #52]
 7486 0072 DB07     		lsls	r3, r3, #31
 7487 0074 02D5     		bpl	.L864
 7488              	.LVL761:
 7489              	.L861:
 7490              	.LBE422:
 7491              	.LBE428:
 7492              	.LBB429:
 7493              	.LBB426:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7494              		.loc 1 2796 0
 7495 0076 0125     		movs	r5, #1
 7496 0078 8563     		str	r5, [r0, #56]
 7497 007a DAE7     		b	.L824
 7498              	.LVL762:
 7499              	.L864:
 7500              	.LBE426:
 7501              	.LBE429:
 7502              	.LBB430:
 7503              	.LBB423:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7504              		.loc 1 2802 0
 7505 007c FFF7FEFF 		bl	SDIO_GetCommandResponse
 7506              	.LVL763:
 7507 0080 1028     		cmp	r0, #16
 7508 0082 01D0     		beq	.L829
 7509              	.LVL764:
 7510              	.L833:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7511              		.loc 1 2806 0
 7512 0084 1025     		movs	r5, #16
 7513 0086 D4E7     		b	.L824
 7514              	.LVL765:
 7515              	.L829:
 7516 0088 2046     		mov	r0, r4
 7517 008a FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 7518              	.LVL766:
 7519              	.LBE423:
 7520              	.LBE430:
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7521              		.loc 1 1891 0
 7522 008e 0028     		cmp	r0, #0
 7523 0090 7CD1     		bne	.L848
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64U;
 7524              		.loc 1 1897 0
 7525 0092 4FF0FF33 		mov	r3, #-1
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B ;
 7526              		.loc 1 1898 0
 7527 0096 4021     		movs	r1, #64
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 7528              		.loc 1 1900 0
 7529 0098 0222     		movs	r2, #2
ARM GAS  /tmp/cc228lSu.s 			page 222


1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 7530              		.loc 1 1901 0
 7531 009a 0C90     		str	r0, [sp, #48]
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64U;
 7532              		.loc 1 1897 0
 7533 009c 0893     		str	r3, [sp, #32]
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B ;
 7534              		.loc 1 1898 0
 7535 009e 0991     		str	r1, [sp, #36]
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 7536              		.loc 1 1902 0
 7537 00a0 0123     		movs	r3, #1
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7538              		.loc 1 1903 0
 7539 00a2 08A9     		add	r1, sp, #32
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 7540              		.loc 1 1899 0
 7541 00a4 6026     		movs	r6, #96
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7542              		.loc 1 1903 0
 7543 00a6 2068     		ldr	r0, [r4]
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 7544              		.loc 1 1900 0
 7545 00a8 0B92     		str	r2, [sp, #44]
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 7546              		.loc 1 1902 0
 7547 00aa 0D93     		str	r3, [sp, #52]
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 7548              		.loc 1 1899 0
 7549 00ac 0A96     		str	r6, [sp, #40]
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7550              		.loc 1 1903 0
 7551 00ae FFF7FEFF 		bl	SDIO_DataConfig
 7552              	.LVL767:
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
 7553              		.loc 1 1906 0
 7554 00b2 374B     		ldr	r3, .L869
 7555 00b4 0393     		str	r3, [sp, #12]
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7556              		.loc 1 1908 0
 7557 00b6 03A9     		add	r1, sp, #12
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
 7558              		.loc 1 1907 0
 7559 00b8 0623     		movs	r3, #6
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7560              		.loc 1 1908 0
 7561 00ba 2068     		ldr	r0, [r4]
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
 7562              		.loc 1 1907 0
 7563 00bc 0493     		str	r3, [sp, #16]
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7564              		.loc 1 1908 0
 7565 00be FFF7FEFF 		bl	SDIO_SendCommand
 7566              	.LVL768:
 7567 00c2 2068     		ldr	r0, [r4]
 7568              	.L830:
 7569              	.LBB431:
ARM GAS  /tmp/cc228lSu.s 			page 223


 7570              	.LBB427:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7571              		.loc 1 2780 0
 7572 00c4 436B     		ldr	r3, [r0, #52]
 7573 00c6 13F0450F 		tst	r3, #69
 7574 00ca FBD0     		beq	.L830
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7575              		.loc 1 2784 0
 7576 00cc 436B     		ldr	r3, [r0, #52]
 7577 00ce 5F07     		lsls	r7, r3, #29
 7578 00d0 C7D4     		bmi	.L860
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7579              		.loc 1 2792 0
 7580 00d2 436B     		ldr	r3, [r0, #52]
 7581 00d4 DE07     		lsls	r6, r3, #31
 7582 00d6 CED4     		bmi	.L861
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7583              		.loc 1 2802 0
 7584 00d8 FFF7FEFF 		bl	SDIO_GetCommandResponse
 7585              	.LVL769:
 7586 00dc 0628     		cmp	r0, #6
 7587 00de D1D1     		bne	.L833
 7588 00e0 2046     		mov	r0, r4
 7589 00e2 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 7590              	.LVL770:
 7591              	.LBE427:
 7592              	.LBE431:
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7593              		.loc 1 1913 0
 7594 00e6 0028     		cmp	r0, #0
 7595 00e8 50D1     		bne	.L848
 7596 00ea 0EAE     		add	r6, sp, #56
 7597              	.LVL771:
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
 7598              		.loc 1 1918 0
 7599 00ec 40F22A68 		movw	r8, #1578
 7600              	.LVL772:
 7601              	.L834:
 7602 00f0 2368     		ldr	r3, [r4]
 7603 00f2 01E0     		b	.L835
 7604              	.LVL773:
 7605              	.L838:
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 7606              		.loc 1 1923 0
 7607 00f4 1004     		lsls	r0, r2, #16
 7608 00f6 0AD4     		bmi	.L865
 7609              	.L835:
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
 7610              		.loc 1 1918 0
 7611 00f8 5A6B     		ldr	r2, [r3, #52]
 7612 00fa 12EA080F 		tst	r2, r8
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 7613              		.loc 1 1923 0
 7614 00fe 5A6B     		ldr	r2, [r3, #52]
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
 7615              		.loc 1 1918 0
 7616 0100 F8D0     		beq	.L838
ARM GAS  /tmp/cc228lSu.s 			page 224


1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7617              		.loc 1 1934 0
 7618 0102 1107     		lsls	r1, r2, #28
 7619 0104 11D5     		bpl	.L839
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 7620              		.loc 1 1936 0
 7621 0106 0822     		movs	r2, #8
 7622 0108 9A63     		str	r2, [r3, #56]
 7623              	.LVL774:
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 7624              		.loc 1 1940 0
 7625 010a 0425     		movs	r5, #4
 7626 010c 91E7     		b	.L824
 7627              	.LVL775:
 7628              	.L865:
 7629 010e 371F     		subs	r7, r6, #4
 7630 0110 06F11C09 		add	r9, r6, #28
 7631 0114 00E0     		b	.L837
 7632              	.L866:
 7633 0116 2368     		ldr	r3, [r4]
 7634              	.L837:
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 7635              		.loc 1 1927 0 discriminator 3
 7636 0118 1846     		mov	r0, r3
 7637 011a FFF7FEFF 		bl	SDIO_ReadFIFO
 7638              	.LVL776:
 7639 011e 47F8040F 		str	r0, [r7, #4]!
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 7640              		.loc 1 1925 0 discriminator 3
 7641 0122 4F45     		cmp	r7, r9
 7642 0124 F7D1     		bne	.L866
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 7643              		.loc 1 1930 0
 7644 0126 2036     		adds	r6, r6, #32
 7645              	.LVL777:
 7646 0128 E2E7     		b	.L834
 7647              	.LVL778:
 7648              	.L839:
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7649              		.loc 1 1942 0
 7650 012a 5A6B     		ldr	r2, [r3, #52]
 7651 012c 9207     		lsls	r2, r2, #30
 7652 012e 02D5     		bpl	.L840
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 7653              		.loc 1 1944 0
 7654 0130 0225     		movs	r5, #2
 7655 0132 9D63     		str	r5, [r3, #56]
 7656              	.LVL779:
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 7657              		.loc 1 1948 0
 7658 0134 7DE7     		b	.L824
 7659              	.LVL780:
 7660              	.L840:
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7661              		.loc 1 1950 0
 7662 0136 5A6B     		ldr	r2, [r3, #52]
 7663 0138 9706     		lsls	r7, r2, #26
ARM GAS  /tmp/cc228lSu.s 			page 225


 7664 013a 03D5     		bpl	.L841
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 7665              		.loc 1 1952 0
 7666 013c 2022     		movs	r2, #32
 7667 013e 9A63     		str	r2, [r3, #56]
 7668              	.LVL781:
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 7669              		.loc 1 1956 0
 7670 0140 0625     		movs	r5, #6
 7671 0142 76E7     		b	.L824
 7672              	.LVL782:
 7673              	.L841:
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7674              		.loc 1 1959 0
 7675 0144 5A6B     		ldr	r2, [r3, #52]
 7676 0146 9005     		lsls	r0, r2, #22
 7677 0148 04D5     		bpl	.L867
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 7678              		.loc 1 1961 0
 7679 014a 4FF40072 		mov	r2, #512
 7680 014e 9A63     		str	r2, [r3, #56]
 7681              	.LVL783:
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 7682              		.loc 1 1965 0
 7683 0150 0725     		movs	r5, #7
 7684 0152 6EE7     		b	.L824
 7685              	.LVL784:
 7686              	.L867:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7687              		.loc 1 1975 0
 7688 0154 5A6B     		ldr	r2, [r3, #52]
 7689 0156 9102     		lsls	r1, r2, #10
 7690 0158 48BF     		it	mi
 7691 015a 4FF0FF37 		movmi	r7, #-1
 7692 015e 02D4     		bmi	.L845
 7693 0160 0AE0     		b	.L844
 7694              	.LVL785:
 7695              	.L868:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7696              		.loc 1 1975 0 is_stmt 0 discriminator 1
 7697 0162 013F     		subs	r7, r7, #1
 7698 0164 08D0     		beq	.L844
 7699              	.L845:
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 7700              		.loc 1 1977 0 is_stmt 1
 7701 0166 1846     		mov	r0, r3
 7702 0168 FFF7FEFF 		bl	SDIO_ReadFIFO
 7703              	.LVL786:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7704              		.loc 1 1975 0
 7705 016c 2368     		ldr	r3, [r4]
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 7706              		.loc 1 1977 0
 7707 016e 46F8040B 		str	r0, [r6], #4
 7708              	.LVL787:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7709              		.loc 1 1975 0
ARM GAS  /tmp/cc228lSu.s 			page 226


 7710 0172 5A6B     		ldr	r2, [r3, #52]
 7711 0174 9202     		lsls	r2, r2, #10
 7712 0176 F4D4     		bmi	.L868
 7713              	.L844:
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 7714              		.loc 1 1986 0
 7715 0178 9DF84510 		ldrb	r1, [sp, #69]	@ zero_extendqisi2
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7716              		.loc 1 1983 0
 7717 017c 40F2FF52 		movw	r2, #1535
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     } 
 7718              		.loc 1 1988 0
 7719 0180 11F0020F 		tst	r1, #2
 7720 0184 08BF     		it	eq
 7721 0186 2725     		moveq	r5, #39
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7722              		.loc 1 1983 0
 7723 0188 9A63     		str	r2, [r3, #56]
 7724 018a 52E7     		b	.L824
 7725              	.LVL788:
 7726              	.L848:
 7727 018c 0546     		mov	r5, r0
 7728 018e 50E7     		b	.L824
 7729              	.L870:
 7730              		.align	2
 7731              	.L869:
 7732 0190 01FFFF80 		.word	-2130706687
 7733              		.cfi_endproc
 7734              	.LFE147:
 7736              		.section	.text.HAL_SD_SendSDStatus,"ax",%progbits
 7737              		.align	1
 7738              		.p2align 2,,3
 7739              		.global	HAL_SD_SendSDStatus
 7740              		.syntax unified
 7741              		.thumb
 7742              		.thumb_func
 7743              		.fpu fpv4-sp-d16
 7745              	HAL_SD_SendSDStatus:
 7746              	.LFB148:
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 7747              		.loc 1 2022 0
 7748              		.cfi_startproc
 7749              		@ args = 0, pretend = 0, frame = 0
 7750              		@ frame_needed = 0, uses_anonymous_args = 0
 7751              	.LVL789:
 7752 0000 38B5     		push	{r3, r4, r5, lr}
 7753              	.LCFI118:
 7754              		.cfi_def_cfa_offset 16
 7755              		.cfi_offset 3, -16
 7756              		.cfi_offset 4, -12
 7757              		.cfi_offset 5, -8
 7758              		.cfi_offset 14, -4
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 7759              		.loc 1 2022 0
 7760 0002 0446     		mov	r4, r0
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7761              		.loc 1 2029 0
ARM GAS  /tmp/cc228lSu.s 			page 227


 7762 0004 0020     		movs	r0, #0
 7763              	.LVL790:
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 7764              		.loc 1 2022 0
 7765 0006 0D46     		mov	r5, r1
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7766              		.loc 1 2029 0
 7767 0008 FFF7FEFF 		bl	SDIO_GetResponse
 7768              	.LVL791:
 7769 000c 8301     		lsls	r3, r0, #6
 7770 000e 01D5     		bpl	.L874
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7771              		.loc 1 2156 0
 7772 0010 0E20     		movs	r0, #14
 7773 0012 38BD     		pop	{r3, r4, r5, pc}
 7774              	.LVL792:
 7775              	.L874:
 7776 0014 2946     		mov	r1, r5
 7777 0016 2046     		mov	r0, r4
 7778 0018 BDE83840 		pop	{r3, r4, r5, lr}
 7779              	.LCFI119:
 7780              		.cfi_restore 14
 7781              		.cfi_restore 5
 7782              		.cfi_restore 4
 7783              		.cfi_restore 3
 7784              		.cfi_def_cfa_offset 0
 7785              	.LVL793:
 7786 001c FFF7FEBF 		b	HAL_SD_SendSDStatus.part.1
 7787              	.LVL794:
 7788              		.cfi_endproc
 7789              	.LFE148:
 7791              		.section	.text.HAL_SD_GetStatus,"ax",%progbits
 7792              		.align	1
 7793              		.p2align 2,,3
 7794              		.global	HAL_SD_GetStatus
 7795              		.syntax unified
 7796              		.thumb
 7797              		.thumb_func
 7798              		.fpu fpv4-sp-d16
 7800              	HAL_SD_GetStatus:
 7801              	.LFB149:
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
 7802              		.loc 1 2164 0
 7803              		.cfi_startproc
 7804              		@ args = 0, pretend = 0, frame = 24
 7805              		@ frame_needed = 0, uses_anonymous_args = 0
 7806              	.LVL795:
 7807 0000 70B5     		push	{r4, r5, r6, lr}
 7808              	.LCFI120:
 7809              		.cfi_def_cfa_offset 16
 7810              		.cfi_offset 4, -16
 7811              		.cfi_offset 5, -12
 7812              		.cfi_offset 6, -8
 7813              		.cfi_offset 14, -4
 7814              	.LBB438:
 7815              	.LBB439:
 7816              	.LBB440:
ARM GAS  /tmp/cc228lSu.s 			page 228


 7817              	.LBB441:
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 7818              		.loc 1 2673 0
 7819 0002 436A     		ldr	r3, [r0, #36]
 7820              	.LBE441:
 7821              	.LBE440:
 7822              	.LBE439:
 7823              	.LBE438:
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
 7824              		.loc 1 2164 0
 7825 0004 86B0     		sub	sp, sp, #24
 7826              	.LCFI121:
 7827              		.cfi_def_cfa_offset 40
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
 7828              		.loc 1 2164 0
 7829 0006 0446     		mov	r4, r0
 7830              	.LVL796:
 7831              	.LBB452:
 7832              	.LBB450:
 7833              	.LBB448:
 7834              	.LBB446:
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 7835              		.loc 1 2674 0
 7836 0008 0D22     		movs	r2, #13
 7837 000a 0292     		str	r2, [sp, #8]
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 7838              		.loc 1 2673 0
 7839 000c 1B04     		lsls	r3, r3, #16
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7840              		.loc 1 2677 0
 7841 000e 4FF48062 		mov	r2, #1024
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7842              		.loc 1 2678 0
 7843 0012 0068     		ldr	r0, [r0]
 7844              	.LVL797:
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 7845              		.loc 1 2673 0
 7846 0014 0193     		str	r3, [sp, #4]
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7847              		.loc 1 2675 0
 7848 0016 4026     		movs	r6, #64
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 7849              		.loc 1 2676 0
 7850 0018 0025     		movs	r5, #0
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7851              		.loc 1 2678 0
 7852 001a 01A9     		add	r1, sp, #4
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 7853              		.loc 1 2675 0
 7854 001c 0396     		str	r6, [sp, #12]
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 7855              		.loc 1 2676 0
 7856 001e 0495     		str	r5, [sp, #16]
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 7857              		.loc 1 2677 0
 7858 0020 0592     		str	r2, [sp, #20]
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cc228lSu.s 			page 229


 7859              		.loc 1 2678 0
 7860 0022 FFF7FEFF 		bl	SDIO_SendCommand
 7861              	.LVL798:
 7862 0026 2068     		ldr	r0, [r4]
 7863              	.L876:
 7864              	.LBB442:
 7865              	.LBB443:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7866              		.loc 1 2780 0
 7867 0028 436B     		ldr	r3, [r0, #52]
 7868 002a 13F0450F 		tst	r3, #69
 7869 002e FBD0     		beq	.L876
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7870              		.loc 1 2784 0
 7871 0030 436B     		ldr	r3, [r0, #52]
 7872 0032 5A07     		lsls	r2, r3, #29
 7873 0034 04D5     		bpl	.L877
 7874              	.LVL799:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7875              		.loc 1 2788 0
 7876 0036 0423     		movs	r3, #4
 7877 0038 8363     		str	r3, [r0, #56]
 7878              	.LVL800:
 7879              	.L878:
 7880              	.LBE443:
 7881              	.LBE442:
 7882              	.LBE446:
 7883              	.LBE448:
 7884              	.LBE450:
 7885              	.LBE452:
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7886              		.loc 1 2177 0
 7887 003a 0220     		movs	r0, #2
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7888              		.loc 1 2183 0
 7889 003c 06B0     		add	sp, sp, #24
 7890              	.LCFI122:
 7891              		.cfi_remember_state
 7892              		.cfi_def_cfa_offset 16
 7893              		@ sp needed
 7894 003e 70BD     		pop	{r4, r5, r6, pc}
 7895              	.LVL801:
 7896              	.L877:
 7897              	.LCFI123:
 7898              		.cfi_restore_state
 7899              	.LBB453:
 7900              	.LBB451:
 7901              	.LBB449:
 7902              	.LBB447:
 7903              	.LBB445:
 7904              	.LBB444:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7905              		.loc 1 2792 0
 7906 0040 436B     		ldr	r3, [r0, #52]
 7907 0042 DB07     		lsls	r3, r3, #31
 7908 0044 02D5     		bpl	.L879
 7909              	.LVL802:
ARM GAS  /tmp/cc228lSu.s 			page 230


2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 7910              		.loc 1 2796 0
 7911 0046 0123     		movs	r3, #1
 7912 0048 8363     		str	r3, [r0, #56]
 7913 004a F6E7     		b	.L878
 7914              	.LVL803:
 7915              	.L879:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7916              		.loc 1 2802 0
 7917 004c FFF7FEFF 		bl	SDIO_GetCommandResponse
 7918              	.LVL804:
 7919 0050 0D28     		cmp	r0, #13
 7920 0052 F2D1     		bne	.L878
 7921 0054 2046     		mov	r0, r4
 7922 0056 FFF7FEFF 		bl	SD_CmdResp1Error.part.0
 7923              	.LVL805:
 7924              	.LBE444:
 7925              	.LBE445:
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7926              		.loc 1 2683 0
 7927 005a 0028     		cmp	r0, #0
 7928 005c EDD1     		bne	.L878
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 7929              		.loc 1 2689 0
 7930 005e FFF7FEFF 		bl	SDIO_GetResponse
 7931              	.LVL806:
 7932              	.LBE447:
 7933              	.LBE449:
 7934              	.LBE451:
 7935              	.LBE453:
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7936              		.loc 1 2171 0
 7937 0062 C0F34320 		ubfx	r0, r0, #9, #4
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7938              		.loc 1 2173 0
 7939 0066 0438     		subs	r0, r0, #4
 7940 0068 18BF     		it	ne
 7941 006a 0120     		movne	r0, #1
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 7942              		.loc 1 2183 0
 7943 006c 06B0     		add	sp, sp, #24
 7944              	.LCFI124:
 7945              		.cfi_def_cfa_offset 16
 7946              		@ sp needed
 7947 006e 70BD     		pop	{r4, r5, r6, pc}
 7948              		.cfi_endproc
 7949              	.LFE149:
 7951              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 7952              		.align	1
 7953              		.p2align 2,,3
 7954              		.global	HAL_SD_GetCardStatus
 7955              		.syntax unified
 7956              		.thumb
 7957              		.thumb_func
 7958              		.fpu fpv4-sp-d16
 7960              	HAL_SD_GetCardStatus:
 7961              	.LFB150:
ARM GAS  /tmp/cc228lSu.s 			page 231


2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 7962              		.loc 1 2193 0
 7963              		.cfi_startproc
 7964              		@ args = 0, pretend = 0, frame = 64
 7965              		@ frame_needed = 0, uses_anonymous_args = 0
 7966              	.LVL807:
 7967 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7968              	.LCFI125:
 7969              		.cfi_def_cfa_offset 20
 7970              		.cfi_offset 4, -20
 7971              		.cfi_offset 5, -16
 7972              		.cfi_offset 6, -12
 7973              		.cfi_offset 7, -8
 7974              		.cfi_offset 14, -4
 7975 0002 0546     		mov	r5, r0
 7976              	.LVL808:
 7977 0004 91B0     		sub	sp, sp, #68
 7978              	.LCFI126:
 7979              		.cfi_def_cfa_offset 88
 7980              	.LVL809:
 7981              	.LBB456:
 7982              	.LBB457:
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7983              		.loc 1 2029 0
 7984 0006 0020     		movs	r0, #0
 7985              	.LVL810:
 7986              	.LBE457:
 7987              	.LBE456:
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 7988              		.loc 1 2193 0
 7989 0008 0C46     		mov	r4, r1
 7990              	.LBB460:
 7991              	.LBB458:
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 7992              		.loc 1 2029 0
 7993 000a FFF7FEFF 		bl	SDIO_GetResponse
 7994              	.LVL811:
 7995 000e 8301     		lsls	r3, r0, #6
 7996 0010 02D5     		bpl	.L890
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 7997              		.loc 1 2033 0
 7998 0012 0E20     		movs	r0, #14
 7999              	.LVL812:
 8000              	.L887:
 8001              	.LBE458:
 8002              	.LBE460:
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
 8003              		.loc 1 2266 0
 8004 0014 11B0     		add	sp, sp, #68
 8005              	.LCFI127:
 8006              		.cfi_remember_state
 8007              		.cfi_def_cfa_offset 20
 8008              		@ sp needed
 8009 0016 F0BD     		pop	{r4, r5, r6, r7, pc}
 8010              	.LVL813:
 8011              	.L890:
 8012              	.LCFI128:
ARM GAS  /tmp/cc228lSu.s 			page 232


 8013              		.cfi_restore_state
 8014              	.LBB461:
 8015              	.LBB459:
 8016 0018 2846     		mov	r0, r5
 8017 001a 6946     		mov	r1, sp
 8018 001c FFF7FEFF 		bl	HAL_SD_SendSDStatus.part.1
 8019              	.LVL814:
 8020              	.LBE459:
 8021              	.LBE461:
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 8022              		.loc 1 2200 0
 8023 0020 0028     		cmp	r0, #0
 8024 0022 F7D1     		bne	.L887
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->DAT_BUS_WIDTH = (uint8_t)tmp;
 8025              		.loc 1 2206 0
 8026 0024 009A     		ldr	r2, [sp]
 8027              	.LVL815:
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8028              		.loc 1 2219 0
 8029 0026 9DF80C60 		ldrb	r6, [sp, #12]	@ zero_extendqisi2
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)tmp;
 8030              		.loc 1 2234 0
 8031 002a 9DF81C50 		ldrb	r5, [sp, #28]	@ zero_extendqisi2
 8032              	.LVL816:
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->AU_SIZE = (uint8_t)tmp;
 8033              		.loc 1 2246 0
 8034 002e 0A99     		ldr	r1, [sp, #40]
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8035              		.loc 1 2239 0
 8036 0030 9DF820E0 		ldrb	lr, [sp, #32]	@ zero_extendqisi2
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8037              		.loc 1 2243 0
 8038 0034 9DF82470 		ldrb	r7, [sp, #36]	@ zero_extendqisi2
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8039              		.loc 1 2207 0
 8040 0038 C2F38113 		ubfx	r3, r2, #6, #2
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8041              		.loc 1 2211 0
 8042 003c C2F34012 		ubfx	r2, r2, #5, #1
 8043              	.LVL817:
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8044              		.loc 1 2207 0
 8045 0040 2370     		strb	r3, [r4]
 8046              	.LVL818:
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8047              		.loc 1 2211 0
 8048 0042 6270     		strb	r2, [r4, #1]
 8049              	.LVL819:
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8050              		.loc 1 2215 0
 8051 0044 6080     		strh	r0, [r4, #2]	@ movhi
 8052              	.LVL820:
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8053              		.loc 1 2219 0
 8054 0046 6388     		ldrh	r3, [r4, #2]
 8055 0048 9BB2     		uxth	r3, r3
 8056 004a 3343     		orrs	r3, r3, r6
ARM GAS  /tmp/cc228lSu.s 			page 233


 8057 004c 6380     		strh	r3, [r4, #2]	@ movhi
 8058              	.LVL821:
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8059              		.loc 1 2223 0
 8060 004e 6060     		str	r0, [r4, #4]
 8061              	.LVL822:
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8062              		.loc 1 2227 0
 8063 0050 6368     		ldr	r3, [r4, #4]
 8064 0052 6360     		str	r3, [r4, #4]
 8065              	.LVL823:
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8066              		.loc 1 2231 0
 8067 0054 6368     		ldr	r3, [r4, #4]
 8068 0056 6360     		str	r3, [r4, #4]
 8069              	.LVL824:
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8070              		.loc 1 2235 0
 8071 0058 6268     		ldr	r2, [r4, #4]
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8072              		.loc 1 2255 0
 8073 005a 9DF83060 		ldrb	r6, [sp, #48]	@ zero_extendqisi2
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8074              		.loc 1 2235 0
 8075 005e 2A43     		orrs	r2, r2, r5
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8076              		.loc 1 2247 0
 8077 0060 C1F30311 		ubfx	r1, r1, #4, #4
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8078              		.loc 1 2235 0
 8079 0064 6260     		str	r2, [r4, #4]
 8080              	.LVL825:
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8081              		.loc 1 2239 0
 8082 0066 84F808E0 		strb	lr, [r4, #8]
 8083              	.LVL826:
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8084              		.loc 1 2243 0
 8085 006a 6772     		strb	r7, [r4, #9]
 8086              	.LVL827:
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8087              		.loc 1 2247 0
 8088 006c A172     		strb	r1, [r4, #10]
 8089              	.LVL828:
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8090              		.loc 1 2251 0
 8091 006e A081     		strh	r0, [r4, #12]	@ movhi
 8092              	.LVL829:
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8093              		.loc 1 2255 0
 8094 0070 A389     		ldrh	r3, [r4, #12]
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_TIMEOUT = (uint8_t)tmp;
 8095              		.loc 1 2258 0
 8096 0072 0D9A     		ldr	r2, [sp, #52]
 8097              	.LVL830:
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8098              		.loc 1 2255 0
ARM GAS  /tmp/cc228lSu.s 			page 234


 8099 0074 9BB2     		uxth	r3, r3
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8100              		.loc 1 2259 0
 8101 0076 C2F38501 		ubfx	r1, r2, #2, #6
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8102              		.loc 1 2255 0
 8103 007a 3343     		orrs	r3, r3, r6
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8104              		.loc 1 2263 0
 8105 007c 02F00302 		and	r2, r2, #3
 8106              	.LVL831:
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8107              		.loc 1 2255 0
 8108 0080 A381     		strh	r3, [r4, #12]	@ movhi
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8109              		.loc 1 2259 0
 8110 0082 A173     		strb	r1, [r4, #14]
 8111              	.LVL832:
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 8112              		.loc 1 2263 0
 8113 0084 E273     		strb	r2, [r4, #15]
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
 8114              		.loc 1 2266 0
 8115 0086 11B0     		add	sp, sp, #68
 8116              	.LCFI129:
 8117              		.cfi_def_cfa_offset 20
 8118              		@ sp needed
 8119 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 8120              		.cfi_endproc
 8121              	.LFE150:
 8123 008a 00BF     		.text
 8124              	.Letext0:
 8125              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 8126              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 8127              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 8128              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 8129              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 8130              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 8131              		.file 8 "/usr/arm-none-eabi/include/sys/lock.h"
 8132              		.file 9 "/usr/arm-none-eabi/include/sys/_types.h"
 8133              		.file 10 "/usr/lib/gcc/arm-none-eabi/6.3.0/include/stddef.h"
 8134              		.file 11 "/usr/arm-none-eabi/include/sys/reent.h"
 8135              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 8136              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 8137              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_sdmmc.h"
 8138              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_sd.h"
 8139              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/cc228lSu.s 			page 235


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_hal_sd.c
     /tmp/cc228lSu.s:16     .text.SD_IsCardProgramming:0000000000000000 $t
     /tmp/cc228lSu.s:23     .text.SD_IsCardProgramming:0000000000000000 SD_IsCardProgramming
     /tmp/cc228lSu.s:326    .text.SD_IsCardProgramming:0000000000000148 $d
     /tmp/cc228lSu.s:331    .text.SD_CmdResp1Error.part.0:0000000000000000 $t
     /tmp/cc228lSu.s:338    .text.SD_CmdResp1Error.part.0:0000000000000000 SD_CmdResp1Error.part.0
     /tmp/cc228lSu.s:543    .text.SD_CmdResp1Error.part.0:00000000000000b8 $d
     /tmp/cc228lSu.s:548    .text.SD_CmdResp1Error:0000000000000000 $t
     /tmp/cc228lSu.s:555    .text.SD_CmdResp1Error:0000000000000000 SD_CmdResp1Error
     /tmp/cc228lSu.s:632    .text.HAL_SD_SendSDStatus.part.1:0000000000000000 $t
     /tmp/cc228lSu.s:639    .text.HAL_SD_SendSDStatus.part.1:0000000000000000 HAL_SD_SendSDStatus.part.1
     /tmp/cc228lSu.s:1035   .text.SD_FindSCR:0000000000000000 $t
     /tmp/cc228lSu.s:1042   .text.SD_FindSCR:0000000000000000 SD_FindSCR
     /tmp/cc228lSu.s:1415   .text.HAL_SD_MspInit:0000000000000000 $t
     /tmp/cc228lSu.s:1423   .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
     /tmp/cc228lSu.s:1434   .text.HAL_SD_MspDeInit:0000000000000000 $t
     /tmp/cc228lSu.s:1442   .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
     /tmp/cc228lSu.s:1453   .text.HAL_SD_DeInit:0000000000000000 $t
     /tmp/cc228lSu.s:1461   .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
     /tmp/cc228lSu.s:1497   .text.HAL_SD_ReadBlocks:0000000000000000 $t
     /tmp/cc228lSu.s:1505   .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
     /tmp/cc228lSu.s:2105   .text.HAL_SD_WriteBlocks:0000000000000000 $t
     /tmp/cc228lSu.s:2113   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
     /tmp/cc228lSu.s:2778   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
     /tmp/cc228lSu.s:2786   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
     /tmp/cc228lSu.s:3151   .text.HAL_SD_ReadBlocks_DMA:0000000000000184 $d
     /tmp/cc228lSu.s:5089   .text.SD_DMA_RxCplt:0000000000000000 SD_DMA_RxCplt
     /tmp/cc228lSu.s:5151   .text.SD_DMA_RxError:0000000000000000 SD_DMA_RxError
     /tmp/cc228lSu.s:3160   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
     /tmp/cc228lSu.s:3168   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
     /tmp/cc228lSu.s:3525   .text.HAL_SD_WriteBlocks_DMA:0000000000000178 $d
     /tmp/cc228lSu.s:5201   .text.SD_DMA_TxCplt:0000000000000000 SD_DMA_TxCplt
     /tmp/cc228lSu.s:5265   .text.SD_DMA_TxError:0000000000000000 SD_DMA_TxError
     /tmp/cc228lSu.s:3534   .text.HAL_SD_CheckReadOperation:0000000000000000 $t
     /tmp/cc228lSu.s:3542   .text.HAL_SD_CheckReadOperation:0000000000000000 HAL_SD_CheckReadOperation
     /tmp/cc228lSu.s:3828   .text.HAL_SD_CheckWriteOperation:0000000000000000 $t
     /tmp/cc228lSu.s:3836   .text.HAL_SD_CheckWriteOperation:0000000000000000 HAL_SD_CheckWriteOperation
     /tmp/cc228lSu.s:4237   .text.HAL_SD_Erase:0000000000000000 $t
     /tmp/cc228lSu.s:4245   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
     /tmp/cc228lSu.s:4864   .text.HAL_SD_Erase:00000000000002a0 $d
     /tmp/cc228lSu.s:4872   .text.HAL_SD_XferCpltCallback:0000000000000000 $t
     /tmp/cc228lSu.s:4880   .text.HAL_SD_XferCpltCallback:0000000000000000 HAL_SD_XferCpltCallback
     /tmp/cc228lSu.s:4891   .text.HAL_SD_XferErrorCallback:0000000000000000 $t
     /tmp/cc228lSu.s:4899   .text.HAL_SD_XferErrorCallback:0000000000000000 HAL_SD_XferErrorCallback
     /tmp/cc228lSu.s:4910   .text.HAL_SD_IRQHandler:0000000000000000 $t
     /tmp/cc228lSu.s:4918   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
     /tmp/cc228lSu.s:5063   .text.HAL_SD_DMA_RxCpltCallback:0000000000000000 $t
     /tmp/cc228lSu.s:5071   .text.HAL_SD_DMA_RxCpltCallback:0000000000000000 HAL_SD_DMA_RxCpltCallback
     /tmp/cc228lSu.s:5082   .text.SD_DMA_RxCplt:0000000000000000 $t
     /tmp/cc228lSu.s:5125   .text.HAL_SD_DMA_RxErrorCallback:0000000000000000 $t
     /tmp/cc228lSu.s:5133   .text.HAL_SD_DMA_RxErrorCallback:0000000000000000 HAL_SD_DMA_RxErrorCallback
     /tmp/cc228lSu.s:5144   .text.SD_DMA_RxError:0000000000000000 $t
     /tmp/cc228lSu.s:5175   .text.HAL_SD_DMA_TxCpltCallback:0000000000000000 $t
     /tmp/cc228lSu.s:5183   .text.HAL_SD_DMA_TxCpltCallback:0000000000000000 HAL_SD_DMA_TxCpltCallback
     /tmp/cc228lSu.s:5194   .text.SD_DMA_TxCplt:0000000000000000 $t
     /tmp/cc228lSu.s:5237   .text.HAL_SD_DMA_TxErrorCallback:0000000000000000 $t
ARM GAS  /tmp/cc228lSu.s 			page 236


     /tmp/cc228lSu.s:5245   .text.HAL_SD_DMA_TxErrorCallback:0000000000000000 HAL_SD_DMA_TxErrorCallback
     /tmp/cc228lSu.s:5258   .text.SD_DMA_TxError:0000000000000000 $t
     /tmp/cc228lSu.s:5289   .text.HAL_SD_Get_CardInfo:0000000000000000 $t
     /tmp/cc228lSu.s:5297   .text.HAL_SD_Get_CardInfo:0000000000000000 HAL_SD_Get_CardInfo
     /tmp/cc228lSu.s:5749   .text.HAL_SD_Init:0000000000000000 $t
     /tmp/cc228lSu.s:5757   .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
     /tmp/cc228lSu.s:6362   .text.HAL_SD_Init:00000000000002e0 $d
     /tmp/cc228lSu.s:6374   .text.HAL_SD_Init:00000000000002ec $t
     /tmp/cc228lSu.s:6864   .text.HAL_SD_WideBusOperation_Config:0000000000000000 $t
     /tmp/cc228lSu.s:6872   .text.HAL_SD_WideBusOperation_Config:0000000000000000 HAL_SD_WideBusOperation_Config
     /tmp/cc228lSu.s:7214   .text.HAL_SD_StopTransfer:0000000000000000 $t
     /tmp/cc228lSu.s:7222   .text.HAL_SD_StopTransfer:0000000000000000 HAL_SD_StopTransfer
     /tmp/cc228lSu.s:7346   .text.HAL_SD_HighSpeed:0000000000000000 $t
     /tmp/cc228lSu.s:7354   .text.HAL_SD_HighSpeed:0000000000000000 HAL_SD_HighSpeed
     /tmp/cc228lSu.s:7732   .text.HAL_SD_HighSpeed:0000000000000190 $d
     /tmp/cc228lSu.s:7737   .text.HAL_SD_SendSDStatus:0000000000000000 $t
     /tmp/cc228lSu.s:7745   .text.HAL_SD_SendSDStatus:0000000000000000 HAL_SD_SendSDStatus
     /tmp/cc228lSu.s:7792   .text.HAL_SD_GetStatus:0000000000000000 $t
     /tmp/cc228lSu.s:7800   .text.HAL_SD_GetStatus:0000000000000000 HAL_SD_GetStatus
     /tmp/cc228lSu.s:7952   .text.HAL_SD_GetCardStatus:0000000000000000 $t
     /tmp/cc228lSu.s:7960   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
SDIO_SendCommand
SDIO_GetCommandResponse
SDIO_GetResponse
SDIO_DataConfig
SDIO_ReadFIFO
SDIO_PowerState_OFF
SDIO_WriteFIFO
HAL_DMA_Start_IT
HAL_DMA_Abort
SDIO_Init
SDIO_PowerState_ON
HAL_Delay
SDIO_GetPowerState
memset
